(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9215],{9076:function(e,r,t){Promise.resolve().then(t.bind(t,5434))},5434:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return b}});var i=t(7437),o=t(2265),n=t(4033),s=t(8203),l=t(5750),d=t(6141),a=t(2442),c=t(4477),m=t(8228),h=t(5022),p=t(5554),g=t(1738),x=t(1981),u=t(5589);let f=[{id:"credit_card",type:"credit_card",name:"信用卡/金融卡",icon:"\uD83D\uDCB3"},{id:"apple_pay",type:"apple_pay",name:"Apple Pay",icon:"\uD83C\uDF4E"},{id:"google_pay",type:"google_pay",name:"Google Pay",icon:"\uD83C\uDD56"},{id:"line_pay",type:"line_pay",name:"LINE Pay",icon:"\uD83D\uDCAC"}];function y(e){let{amount:r,currency:t="TWD",onPaymentSuccess:n,onPaymentError:s,isLoading:l=!1,className:d=""}=e,[c,m]=(0,o.useState)(f[0]),[h,p]=(0,o.useState)({cardNumber:"",expiryDate:"",cvv:"",cardholderName:"",billingAddress:{country:"TW",city:"",address:"",postalCode:""}}),[y,b]=(0,o.useState)({}),[j,v]=(0,o.useState)(!1),w=e=>{let r=e.replace(/\s+/g,"").replace(/[^0-9]/gi,""),t=r.match(/\d{4,16}/g),i=t&&t[0]||"",o=[];for(let e=0,r=i.length;e<r;e+=4)o.push(i.substring(e,e+4));return o.length?o.join(" "):r},S=e=>{let r=e.replace(/\s+/g,"").replace(/[^0-9]/gi,"");return r.length>=2?r.substring(0,2)+"/"+r.substring(2,4):r},C=()=>{let e={};return"credit_card"!==c.type||((!h.cardNumber||h.cardNumber.replace(/\s/g,"").length<16)&&(e.cardNumber="請輸入有效的卡號"),h.expiryDate&&/^\d{2}\/\d{2}$/.test(h.expiryDate)||(e.expiryDate="請輸入有效的到期日 (MM/YY)"),(!h.cvv||h.cvv.length<3)&&(e.cvv="請輸入有效的安全碼"),h.cardholderName.trim()||(e.cardholderName="請輸入持卡人姓名")),b(e),0===Object.keys(e).length},k=(e,r)=>{if(p(t=>({...t,[e]:r})),y[e]){let r={...y};delete r[e],b(r)}},N=async()=>{if(C()){v(!0);try{await new Promise(e=>setTimeout(e,2e3));let e="tx_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9));n(e)}catch(e){s("支付處理失敗，請稍後再試")}finally{v(!1)}}};return(0,i.jsxs)("div",{className:d,children:[(0,i.jsx)("div",{style:{backgroundColor:"#f8fafc",padding:"1.5rem",borderRadius:"0.75rem",marginBottom:"2rem",border:"1px solid #e2e8f0"},children:(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,i.jsx)("span",{style:{fontSize:"1.125rem",fontWeight:"500",color:"#475569"},children:"應付金額"}),(0,i.jsxs)("span",{style:{fontSize:"2rem",fontWeight:"700",color:"#0f172a"},children:[t," ",r.toLocaleString()]})]})}),(0,i.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,i.jsx)("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#0f172a",marginBottom:"1rem"},children:"選擇付款方式"}),(0,i.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"0.75rem"},children:f.map(e=>(0,i.jsxs)("button",{onClick:()=>m(e),style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"1rem",border:"2px solid ".concat(c.id===e.id?"#3b82f6":"#e2e8f0"),borderRadius:"0.5rem",backgroundColor:c.id===e.id?"#eff6ff":"white",cursor:"pointer",transition:"all 0.2s",fontSize:"0.875rem",fontWeight:"500",color:"#374151"},className:"hover:border-blue-300",children:[(0,i.jsx)("span",{style:{fontSize:"1.25rem"},children:e.icon}),(0,i.jsx)("span",{children:e.name}),c.id===e.id&&(0,i.jsx)(a.Z,{style:{width:"1rem",height:"1rem",color:"#3b82f6",marginLeft:"auto"}})]},e.id))})]}),"credit_card"===c.type&&(0,i.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,i.jsxs)("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#0f172a",marginBottom:"1rem"},children:[(0,i.jsx)(g.Z,{style:{width:"1.25rem",height:"1.25rem",display:"inline",marginRight:"0.5rem"}}),"信用卡資訊"]}),(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"卡號 *"}),(0,i.jsx)("input",{type:"text",value:h.cardNumber,onChange:e=>k("cardNumber",w(e.target.value)),placeholder:"1234 5678 9012 3456",maxLength:19,style:{width:"100%",padding:"0.75rem",border:"1px solid ".concat(y.cardNumber?"#ef4444":"#d1d5db"),borderRadius:"0.5rem",fontSize:"1rem",outline:"none",transition:"all 0.2s"},className:"focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}),y.cardNumber&&(0,i.jsxs)("p",{style:{marginTop:"0.25rem",fontSize:"0.875rem",color:"#ef4444",display:"flex",alignItems:"center",gap:"0.25rem"},children:[(0,i.jsx)(x.Z,{style:{width:"0.875rem",height:"0.875rem"}}),y.cardNumber]})]}),(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"到期日 *"}),(0,i.jsx)("input",{type:"text",value:h.expiryDate,onChange:e=>k("expiryDate",S(e.target.value)),placeholder:"MM/YY",maxLength:5,style:{width:"100%",padding:"0.75rem",border:"1px solid ".concat(y.expiryDate?"#ef4444":"#d1d5db"),borderRadius:"0.5rem",fontSize:"1rem",outline:"none",transition:"all 0.2s"},className:"focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}),y.expiryDate&&(0,i.jsx)("p",{style:{marginTop:"0.25rem",fontSize:"0.875rem",color:"#ef4444"},children:y.expiryDate})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"安全碼 *"}),(0,i.jsx)("input",{type:"text",value:h.cvv,onChange:e=>k("cvv",e.target.value.replace(/\D/g,"").slice(0,4)),placeholder:"123",maxLength:4,style:{width:"100%",padding:"0.75rem",border:"1px solid ".concat(y.cvv?"#ef4444":"#d1d5db"),borderRadius:"0.5rem",fontSize:"1rem",outline:"none",transition:"all 0.2s"},className:"focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}),y.cvv&&(0,i.jsx)("p",{style:{marginTop:"0.25rem",fontSize:"0.875rem",color:"#ef4444"},children:y.cvv})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"持卡人姓名 *"}),(0,i.jsx)("input",{type:"text",value:h.cardholderName,onChange:e=>k("cardholderName",e.target.value),placeholder:"如卡片上所示",style:{width:"100%",padding:"0.75rem",border:"1px solid ".concat(y.cardholderName?"#ef4444":"#d1d5db"),borderRadius:"0.5rem",fontSize:"1rem",outline:"none",transition:"all 0.2s"},className:"focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}),y.cardholderName&&(0,i.jsx)("p",{style:{marginTop:"0.25rem",fontSize:"0.875rem",color:"#ef4444"},children:y.cardholderName})]})]})]}),"credit_card"!==c.type&&(0,i.jsxs)("div",{style:{backgroundColor:"#f8fafc",padding:"2rem",borderRadius:"0.75rem",marginBottom:"2rem",textAlign:"center"},children:[(0,i.jsx)("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:c.icon}),(0,i.jsx)("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#0f172a",marginBottom:"0.5rem"},children:c.name}),(0,i.jsxs)("p",{style:{color:"#64748b"},children:["點擊「確認付款」後將跳轉到 ",c.name," 付款頁面"]})]}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"1rem",backgroundColor:"#f0fdf4",borderRadius:"0.5rem",marginBottom:"2rem",border:"1px solid #bbf7d0"},children:[(0,i.jsx)(u.Z,{style:{width:"1.25rem",height:"1.25rem",color:"#16a34a"}}),(0,i.jsx)("span",{style:{fontSize:"0.875rem",color:"#166534",fontWeight:"500"},children:"您的付款資訊受到 SSL 加密保護"})]}),(0,i.jsx)("button",{onClick:N,disabled:l||j,style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",padding:"1rem 1.5rem",backgroundColor:l||j?"#9ca3af":"#2563eb",color:"white",border:"none",borderRadius:"0.75rem",fontSize:"1.125rem",fontWeight:"600",cursor:l||j?"not-allowed":"pointer",transition:"all 0.2s",boxShadow:l||j?"none":"0 10px 15px -3px rgba(0, 0, 0, 0.1)"},className:l||j?"":"hover:bg-blue-700 hover:shadow-lg",children:j?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{style:{width:"1.25rem",height:"1.25rem",border:"2px solid transparent",borderTop:"2px solid white",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"處理中..."]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.Z,{style:{width:"1.25rem",height:"1.25rem"}}),"確認付款 ",t," ",r.toLocaleString()]})})]})}function b(){var e,r,t;let g=(0,n.useRouter)(),{isAuthenticated:x,user:u}=(0,m.a)(),{currentBooking:f,bookingStep:b,setBookingStep:j,updateBookingDetails:v,createBooking:w,isLoading:S}=(0,c.v)();(0,o.useEffect)(()=>{if(!x){g.push("/login?redirect=/booking");return}},[x,g]);let[C,k]=(0,o.useState)({name:(null==u?void 0:u.name)||"",email:(null==u?void 0:u.email)||"",phone:(null==u?void 0:null===(e=u.profile)||void 0===e?void 0:e.phone)||""});(0,o.useEffect)(()=>{if(u){var e;k({name:u.name||"",email:u.email||"",phone:(null===(e=u.profile)||void 0===e?void 0:e.phone)||""})}},[u]);let[N,z]=(0,o.useState)(""),B={id:(null==f?void 0:f.serviceId)||"1",title:"台北101 & 信義區深度導覽",price:800,duration:4,guide:{name:"小美",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=200&h=200&fit=crop&crop=face"}},W=async()=>{try{await w(),j("payment")}catch(e){}},F=async e=>{try{j("confirmation")}catch(e){}};return S?(0,i.jsx)("div",{style:{minHeight:"100vh",background:"linear-gradient(to bottom right, #dbeafe, #ffffff, #e0e7ff)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,i.jsx)(h.gb,{variant:"spinner",size:"lg"})}):f?(0,i.jsxs)("div",{style:{minHeight:"100vh",background:"linear-gradient(to bottom right, #dbeafe, #ffffff, #e0e7ff)"},children:[(0,i.jsx)(p.L6,{}),(0,i.jsx)("div",{style:{backgroundColor:"white",borderBottom:"1px solid #e5e7eb",marginTop:"4rem",borderRadius:"1rem 1rem 0 0"},children:(0,i.jsx)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"1.5rem"},children:(0,i.jsx)("h1",{style:{fontSize:"1.875rem",fontWeight:"700",color:"#111827"},children:"確認預訂"})})}),(0,i.jsx)("div",{style:{backgroundColor:"white",borderBottom:"1px solid #e5e7eb"},children:(0,i.jsx)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"1rem"},className:"sm:p-6",children:(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"1rem",flexWrap:"wrap"},className:"sm:gap-8 sm:flex-nowrap",children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",color:"details"===b?"#FF5A5F":"#9ca3af",fontSize:"0.875rem"},className:"sm:gap-2 sm:text-base",children:[(0,i.jsx)("div",{style:{width:"1.5rem",height:"1.5rem",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",fontWeight:"500",backgroundColor:"details"===b?"#FF5A5F":"#e5e7eb",color:"details"===b?"white":"#6b7280"},className:"sm:w-8 sm:h-8 sm:text-sm",children:"1"}),(0,i.jsx)("span",{className:"hidden sm:inline",children:"預訂詳情"})]}),(0,i.jsx)("div",{style:{width:"2rem",height:"2px",backgroundColor:"details"!==b?"#FF5A5F":"#e5e7eb"},className:"sm:w-16"}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",color:"payment"===b?"#FF5A5F":"#9ca3af",fontSize:"0.875rem"},className:"sm:gap-2 sm:text-base",children:[(0,i.jsx)("div",{style:{width:"1.5rem",height:"1.5rem",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",fontWeight:"500",backgroundColor:"payment"===b?"#FF5A5F":"#e5e7eb",color:"payment"===b?"white":"#6b7280"},className:"sm:w-8 sm:h-8 sm:text-sm",children:"2"}),(0,i.jsx)("span",{className:"hidden sm:inline",children:"付款方式"})]}),(0,i.jsx)("div",{style:{width:"2rem",height:"2px",backgroundColor:"confirmation"===b?"#FF5A5F":"#e5e7eb"},className:"sm:w-16"}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",color:"confirmation"===b?"#FF5A5F":"#9ca3af",fontSize:"0.875rem"},className:"sm:gap-2 sm:text-base",children:[(0,i.jsx)("div",{style:{width:"1.5rem",height:"1.5rem",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.75rem",fontWeight:"500",backgroundColor:"confirmation"===b?"#FF5A5F":"#e5e7eb",color:"confirmation"===b?"white":"#6b7280"},className:"sm:w-8 sm:h-8 sm:text-sm",children:"3"}),(0,i.jsx)("span",{className:"hidden sm:inline",children:"預訂確認"})]})]})})}),(0,i.jsx)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"1rem"},className:"sm:p-8",children:(0,i.jsxs)("div",{style:{display:"grid",gap:"2rem"},className:"lg:grid-cols-[2fr_1fr]",children:[(0,i.jsxs)("div",{style:{order:2},className:"lg:order-1",children:["details"===b&&(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[(0,i.jsxs)("div",{style:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"1rem",padding:"1.5rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)"},children:[(0,i.jsx)("h2",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#111827",marginBottom:"1.5rem"},children:"預訂詳情"}),(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",marginBottom:"1.5rem"},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",color:"#374151"},children:[(0,i.jsx)(s.Z,{style:{width:"1.25rem",height:"1.25rem",color:"#9ca3af"}}),(0,i.jsx)("span",{children:null===(r=f.date)||void 0===r?void 0:r.toLocaleDateString("zh-TW")})]}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",color:"#374151"},children:[(0,i.jsx)(l.Z,{style:{width:"1.25rem",height:"1.25rem",color:"#9ca3af"}}),(0,i.jsxs)("span",{children:[f.guests," 位旅客"]})]}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",color:"#374151"},children:[(0,i.jsx)(d.Z,{style:{width:"1.25rem",height:"1.25rem",color:"#9ca3af"}}),(0,i.jsxs)("span",{children:[f.duration," 小時"]})]})]})]}),(0,i.jsxs)("div",{style:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"1rem",padding:"1.5rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)"},children:[(0,i.jsx)("h2",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#111827",marginBottom:"1.5rem"},children:"聯絡資訊"}),(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"1rem",marginBottom:"1.5rem"},className:"sm:grid-cols-2",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"姓名 *"}),(0,i.jsx)("input",{type:"text",value:C.name,onChange:e=>k(r=>({...r,name:e.target.value})),style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem"},required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"電子郵件 *"}),(0,i.jsx)("input",{type:"email",value:C.email,onChange:e=>k(r=>({...r,email:e.target.value})),style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem"},required:!0})]}),(0,i.jsxs)("div",{className:"sm:col-span-2",children:[(0,i.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"手機號碼 *"}),(0,i.jsx)("input",{type:"tel",value:C.phone,onChange:e=>k(r=>({...r,phone:e.target.value})),style:{width:"100%",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem"},required:!0})]})]})]}),(0,i.jsxs)("div",{style:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"1rem",padding:"1.5rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)"},children:[(0,i.jsx)("h2",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#111827",marginBottom:"1.5rem"},children:"特殊需求"}),(0,i.jsx)("textarea",{value:N,onChange:e=>z(e.target.value),style:{width:"100%",minHeight:"100px",padding:"0.75rem",border:"1px solid #d1d5db",borderRadius:"0.5rem",fontSize:"0.875rem",resize:"vertical"},placeholder:"有任何特殊需求或備註嗎？（選填）"})]}),(0,i.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"1rem"},children:(0,i.jsx)("button",{onClick:()=>{"details"===b&&(v({contactInfo:C,specialRequests:N}),j("payment"))},disabled:!C.name||!C.email||!C.phone,style:{padding:"0.75rem 2rem",backgroundColor:C.name&&C.email&&C.phone?"#FF5A5F":"#d1d5db",color:"white",border:"none",borderRadius:"0.5rem",cursor:C.name&&C.email&&C.phone?"pointer":"not-allowed",fontWeight:"500",opacity:C.name&&C.email&&C.phone?1:.5},children:"繼續"})})]}),"payment"===b&&(0,i.jsx)("div",{style:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"1rem",padding:"1.5rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)"},children:(0,i.jsx)(y,{amount:B.price*((null==f?void 0:f.duration)||4)*((null==f?void 0:f.guests)||2)+Math.round(B.price*((null==f?void 0:f.duration)||4)*((null==f?void 0:f.guests)||2)*.1),currency:"NT$",onPaymentSuccess:F,onPaymentError:e=>{},isLoading:S})}),"confirmation"!==b&&(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",marginTop:"1rem"},className:"sm:flex-row sm:justify-between",children:[(0,i.jsx)("button",{onClick:()=>j("details"),style:{padding:"0.75rem 2rem",backgroundColor:"#f3f4f6",color:"#374151",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"500"},children:"返回"}),(0,i.jsx)("button",{onClick:W,style:{padding:"0.75rem 2rem",backgroundColor:"#FF5A5F",color:"white",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"500"},children:"確認付款"})]}),"confirmation"===b&&(0,i.jsx)("div",{children:(0,i.jsxs)("div",{style:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"1rem",padding:"2rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)",textAlign:"center"},children:[(0,i.jsx)("div",{style:{width:"4rem",height:"4rem",backgroundColor:"#dcfce7",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem"},children:(0,i.jsx)(a.Z,{style:{width:"2rem",height:"2rem",color:"#16a34a"}})}),(0,i.jsx)("h2",{style:{fontSize:"1.5rem",fontWeight:"600",color:"#111827",marginBottom:"0.5rem"},children:"預訂成功！"}),(0,i.jsx)("p",{style:{color:"#6b7280",marginBottom:"1.5rem"},children:"您的預訂已確認，地陪將在 24 小時內與您聯繫。"}),(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",alignItems:"center"},className:"sm:flex-row sm:justify-center",children:[(0,i.jsx)("button",{onClick:()=>g.push("/profile"),style:{padding:"0.75rem 1.5rem",backgroundColor:"#f3f4f6",color:"#374151",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"500"},children:"查看預訂記錄"}),(0,i.jsx)("button",{onClick:()=>g.push("/search"),style:{padding:"0.75rem 1.5rem",backgroundColor:"#FF5A5F",color:"white",border:"none",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"500"},children:"繼續探索"})]})]})})]}),(0,i.jsx)("div",{style:{order:1},className:"lg:order-2",children:(0,i.jsxs)("div",{style:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"1rem",padding:"1.5rem",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)"},className:"lg:sticky lg:top-24",children:[(0,i.jsx)("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#111827",marginBottom:"1rem"},children:"預訂摘要"}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"0.75rem",marginBottom:"1.5rem"},children:[(0,i.jsx)("img",{src:B.guide.avatar,alt:B.guide.name,style:{width:"3rem",height:"3rem",borderRadius:"0.5rem",objectFit:"cover"}}),(0,i.jsxs)("div",{style:{flex:1},children:[(0,i.jsx)("h4",{style:{fontWeight:"500",color:"#111827",fontSize:"0.875rem"},children:B.title}),(0,i.jsxs)("p",{style:{fontSize:"0.875rem",color:"#6b7280"},children:["地陪：",B.guide.name]})]})]}),(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem",marginBottom:"1.5rem",paddingBottom:"1.5rem",borderBottom:"1px solid #e5e7eb"},children:[(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.875rem"},children:[(0,i.jsx)("span",{style:{color:"#6b7280"},children:"日期："}),(0,i.jsx)("span",{style:{color:"#111827"},children:null===(t=f.date)||void 0===t?void 0:t.toLocaleDateString("zh-TW")})]}),(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.875rem"},children:[(0,i.jsx)("span",{style:{color:"#6b7280"},children:"人數："}),(0,i.jsxs)("span",{style:{color:"#111827"},children:[f.guests," 位"]})]}),(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.875rem"},children:[(0,i.jsx)("span",{style:{color:"#6b7280"},children:"時長："}),(0,i.jsxs)("span",{style:{color:"#111827"},children:[f.duration," 小時"]})]})]}),(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem",marginBottom:"1.5rem"},children:[(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.875rem"},children:[(0,i.jsx)("span",{style:{color:"#6b7280"},children:"服務費用："}),(0,i.jsxs)("span",{style:{color:"#111827"},children:["NT$ ",(B.price*(f.duration||1)).toLocaleString()]})]}),(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.875rem"},children:[(0,i.jsx)("span",{style:{color:"#6b7280"},children:"平台服務費："}),(0,i.jsxs)("span",{style:{color:"#111827"},children:["NT$ ",Math.round(B.price*(f.duration||1)*.1).toLocaleString()]})]})]}),(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"1.125rem",fontWeight:"600",color:"#111827",paddingTop:"1rem",borderTop:"1px solid #e5e7eb"},children:[(0,i.jsx)("span",{children:"總計："}),(0,i.jsxs)("span",{children:["NT$ ",Math.round(B.price*(f.duration||1)*1.1).toLocaleString()]})]})]})})]})})]}):(0,i.jsx)("div",{style:{minHeight:"100vh",background:"linear-gradient(to bottom right, #dbeafe, #ffffff, #e0e7ff)",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,i.jsxs)("div",{style:{textAlign:"center"},children:[(0,i.jsx)("h2",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#111827",marginBottom:"1rem"},children:"沒有找到預訂資料"}),(0,i.jsx)("button",{onClick:()=>g.push("/search"),style:{padding:"0.75rem 1.5rem",backgroundColor:"#FF5A5F",color:"white",borderRadius:"0.5rem",border:"none",cursor:"pointer",fontWeight:"500"},children:"回到搜尋"})]})})}},5554:function(e,r,t){"use strict";t.d(r,{L6:function(){return d},d8:function(){return s},us:function(){return l}});var i=t(7437),o=t(4033),n=t(1291);function s(e){let{showBackButton:r=!1,backButtonText:t="返回",showHomeButton:s=!0,homeButtonText:l="回到首頁",customBackAction:d}=e,a=(0,o.useRouter)();return(0,i.jsxs)(i.Fragment,{children:[s&&(0,i.jsx)("div",{style:{position:"absolute",top:"1rem",left:"1rem",zIndex:50},className:"sm:top-8 sm:left-8",children:(0,i.jsxs)("button",{onClick:()=>{a.push("/")},style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0.75rem",backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)",borderRadius:"0.5rem",border:"1px solid rgba(255, 255, 255, 0.3)",cursor:"pointer",transition:"all 0.2s",fontSize:"0.75rem",fontWeight:"500",color:"#374151",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)"},className:"hover:bg-white hover:shadow-md sm:text-sm sm:px-4 sm:py-3",children:[(0,i.jsxs)("span",{className:"hidden sm:inline",children:["← ",l]}),(0,i.jsx)("span",{className:"sm:hidden",children:"← 首頁"})]})}),r&&(0,i.jsx)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"1rem 1.5rem",paddingTop:s?"4rem":"1rem"},children:(0,i.jsxs)("button",{onClick:()=>{d?d():a.back()},style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#6b7280",background:"none",border:"none",cursor:"pointer",fontSize:"0.875rem",transition:"color 0.2s",padding:"0.5rem 0"},className:"hover:text-gray-900",children:[(0,i.jsx)(n.Z,{style:{width:"1.25rem",height:"1.25rem"}}),(0,i.jsx)("span",{children:t})]})})]})}function l(e){let{text:r="回到首頁"}=e;return(0,i.jsx)(s,{showHomeButton:!0,homeButtonText:r,showBackButton:!1})}function d(e){let{backButtonText:r="返回",homeButtonText:t="回到首頁",customBackAction:o}=e;return(0,i.jsx)(s,{showHomeButton:!0,showBackButton:!0,backButtonText:r,homeButtonText:t,customBackAction:o})}}},function(e){e.O(0,[1216,1424,1744],function(){return e(e.s=9076)}),_N_E=e.O()}]);