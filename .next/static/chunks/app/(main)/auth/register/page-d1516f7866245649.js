(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7944],{1785:function(e,r,t){Promise.resolve().then(t.bind(t,173))},173:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return b}});var i=t(7437),s=t(2265),o=t(4033),n=t(1396),a=t.n(n),l=t(3067),d=t(2442),c=t(1981),m=t(7972),h=t(1295),u=t(2741),p=t(5589),f=t(7216),g=t(9670),y=t(8228);function b(){var e;let r=(0,o.useRouter)(),t=(0,o.useSearchParams)(),{register:n,isLoading:b}=(0,y.a)(),[x,j]=(0,s.useState)({name:"",email:"",phone:"",password:"",confirmPassword:"",userType:"customer",agreeTerms:!1,subscribeNewsletter:!1});(0,s.useEffect)(()=>{"guide"===t.get("type")&&j(e=>({...e,userType:"guide"}))},[t]);let[w,v]=(0,s.useState)(!1),[k,S]=(0,s.useState)(!1),[T,C]=(0,s.useState)({}),[z,P]=(0,s.useState)(1),B=(e=>{let r={length:e.length>=8,lowercase:/[a-z]/.test(e),uppercase:/[A-Z]/.test(e),number:/\d/.test(e),special:/[!@#$%^&*(),.?":{}|<>]/.test(e)},t=Object.values(r).filter(Boolean).length;return{checks:r,score:t}})(x.password),A=()=>{let e={};return x.name.trim()?x.name.trim().length<2&&(e.name="姓名至少需要2個字符"):e.name="請輸入姓名",x.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x.email)||(e.email="請輸入有效的電子郵件格式"):e.email="請輸入電子郵件",x.phone?/^09\d{8}$/.test(x.phone)||(e.phone="請輸入有效的台灣手機號碼格式 (09xxxxxxxx)"):e.phone="請輸入手機號碼",C(e),0===Object.keys(e).length},N=()=>{let e={};return x.password?x.password.length<8?e.password="密碼至少需要8個字符":B.score<3&&(e.password="密碼強度不足，請包含大小寫字母、數字或特殊字符"):e.password="請輸入密碼",x.confirmPassword?x.password!==x.confirmPassword&&(e.confirmPassword="密碼確認不一致"):e.confirmPassword="請確認密碼",x.agreeTerms||(e.agreeTerms="請同意服務條款和隱私政策"),C(e),0===Object.keys(e).length},I=async e=>{if(e.preventDefault(),N())try{await n({name:x.name,email:x.email,phone:x.phone,password:x.password,userType:x.userType,subscribeNewsletter:x.subscribeNewsletter}),r.push("/auth/verify-email?email="+encodeURIComponent(x.email))}catch(e){C({general:e.message||"註冊失敗，請稍後再試"})}},R=()=>{1===z&&A()&&P(2)},W=(e,r)=>{j(t=>({...t,[e]:r})),T[e]&&C(r=>({...r,[e]:""})),T.general&&C(e=>({...e,general:""}))},D=e=>e<=2?"#ef4444":e<=3?"#f59e0b":"#10b981";return(0,i.jsxs)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:[(0,i.jsxs)("button",{onClick:()=>r.push("/"),style:{position:"absolute",top:"2rem",left:"2rem",display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1rem",backgroundColor:"rgba(255, 255, 255, 0.1)",color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",backdropFilter:"blur(10px)"},children:[(0,i.jsx)(l.Z,{style:{width:"1rem",height:"1rem"}}),"返回首頁"]}),(0,i.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"1rem",padding:"2rem",width:"100%",maxWidth:"450px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},children:[(0,i.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"2rem"},children:(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,i.jsx)("div",{style:{width:"2rem",height:"2rem",borderRadius:"50%",backgroundColor:z>=1?"#3b82f6":"#e5e7eb",color:z>=1?"white":"#9ca3af",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem",fontWeight:"600"},children:z>1?(0,i.jsx)(d.Z,{style:{width:"1rem",height:"1rem"}}):"1"}),(0,i.jsx)("div",{style:{width:"3rem",height:"2px",backgroundColor:z>=2?"#3b82f6":"#e5e7eb"}}),(0,i.jsx)("div",{style:{width:"2rem",height:"2rem",borderRadius:"50%",backgroundColor:z>=2?"#3b82f6":"#e5e7eb",color:z>=2?"white":"#9ca3af",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem",fontWeight:"600"},children:"2"})]})}),(0,i.jsxs)("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[(0,i.jsx)("h1",{style:{fontSize:"2rem",fontWeight:"700",color:"#111827",marginBottom:"0.5rem"},children:1===z?"建立帳戶":"設定密碼"}),(0,i.jsx)("p",{style:{color:"#6b7280",fontSize:"0.875rem"},children:1===z?"填寫基本資料以開始使用 Guidee":"設定安全密碼保護您的帳戶"})]}),T.general&&(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"0.5rem",marginBottom:"1.5rem"},children:[(0,i.jsx)(c.Z,{style:{width:"1rem",height:"1rem",color:"#ef4444"}}),(0,i.jsx)("span",{style:{fontSize:"0.875rem",color:"#dc2626"},children:T.general})]}),(0,i.jsxs)("form",{onSubmit:1===z?e=>{e.preventDefault(),R()}:I,children:[1===z&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,i.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.75rem"},children:"我想要"}),(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[(0,i.jsxs)("button",{type:"button",onClick:()=>W("userType","customer"),style:{padding:"1rem",border:"2px solid ".concat("customer"===x.userType?"#3b82f6":"#e5e7eb"),borderRadius:"0.5rem",backgroundColor:"customer"===x.userType?"#eff6ff":"white",textAlign:"center",cursor:"pointer",transition:"all 0.2s"},children:[(0,i.jsx)("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"\uD83E\uDDF3"}),(0,i.jsx)("div",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#111827"},children:"尋找地陪"}),(0,i.jsx)("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:"我是旅客"})]}),(0,i.jsxs)("button",{type:"button",onClick:()=>W("userType","guide"),style:{padding:"1rem",border:"2px solid ".concat("guide"===x.userType?"#3b82f6":"#e5e7eb"),borderRadius:"0.5rem",backgroundColor:"guide"===x.userType?"#eff6ff":"white",textAlign:"center",cursor:"pointer",transition:"all 0.2s"},children:[(0,i.jsx)("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"\uD83D\uDDFA️"}),(0,i.jsx)("div",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#111827"},children:"成為地陪"}),(0,i.jsx)("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:"提供服務"})]})]})]}),(0,i.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,i.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"姓名 *"}),(0,i.jsxs)("div",{style:{position:"relative"},children:[(0,i.jsx)(m.Z,{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",width:"1rem",height:"1rem",color:"#9ca3af"}}),(0,i.jsx)("input",{type:"text",value:x.name,onChange:e=>W("name",e.target.value),placeholder:"請輸入您的姓名",style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid ".concat(T.name?"#ef4444":"#e5e7eb"),borderRadius:"0.5rem",fontSize:"1rem",outline:"none",transition:"all 0.2s"},className:"focus:border-blue-500 focus:ring-2 focus:ring-blue-200"})]}),T.name&&(0,i.jsx)("p",{style:{marginTop:"0.25rem",fontSize:"0.875rem",color:"#ef4444"},children:T.name})]}),(0,i.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,i.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"電子郵件 *"}),(0,i.jsxs)("div",{style:{position:"relative"},children:[(0,i.jsx)(h.Z,{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",width:"1rem",height:"1rem",color:"#9ca3af"}}),(0,i.jsx)("input",{type:"email",value:x.email,onChange:e=>W("email",e.target.value),placeholder:"your@email.com",style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid ".concat(T.email?"#ef4444":"#e5e7eb"),borderRadius:"0.5rem",fontSize:"1rem",outline:"none",transition:"all 0.2s"},className:"focus:border-blue-500 focus:ring-2 focus:ring-blue-200"})]}),T.email&&(0,i.jsx)("p",{style:{marginTop:"0.25rem",fontSize:"0.875rem",color:"#ef4444"},children:T.email})]}),(0,i.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,i.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"手機號碼 *"}),(0,i.jsxs)("div",{style:{position:"relative"},children:[(0,i.jsx)(u.Z,{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",width:"1rem",height:"1rem",color:"#9ca3af"}}),(0,i.jsx)("input",{type:"tel",value:x.phone,onChange:e=>W("phone",e.target.value),placeholder:"09xxxxxxxx",style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:"1px solid ".concat(T.phone?"#ef4444":"#e5e7eb"),borderRadius:"0.5rem",fontSize:"1rem",outline:"none",transition:"all 0.2s"},className:"focus:border-blue-500 focus:ring-2 focus:ring-blue-200"})]}),T.phone&&(0,i.jsx)("p",{style:{marginTop:"0.25rem",fontSize:"0.875rem",color:"#ef4444"},children:T.phone})]})]}),2===z&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,i.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"密碼 *"}),(0,i.jsxs)("div",{style:{position:"relative"},children:[(0,i.jsx)(p.Z,{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",width:"1rem",height:"1rem",color:"#9ca3af"}}),(0,i.jsx)("input",{type:w?"text":"password",value:x.password,onChange:e=>W("password",e.target.value),placeholder:"設定您的密碼",style:{width:"100%",padding:"0.75rem 2.5rem 0.75rem 2.5rem",border:"1px solid ".concat(T.password?"#ef4444":"#e5e7eb"),borderRadius:"0.5rem",fontSize:"1rem",outline:"none",transition:"all 0.2s"},className:"focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}),(0,i.jsx)("button",{type:"button",onClick:()=>v(!w),style:{position:"absolute",right:"0.75rem",top:"50%",transform:"translateY(-50%)",padding:"0.25rem",backgroundColor:"transparent",border:"none",cursor:"pointer"},children:w?(0,i.jsx)(f.Z,{style:{width:"1rem",height:"1rem",color:"#9ca3af"}}):(0,i.jsx)(g.Z,{style:{width:"1rem",height:"1rem",color:"#9ca3af"}})})]}),x.password&&(0,i.jsxs)("div",{style:{marginTop:"0.5rem"},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[(0,i.jsx)("div",{style:{flex:1,height:"4px",backgroundColor:"#e5e7eb",borderRadius:"2px",overflow:"hidden"},children:(0,i.jsx)("div",{style:{width:"".concat(B.score/5*100,"%"),height:"100%",backgroundColor:D(B.score),transition:"all 0.3s"}})}),(0,i.jsx)("span",{style:{fontSize:"0.75rem",fontWeight:"500",color:D(B.score)},children:(e=B.score)<=2?"弱":e<=3?"中等":"強"})]}),(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"0.25rem",fontSize:"0.75rem",color:"#6b7280"},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",color:B.checks.length?"#10b981":"#ef4444"},children:[B.checks.length?"✓":"✗"," 至少8個字符"]}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",color:B.checks.uppercase?"#10b981":"#ef4444"},children:[B.checks.uppercase?"✓":"✗"," 包含大寫字母"]}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",color:B.checks.lowercase?"#10b981":"#ef4444"},children:[B.checks.lowercase?"✓":"✗"," 包含小寫字母"]}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",color:B.checks.number?"#10b981":"#ef4444"},children:[B.checks.number?"✓":"✗"," 包含數字"]})]})]}),T.password&&(0,i.jsx)("p",{style:{marginTop:"0.25rem",fontSize:"0.875rem",color:"#ef4444"},children:T.password})]}),(0,i.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,i.jsx)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"確認密碼 *"}),(0,i.jsxs)("div",{style:{position:"relative"},children:[(0,i.jsx)(p.Z,{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",width:"1rem",height:"1rem",color:"#9ca3af"}}),(0,i.jsx)("input",{type:k?"text":"password",value:x.confirmPassword,onChange:e=>W("confirmPassword",e.target.value),placeholder:"再次輸入密碼",style:{width:"100%",padding:"0.75rem 2.5rem 0.75rem 2.5rem",border:"1px solid ".concat(T.confirmPassword?"#ef4444":"#e5e7eb"),borderRadius:"0.5rem",fontSize:"1rem",outline:"none",transition:"all 0.2s"},className:"focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}),(0,i.jsx)("button",{type:"button",onClick:()=>S(!k),style:{position:"absolute",right:"0.75rem",top:"50%",transform:"translateY(-50%)",padding:"0.25rem",backgroundColor:"transparent",border:"none",cursor:"pointer"},children:k?(0,i.jsx)(f.Z,{style:{width:"1rem",height:"1rem",color:"#9ca3af"}}):(0,i.jsx)(g.Z,{style:{width:"1rem",height:"1rem",color:"#9ca3af"}})})]}),T.confirmPassword&&(0,i.jsx)("p",{style:{marginTop:"0.25rem",fontSize:"0.875rem",color:"#ef4444"},children:T.confirmPassword})]}),(0,i.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,i.jsxs)("label",{style:{display:"flex",alignItems:"flex-start",gap:"0.5rem",cursor:"pointer"},children:[(0,i.jsx)("input",{type:"checkbox",checked:x.agreeTerms,onChange:e=>W("agreeTerms",e.target.checked),style:{width:"1rem",height:"1rem",marginTop:"0.125rem"}}),(0,i.jsxs)("span",{style:{fontSize:"0.875rem",color:"#374151",lineHeight:"1.4"},children:["我同意"," ",(0,i.jsx)(a(),{href:"/terms",style:{color:"#3b82f6",textDecoration:"none"},children:"服務條款"})," ","和"," ",(0,i.jsx)(a(),{href:"/privacy",style:{color:"#3b82f6",textDecoration:"none"},children:"隱私政策"})]})]}),T.agreeTerms&&(0,i.jsx)("p",{style:{marginTop:"0.25rem",fontSize:"0.875rem",color:"#ef4444"},children:T.agreeTerms})]}),(0,i.jsx)("div",{style:{marginBottom:"1.5rem"},children:(0,i.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[(0,i.jsx)("input",{type:"checkbox",checked:x.subscribeNewsletter,onChange:e=>W("subscribeNewsletter",e.target.checked),style:{width:"1rem",height:"1rem"}}),(0,i.jsx)("span",{style:{fontSize:"0.875rem",color:"#374151"},children:"訂閱電子報，接收最新旅遊資訊和優惠"})]})})]}),(0,i.jsxs)("div",{style:{display:"flex",gap:"0.75rem",marginBottom:"1.5rem"},children:[2===z&&(0,i.jsx)("button",{type:"button",onClick:()=>P(1),style:{flex:1,padding:"0.75rem",backgroundColor:"white",color:"#374151",border:"1px solid #e5e7eb",borderRadius:"0.5rem",fontSize:"1rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},className:"hover:bg-gray-50",children:"上一步"}),(0,i.jsx)("button",{type:"submit",disabled:b,style:{flex:1,padding:"0.75rem",backgroundColor:b?"#9ca3af":"#3b82f6",color:"white",border:"none",borderRadius:"0.5rem",fontSize:"1rem",fontWeight:"600",cursor:b?"not-allowed":"pointer",transition:"all 0.2s"},className:"hover:bg-blue-700",children:b?(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[(0,i.jsx)("div",{style:{width:"1rem",height:"1rem",border:"2px solid rgba(255, 255, 255, 0.3)",borderTop:"2px solid white",borderRadius:"50%",animation:"spin 1s linear infinite"}}),1===z?"驗證中...":"註冊中..."]}):1===z?"下一步":"建立帳戶"})]})]}),(0,i.jsxs)("p",{style:{textAlign:"center",fontSize:"0.875rem",color:"#6b7280"},children:["已經有帳戶？"," ",(0,i.jsx)(a(),{href:"/auth/login",style:{color:"#3b82f6",textDecoration:"none",fontWeight:"500"},className:"hover:underline",children:"立即登入"})]})]})]})}},8228:function(e,r,t){"use strict";t.d(r,{a:function(){return o}});var i=t(4660),s=t(4810);let o=(0,i.Ue)()((0,s.tJ)((e,r)=>({user:null,token:null,refreshToken:null,isLoading:!1,isAuthenticated:!1,login:async(r,t)=>{e({isLoading:!0});try{var i,s,o,n;let a=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:r,password:t})}),l=await a.json();if(!a.ok||!l.success)throw Error(l.error||l.message||"登入失敗");let d={id:l.data.user.id,email:l.data.user.email,name:l.data.user.name,avatar:l.data.user.avatar,role:l.data.user.role.toLowerCase(),isEmailVerified:l.data.user.isEmailVerified,isKYCVerified:l.data.user.isKycVerified,createdAt:l.data.user.createdAt,permissions:l.data.user.permissions||[],profile:{phone:l.data.user.phone,bio:null===(i=l.data.user.userProfile)||void 0===i?void 0:i.bio,location:null===(s=l.data.user.userProfile)||void 0===s?void 0:s.location,languages:null===(o=l.data.user.userProfile)||void 0===o?void 0:o.languages,specialties:null===(n=l.data.user.userProfile)||void 0===n?void 0:n.specialties}};e({user:d,token:l.data.token,refreshToken:null,isAuthenticated:!0,isLoading:!1})}catch(r){throw e({isLoading:!1}),r}},register:async r=>{e({isLoading:!0});try{await new Promise(e=>setTimeout(e,1500));let t={id:Date.now().toString(),email:r.email,name:r.name,role:r.userType||"customer",isEmailVerified:!1,isKYCVerified:!1,createdAt:new Date().toISOString(),permissions:"guide"===r.userType?["user:read","guide:manage","booking:manage"]:["user:read","booking:create"],profile:{phone:r.phone}},i="mock-jwt-token-"+Date.now();e({user:t,token:i,refreshToken:"mock-refresh-token",isAuthenticated:!0,isLoading:!1})}catch(r){throw e({isLoading:!1}),r}},logout:async()=>{try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"})}catch(e){}e({user:null,token:null,refreshToken:null,isAuthenticated:!1})},updateUser:async t=>{let{user:i,token:s}=r();if(!i||!s)throw Error("未登入");e({isLoading:!0});try{let r=await fetch("/api/users/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify(t)});if(!r.ok)throw Error("更新失敗");let o=await r.json();e({user:{...i,...o},isLoading:!1})}catch(r){throw e({isLoading:!1}),r}},refreshAuth:async()=>{let{refreshToken:t}=r();if(t)try{let r=await fetch("/api/auth/refresh",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:t})});if(!r.ok)throw Error("Token 刷新失敗");let i=await r.json();e({token:i.token,refreshToken:i.refreshToken})}catch(e){r().logout()}},initializeAuth:async()=>{try{let o=await fetch("/api/auth/me",{credentials:"include"});if(o.ok){let n=await o.json();if(n.success&&n.data.user){var r,t,i,s;let o={id:n.data.user.id,email:n.data.user.email,name:n.data.user.name,avatar:n.data.user.avatar,role:n.data.user.role.toLowerCase(),isEmailVerified:n.data.user.isEmailVerified,isKYCVerified:n.data.user.isKycVerified,createdAt:n.data.user.createdAt,permissions:n.data.user.permissions||[],profile:{phone:n.data.user.phone,bio:null===(r=n.data.user.userProfile)||void 0===r?void 0:r.bio,location:null===(t=n.data.user.userProfile)||void 0===t?void 0:t.location,languages:null===(i=n.data.user.userProfile)||void 0===i?void 0:i.languages,specialties:null===(s=n.data.user.userProfile)||void 0===s?void 0:s.specialties}};e({user:o,isAuthenticated:!0})}}}catch(e){}},setLoading:r=>{e({isLoading:r})},hasPermission:e=>{var t;let{user:i}=r();return!!i&&("GUIDE"===i.role||(null===(t=i.permissions)||void 0===t?void 0:t.includes(e))||!1)}}),{name:"guidee-auth",partialize:e=>({user:e.user,token:e.token,refreshToken:e.refreshToken,isAuthenticated:e.isAuthenticated})}))}},function(e){e.O(0,[1216,1744],function(){return e(e.s=1785)}),_N_E=e.O()}]);