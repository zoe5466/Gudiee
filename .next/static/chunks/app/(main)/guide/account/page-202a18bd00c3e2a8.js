(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[767],{4313:function(e,s,r){Promise.resolve().then(r.bind(r,9554))},9554:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return F}});var a=r(7437),t=r(2265),l=r(4033),i=r(1425),c=r(2457),n=r(2505),d=r(9409),o=r(9036),x=r(2245),m=r(4035),h=r(6245),g=r(9883),u=r(7216),b=r(9670),p=r(734),f=r(1138),j=r(1738),y=r(5589),N=r(8228),v=r(7290),w=r(5022);function F(){let e=(0,l.useRouter)(),{user:s,isAuthenticated:r}=(0,N.a)(),{success:F,error:A}=(0,v.pm)(),[k,Z]=(0,t.useState)("profile"),[C,E]=(0,t.useState)(!0),[D,S]=(0,t.useState)(!1),[G,T]=(0,t.useState)(null),[_,z]=(0,t.useState)([]),[B,P]=(0,t.useState)(!1),[I,L]=(0,t.useState)({name:"",email:"",phone:"",bio:"",location:"",languages:[],specialties:[]});(0,t.useEffect)(()=>{if(!r){e.push("/login");return}O()},[r,e]);let O=async()=>{E(!0);try{let e={id:(null==s?void 0:s.id)||"guide-1",name:"張小明",email:"zhang@example.com",phone:"+886 912-345-678",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=200&h=200&fit=crop&crop=face",bio:"我是台北在地的導遊，有10年的旅遊業經驗。擅長文化導覽和美食推薦，能說流利的中英日文。",location:"台北市",languages:["中文","英文","日文"],experience:10,specialties:["文化導覽","美食體驗","攝影服務"],certifications:[{id:"cert-1",name:"導遊執業證",issuer:"交通部觀光局",issueDate:"2020-03-15",credentialId:"TG-2020-001234"},{id:"cert-2",name:"急救員證書",issuer:"紅十字會",issueDate:"2022-01-10",expiryDate:"2025-01-10"}],rating:4.9,reviewCount:156,totalEarnings:285e3,completedBookings:98,responseTime:"30分鐘",isVerified:!0,joinedAt:"2020-01-15"};T(e),z([{id:"service-1",title:"台北101 & 信義區深度導覽",description:"帶您深度探索台北最精華的信義區，從台北101觀景台俯瞰整個台北盆地",category:"文化導覽",price:800,duration:"4小時",maxGuests:6,images:["https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&h=600&fit=crop"],isActive:!0,totalBookings:42,rating:4.8,createdAt:"2023-06-15"},{id:"service-2",title:"夜市美食探索之旅",description:"體驗正宗的台灣夜市文化，尋找道地的小吃和隱藏版美食",category:"美食體驗",price:600,duration:"3小時",maxGuests:4,images:["https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800&h=600&fit=crop"],isActive:!0,totalBookings:28,rating:4.9,createdAt:"2023-08-20"}]),L({name:e.name,email:e.email,phone:e.phone,bio:e.bio,location:e.location,languages:e.languages,specialties:e.specialties})}catch(e){A("載入失敗","無法載入帳戶資料")}finally{E(!1)}},U=async()=>{S(!0);try{await new Promise(e=>setTimeout(e,1e3)),G&&T({...G,...I}),F("儲存成功","個人資料已更新")}catch(e){A("儲存失敗","無法更新個人資料")}finally{S(!1)}},V=async e=>{try{z(s=>s.map(s=>s.id===e?{...s,isActive:!s.isActive}:s)),F("更新成功","服務狀態已更新")}catch(e){A("更新失敗","無法更新服務狀態")}},W=[{id:"profile",label:"個人資料",icon:i.Z},{id:"services",label:"服務管理",icon:c.Z},{id:"certifications",label:"證照認證",icon:n.Z},{id:"settings",label:"帳戶設定",icon:d.Z},{id:"security",label:"安全設定",icon:o.Z}];return C?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,a.jsx)("div",{className:"container py-8",children:(0,a.jsx)("div",{className:"flex justify-center items-center py-20",children:(0,a.jsx)(w.gb,{size:"lg"})})})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,a.jsxs)("div",{className:"container py-8",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"帳戶管理"}),(0,a.jsx)("p",{className:"text-gray-600",children:"管理您的個人資料和服務檔案"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsxs)("div",{className:"relative w-20 h-20 mx-auto mb-4",children:[(0,a.jsx)("img",{src:(null==G?void 0:G.avatar)||"/images/default-avatar.png",alt:(null==G?void 0:G.name)||"User avatar",className:"w-full h-full rounded-full object-cover"}),(null==G?void 0:G.isVerified)&&(0,a.jsx)("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:(0,a.jsx)(o.Z,{className:"w-3 h-3 text-white"})})]}),(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:null==G?void 0:G.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 flex items-center justify-center mt-1",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4 text-yellow-400 fill-current mr-1"}),null==G?void 0:G.rating," (",null==G?void 0:G.reviewCount," 評價)"]})]}),(0,a.jsx)("nav",{className:"space-y-2",children:W.map(e=>{let s=e.icon;return(0,a.jsxs)("button",{onClick:()=>Z(e.id),className:"w-full flex items-center px-3 py-2 text-left rounded-lg transition-colors ".concat(k===e.id?"bg-[#FF5A5F] text-white":"text-gray-700 hover:bg-gray-100"),children:[(0,a.jsx)(s,{className:"w-5 h-5 mr-3"}),e.label]},e.id)})})]})}),(0,a.jsxs)("div",{className:"lg:col-span-3",children:["profile"===k&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"個人資料"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("img",{src:(null==G?void 0:G.avatar)||"/images/default-avatar.png",alt:(null==G?void 0:G.name)||"User avatar",className:"w-16 h-16 rounded-full object-cover"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("button",{className:"flex items-center px-4 py-2 text-sm border border-gray-300 rounded-lg hover:border-[#FF5A5F] transition-colors",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4 mr-2"}),"更換頭像"]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"支援 JPG, PNG 格式，最大 5MB"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"姓名"}),(0,a.jsx)("input",{type:"text",value:I.name,onChange:e=>L({...I,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#FF5A5F] focus:border-[#FF5A5F]"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"電子郵件"}),(0,a.jsx)("input",{type:"email",value:I.email,onChange:e=>L({...I,email:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#FF5A5F] focus:border-[#FF5A5F]"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"電話號碼"}),(0,a.jsx)("input",{type:"tel",value:I.phone,onChange:e=>L({...I,phone:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#FF5A5F] focus:border-[#FF5A5F]"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"所在地區"}),(0,a.jsx)("input",{type:"text",value:I.location,onChange:e=>L({...I,location:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#FF5A5F] focus:border-[#FF5A5F]"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"自我介紹"}),(0,a.jsx)("textarea",{value:I.bio,onChange:e=>L({...I,bio:e.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#FF5A5F] focus:border-[#FF5A5F]",placeholder:"介紹您的專業背景和服務特色..."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"語言能力"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[I.languages.map((e,s)=>(0,a.jsx)("span",{className:"px-3 py-1 bg-[#FF5A5F] text-white rounded-full text-sm",children:e},s)),(0,a.jsx)("button",{className:"px-3 py-1 border border-gray-300 rounded-full text-sm hover:border-[#FF5A5F] transition-colors",children:"+ 新增語言"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"專業領域"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[I.specialties.map((e,s)=>(0,a.jsx)("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm",children:e},s)),(0,a.jsx)("button",{className:"px-3 py-1 border border-gray-300 rounded-full text-sm hover:border-[#FF5A5F] transition-colors",children:"+ 新增專業"})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsxs)("button",{onClick:U,disabled:D,className:"flex items-center px-6 py-3 bg-[#FF5A5F] text-white rounded-lg hover:bg-[#E1464A] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[D?(0,a.jsx)(w.gb,{size:"sm",className:"mr-2"}):(0,a.jsx)(h.Z,{className:"w-4 h-4 mr-2"}),D?"儲存中...":"儲存變更"]})})]})]}),"services"===k&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"服務管理"}),(0,a.jsxs)("button",{onClick:()=>e.push("/guide/services/create"),className:"flex items-center px-4 py-2 bg-[#FF5A5F] text-white rounded-lg hover:bg-[#E1464A] transition-colors",children:[(0,a.jsx)(g.Z,{className:"w-4 h-4 mr-2"}),"新增服務"]})]}),(0,a.jsx)("div",{className:"space-y-4",children:_.map(e=>(0,a.jsxs)("div",{className:"flex items-center p-4 border border-gray-200 rounded-lg",children:[(0,a.jsx)("img",{src:e.images[0],alt:e.title,className:"w-16 h-16 rounded-lg object-cover mr-4"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.isActive?"啟用中":"已停用"}),(0,a.jsx)("button",{onClick:()=>V(e.id),className:"p-1 text-gray-400 hover:text-gray-600",children:e.isActive?(0,a.jsx)(u.Z,{className:"w-4 h-4"}):(0,a.jsx)(b.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{className:"p-1 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(p.Z,{className:"w-4 h-4"})}),(0,a.jsx)("button",{className:"p-1 text-red-400 hover:text-red-600",children:(0,a.jsx)(f.Z,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[(0,a.jsxs)("span",{children:[e.category," • ",e.duration," • 最多 ",e.maxGuests," 人"]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("span",{className:"flex items-center",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4 text-yellow-400 fill-current mr-1"}),e.rating]}),(0,a.jsxs)("span",{children:[e.totalBookings," 次預訂"]}),(0,a.jsxs)("span",{className:"font-medium text-[#FF5A5F]",children:["NT$ ",e.price.toLocaleString()]})]})]})]})]},e.id))})]}),"certifications"===k&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"證照認證"}),(0,a.jsxs)("button",{className:"flex items-center px-4 py-2 bg-[#FF5A5F] text-white rounded-lg hover:bg-[#E1464A] transition-colors",children:[(0,a.jsx)(g.Z,{className:"w-4 h-4 mr-2"}),"新增證照"]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:null==G?void 0:G.certifications.map(e=>(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mr-3",children:(0,a.jsx)(n.Z,{className:"w-6 h-6 text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:e.issuer})]})]}),(0,a.jsx)("button",{className:"p-1 text-gray-400 hover:text-gray-600",children:(0,a.jsx)(p.Z,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,a.jsxs)("p",{children:["發證日期：",new Date(e.issueDate).toLocaleDateString("zh-TW")]}),e.expiryDate&&(0,a.jsxs)("p",{children:["到期日期：",new Date(e.expiryDate).toLocaleDateString("zh-TW")]}),e.credentialId&&(0,a.jsxs)("p",{children:["證照編號：",e.credentialId]})]})]},e.id))})]}),"settings"===k&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"通知設定"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:"新預訂通知"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"有新的預訂請求時通知我"})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),(0,a.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#FF5A5F]/25 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#FF5A5F]"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:"訊息通知"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"收到新訊息時通知我"})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),(0,a.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-[#FF5A5F]/25 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#FF5A5F]"})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"收款設定"}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsx)("div",{className:"p-4 border border-gray-200 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(j.Z,{className:"w-5 h-5 text-gray-600 mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:"銀行帳戶"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"玉山銀行 ****1234"})]})]}),(0,a.jsx)("button",{className:"text-sm text-[#FF5A5F] hover:text-[#E1464A]",children:"編輯"})]})})})]})]}),"security"===k&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"密碼設定"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"目前密碼"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:B?"text":"password",className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#FF5A5F] focus:border-[#FF5A5F]"}),(0,a.jsx)("button",{type:"button",onClick:()=>P(!B),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:B?(0,a.jsx)(u.Z,{className:"w-4 h-4 text-gray-400"}):(0,a.jsx)(b.Z,{className:"w-4 h-4 text-gray-400"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"新密碼"}),(0,a.jsx)("input",{type:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#FF5A5F] focus:border-[#FF5A5F]"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"確認新密碼"}),(0,a.jsx)("input",{type:"password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#FF5A5F] focus:border-[#FF5A5F]"})]}),(0,a.jsx)("button",{className:"w-full py-2 bg-[#FF5A5F] text-white rounded-lg hover:bg-[#E1464A] transition-colors",children:"更新密碼"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"帳戶安全"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(o.Z,{className:"w-5 h-5 text-green-600 mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:"身分驗證"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"已驗證"})]})]}),(0,a.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"已完成"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(y.Z,{className:"w-5 h-5 text-gray-600 mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:"兩步驟驗證"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"未啟用"})]})]}),(0,a.jsx)("button",{className:"text-sm text-[#FF5A5F] hover:text-[#E1464A]",children:"設定"})]})]})]})]})]})]})]})})}}},function(e){e.O(0,[1216,1248,1744],function(){return e(e.s=4313)}),_N_E=e.O()}]);