"use strict";exports.id=3450,exports.ids=[3450],exports.modules={51653:(e,s,r)=>{r.d(s,{G:()=>o,U:()=>d});var t=r(95344),a=r(3729),l=r(3380),i=r(14513),c=r(20016),n=r(11453);function d({value:e,onChange:s,multiple:r=!1,maxFiles:c=5,maxSize:d=5,accept:o="image/*",className:m,disabled:x=!1,label:u,description:h,required:f=!1}){let[g,p]=a.useState(!1),[y,j]=a.useState([]),v=a.useRef(null);a.useEffect(()=>{e?j(Array.isArray(e)?e:[e]):j([])},[e]);let N=t=>{if(!t||x)return;let a=Array.from(t),l=[];for(let e of a){if(e.size>1048576*d){alert(`檔案 ${e.name} 超過 ${d}MB 限制`);continue}if(!e.type.startsWith("image/")){alert(`檔案 ${e.name} 不是有效的圖片格式`);continue}l.push(e)}if((Array.isArray(e)?e.length:e?1:0)+l.length>c){alert(`最多只能上傳 ${c} 個檔案`);return}let i=[];l.forEach(e=>{let s=URL.createObjectURL(e);i.push(s)}),r?s([...Array.isArray(e)?e:e?[e]:[],...i]):s(i[0]||"")},b=t=>{x||(r&&Array.isArray(e)?s(e.filter((e,s)=>s!==t)):s(""))};return(0,t.jsxs)("div",{className:(0,n.cn)("space-y-4",m),children:[u&&(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:[u,f&&t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,t.jsxs)("div",{className:(0,n.cn)("border-2 border-dashed rounded-lg p-6 transition-colors cursor-pointer",g?"border-[#FF5A5F] bg-red-50":"border-gray-300 hover:border-gray-400",x&&"opacity-50 cursor-not-allowed"),onDrop:e=>{e.preventDefault(),p(!1),N(e.dataTransfer.files)},onDragOver:e=>{e.preventDefault(),p(!0)},onDragLeave:()=>{p(!1)},onClick:()=>{x||v.current?.click()},children:[(0,t.jsxs)("div",{className:"text-center",children:[t.jsx(l.Z,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t.jsx("div",{className:"text-lg font-medium text-gray-900 mb-2",children:"點擊上傳或拖放檔案"}),h&&t.jsx("div",{className:"text-sm text-gray-500 mb-4",children:h}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["支援 JPG, PNG, GIF（最大 ",d,"MB）",r&&` \xb7 最多 ${c} 個檔案`]})]}),t.jsx("input",{ref:v,type:"file",accept:o,multiple:r,onChange:e=>N(e.target.files),className:"hidden",disabled:x})]}),y.length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("div",{className:"text-sm font-medium text-gray-700",children:"預覽"}),t.jsx("div",{className:(0,n.cn)("grid gap-4",r?"grid-cols-2 md:grid-cols-3 lg:grid-cols-4":"grid-cols-1"),children:y.map((e,s)=>(0,t.jsxs)("div",{className:"relative group",children:[t.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:t.jsx("img",{src:e,alt:`預覽 ${s+1}`,className:"w-full h-full object-cover"})}),!x&&t.jsx("button",{onClick:e=>{e.stopPropagation(),b(s)},className:"absolute top-2 right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:t.jsx(i.Z,{className:"w-4 h-4"})})]},s))})]})]})}function o({value:e,onChange:s,size:r="md",className:i,disabled:d=!1}){let o=a.useRef(null),m=e=>{if(!e||0===e.length||d)return;let r=e[0];if(r){if(!r.type.startsWith("image/")){alert("請選擇圖片檔案");return}if(r.size>2097152){alert("檔案大小不能超過 2MB");return}s(URL.createObjectURL(r))}};return(0,t.jsxs)("div",{className:(0,n.cn)("space-y-2",i),children:[t.jsx("div",{className:"text-sm font-medium text-gray-700",children:"個人頭像"}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:(0,n.cn)("relative rounded-full overflow-hidden bg-gray-100 border-2 border-gray-200",{sm:"w-16 h-16",md:"w-24 h-24",lg:"w-32 h-32"}[r],!d&&"cursor-pointer hover:border-gray-300"),onClick:()=>!d&&o.current?.click(),children:[e?t.jsx("img",{src:e,alt:"頭像",className:"w-full h-full object-cover"}):t.jsx("div",{className:"w-full h-full flex items-center justify-center",children:t.jsx(c.Z,{className:"w-6 h-6 text-gray-400"})}),!d&&t.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:t.jsx(l.Z,{className:"w-4 h-4 text-white"})})]}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:[t.jsx("div",{children:"建議尺寸 400x400px"}),t.jsx("div",{children:"檔案大小不超過 2MB"})]})]}),t.jsx("input",{ref:o,type:"file",accept:"image/*",onChange:e=>m(e.target.files),className:"hidden",disabled:d})]})}},58378:(e,s,r)=>{r.d(s,{gb:()=>l});var t=r(95344);r(3729);var a=r(11453);function l({size:e="md",variant:s="spinner",className:r,text:l}){let i={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"},c={sm:"text-sm",md:"text-base",lg:"text-lg"};return"spinner"===s?(0,t.jsxs)("div",{className:(0,a.cn)("flex flex-col items-center justify-center",r),children:[t.jsx("div",{className:(0,a.cn)("animate-spin rounded-full border-2 border-gray-300 border-t-[#FF5A5F]",i[e])}),l&&t.jsx("p",{className:(0,a.cn)("mt-2 text-gray-600",c[e]),children:l})]}):"dots"===s?(0,t.jsxs)("div",{className:(0,a.cn)("flex flex-col items-center justify-center",r),children:[t.jsx("div",{className:"flex space-x-1",children:[0,1,2].map(s=>t.jsx("div",{className:(0,a.cn)("bg-[#FF5A5F] rounded-full animate-pulse","sm"===e?"w-2 h-2":"md"===e?"w-3 h-3":"w-4 h-4"),style:{animationDelay:`${.2*s}s`,animationDuration:"1.2s"}},s))}),l&&t.jsx("p",{className:(0,a.cn)("mt-2 text-gray-600",c[e]),children:l})]}):"pulse"===s?(0,t.jsxs)("div",{className:(0,a.cn)("flex flex-col items-center justify-center",r),children:[t.jsx("div",{className:(0,a.cn)("bg-[#FF5A5F] rounded-full animate-pulse",i[e])}),l&&t.jsx("p",{className:(0,a.cn)("mt-2 text-gray-600",c[e]),children:l})]}):null}},72032:(e,s,r)=>{r.d(s,{pm:()=>n}),r(95344);var t=r(3729),a=r(7060),l=r(66138),i=r(45961),c=r(91991);function n(){let[e,s]=(0,t.useState)([]),r=e=>{let r=Math.random().toString(36).substr(2,9),t={id:r,duration:5e3,...e};return s(e=>[...e,t]),r};return{toasts:e,addToast:r,removeToast:e=>{s(s=>s.filter(s=>s.id!==e))},success:(e,s)=>r({type:"success",title:e,message:s}),error:(e,s)=>r({type:"error",title:e,message:s}),warning:(e,s)=>r({type:"warning",title:e,message:s}),info:(e,s)=>r({type:"info",title:e,message:s})}}a.Z,l.Z,i.Z,c.Z}};