"use strict";(()=>{var e={};e.id=9415,e.ids=[9415],e.modules={53524:e=>{e.exports=require("@prisma/client")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},16071:(e,t,a)=>{a.r(t),a.d(t,{headerHooks:()=>g,originalPathname:()=>y,patchFetch:()=>I,requestAsyncStorage:()=>p,routeModule:()=>n,serverHooks:()=>l,staticGenerationAsyncStorage:()=>m,staticGenerationBailout:()=>h});var r={};a.r(r),a.d(r,{POST:()=>c});var s=a(95419),i=a(69108),d=a(99678),o=a(78070);let u=new(a(53524)).PrismaClient;async function c(e){try{let e=await u.user.findMany({take:5});if(0===e.length)return o.Z.json({success:!1,error:"沒有找到用戶，請先創建用戶"});let t=await Promise.all([u.supportTicket.create({data:{userId:e[0]?.id||"",message:"您好，我想詢問關於台北一日遊的服務，請問有什麼推薦的行程嗎？",category:"GENERAL",priority:"NORMAL",status:"SENT"}}),u.supportTicket.create({data:{userId:e[1]?.id||e[0]?.id||"",message:"我昨天預訂的服務還沒有收到確認，能幫我查看一下嗎？訂單編號是 #GD2025001",category:"BOOKING",priority:"HIGH",status:"READ"}}),u.supportTicket.create({data:{userId:e[2]?.id||e[0]?.id||"",message:"我對昨天的服務不太滿意，地陪遲到了30分鐘，希望能得到合理的處理。",category:"COMPLAINT",priority:"URGENT",status:"SENT"}}),u.supportTicket.create({data:{userId:e[3]?.id||e[0]?.id||"",message:"付款後一直沒有收到收據，請幫我處理一下，謝謝！",category:"PAYMENT",priority:"HIGH",status:"READ"}}),u.supportTicket.create({data:{userId:e[4]?.id||e[0]?.id||"",message:"管理員您好，我想申請提高服務費用，因為最近油價上漲，希望能調整價格。",category:"FEEDBACK",priority:"NORMAL",status:"REPLIED"}})]),a=await u.user.findFirst({where:{role:"ADMIN"}});return a&&(await u.supportReply.create({data:{ticketId:t[1].id,adminId:a.id,message:"您好，我已經查到您的訂單，正在為您處理中，預計今天下午會有確認通知。"}}),await u.supportReply.create({data:{ticketId:t[4].id,adminId:a.id,message:"您好，感謝您的建議。我們會評估當前的市場狀況和成本結構，會在一周內給您回覆。"}})),o.Z.json({success:!0,message:"測試客服對話資料創建成功",ticketsCreated:t.length})}catch(e){return o.Z.json({success:!1,error:"Failed to seed chat data"},{status:500})}}let n=new s.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/admin/chat/seed/route",pathname:"/api/admin/chat/seed",filename:"route",bundlePath:"app/api/admin/chat/seed/route"},resolvedPagePath:"/Users/zoechang/projects/Guidee/src/app/api/admin/chat/seed/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:p,staticGenerationAsyncStorage:m,serverHooks:l,headerHooks:g,staticGenerationBailout:h}=n,y="/api/admin/chat/seed/route";function I(){return(0,d.patchFetch)({serverHooks:l,staticGenerationAsyncStorage:m})}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[1216],()=>a(16071));module.exports=r})();