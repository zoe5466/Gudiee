"use strict";(()=>{var e={};e.id=2303,e.ids=[2303],e.modules={53524:e=>{e.exports=require("@prisma/client")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},36354:(e,t,a)=>{a.r(t),a.d(t,{headerHooks:()=>g,originalPathname:()=>P,patchFetch:()=>v,requestAsyncStorage:()=>l,routeModule:()=>c,serverHooks:()=>p,staticGenerationAsyncStorage:()=>m,staticGenerationBailout:()=>h});var i={};a.r(i),a.d(i,{POST:()=>u});var r=a(95419),s=a(69108),o=a(99678),n=a(78070);let d=new(a(53524)).PrismaClient;async function u(e){try{let e=await d.user.upsert({where:{email:"test-customer@example.com"},update:{},create:{email:"test-customer@example.com",passwordHash:"hashed_password",name:"測試用戶",role:"CUSTOMER",userProfile:{create:{bio:"我是一個測試用戶"}}}}),t=await d.user.upsert({where:{email:"test-guide@example.com"},update:{},create:{email:"test-guide@example.com",passwordHash:"hashed_password",name:"測試地陪",role:"GUIDE",userProfile:{create:{bio:"我是一個專業的地陪",location:"台北",languages:["中文","英文"],specialties:["歷史文化","美食導覽"]}}}}),a=await d.service.findFirst({where:{title:"台北一日遊",guideId:t.id}});a||(a=await d.service.create({data:{guideId:t.id,title:"台北一日遊",description:"探索台北最美的景點和美食",location:"台北市",price:2500,durationHours:8,maxGuests:6,images:["https://example.com/image1.jpg"],highlights:["101大樓","夜市美食","故宮博物院"],included:["交通","導覽服務","午餐"],notIncluded:["門票","個人消費"]}}));let i=await Promise.all([d.booking.create({data:{serviceId:a.id,guideId:t.id,travelerId:e.id,status:"PENDING",bookingDate:new Date("2025-08-30"),startTime:new Date("2025-08-30T09:00:00"),guests:2,durationHours:8,basePrice:2500,serviceFee:250,totalAmount:2750,contactInfo:{phone:"+886-912345678",email:"test-customer@example.com"},specialRequests:"希望能介紹當地美食"},include:{service:!0,guide:{include:{userProfile:!0}},traveler:{include:{userProfile:!0}},payments:!0}}),d.booking.create({data:{serviceId:a.id,guideId:t.id,travelerId:e.id,status:"CONFIRMED",bookingDate:new Date("2025-09-05"),startTime:new Date("2025-09-05T10:00:00"),guests:4,durationHours:8,basePrice:2500,serviceFee:250,totalAmount:2750,contactInfo:{phone:"+886-987654321",email:"test-customer@example.com"},paymentStatus:"COMPLETED"},include:{service:!0,guide:{include:{userProfile:!0}},traveler:{include:{userProfile:!0}},payments:!0}}),d.booking.create({data:{serviceId:a.id,guideId:t.id,travelerId:e.id,status:"COMPLETED",bookingDate:new Date("2025-08-15"),startTime:new Date("2025-08-15T14:00:00"),guests:3,durationHours:8,basePrice:2500,serviceFee:250,totalAmount:2750,contactInfo:{phone:"+886-555666777",email:"test-customer@example.com"},paymentStatus:"COMPLETED",completedAt:new Date("2025-08-15T22:00:00")},include:{service:!0,guide:{include:{userProfile:!0}},traveler:{include:{userProfile:!0}},payments:!0}})]);return await d.payment.create({data:{bookingId:i[1].id,userId:e.id,paymentMethod:"CREDIT_CARD",paymentProvider:"stripe",providerPaymentId:"pi_test_12345",amount:2750,currency:"TWD",status:"COMPLETED",processedAt:new Date}}),await d.payment.create({data:{bookingId:i[2].id,userId:e.id,paymentMethod:"CREDIT_CARD",paymentProvider:"stripe",providerPaymentId:"pi_test_67890",amount:2750,currency:"TWD",status:"COMPLETED",processedAt:new Date}}),n.Z.json({success:!0,message:"測試預訂資料創建成功",bookingsCreated:i.length})}catch(e){return n.Z.json({success:!1,error:"Failed to seed bookings"},{status:500})}}let c=new r.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/admin/bookings/seed/route",pathname:"/api/admin/bookings/seed",filename:"route",bundlePath:"app/api/admin/bookings/seed/route"},resolvedPagePath:"/Users/zoechang/projects/Guidee/src/app/api/admin/bookings/seed/route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:l,staticGenerationAsyncStorage:m,serverHooks:p,headerHooks:g,staticGenerationBailout:h}=c,P="/api/admin/bookings/seed/route";function v(){return(0,o.patchFetch)({serverHooks:p,staticGenerationAsyncStorage:m})}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),i=t.X(0,[1216],()=>a(36354));module.exports=i})();