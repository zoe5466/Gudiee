"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/guides/[id]/route";
exports.ids = ["app/api/guides/[id]/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fguides%2F%5Bid%5D%2Froute&page=%2Fapi%2Fguides%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fguides%2F%5Bid%5D%2Froute.ts&appDir=%2FUsers%2Fzoechang%2Fprojects%2FGuidee%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fzoechang%2Fprojects%2FGuidee&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fguides%2F%5Bid%5D%2Froute&page=%2Fapi%2Fguides%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fguides%2F%5Bid%5D%2Froute.ts&appDir=%2FUsers%2Fzoechang%2Fprojects%2FGuidee%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fzoechang%2Fprojects%2FGuidee&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_zoechang_projects_Guidee_src_app_api_guides_id_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/guides/[id]/route.ts */ \"(rsc)/./src/app/api/guides/[id]/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/guides/[id]/route\",\n        pathname: \"/api/guides/[id]\",\n        filename: \"route\",\n        bundlePath: \"app/api/guides/[id]/route\"\n    },\n    resolvedPagePath: \"/Users/zoechang/projects/Guidee/src/app/api/guides/[id]/route.ts\",\n    nextConfigOutput,\n    userland: _Users_zoechang_projects_Guidee_src_app_api_guides_id_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/guides/[id]/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZndWlkZXMlMkYlNUJpZCU1RCUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGZ3VpZGVzJTJGJTVCaWQlNUQlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZndWlkZXMlMkYlNUJpZCU1RCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnpvZWNoYW5nJTJGcHJvamVjdHMlMkZHdWlkZWUlMkZzcmMlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGem9lY2hhbmclMkZwcm9qZWN0cyUyRkd1aWRlZSZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNnQjtBQUM3RjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzZKOztBQUU3SiIsInNvdXJjZXMiOlsid2VicGFjazovL2d1aWRlZS8/MWI3OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvem9lY2hhbmcvcHJvamVjdHMvR3VpZGVlL3NyYy9hcHAvYXBpL2d1aWRlcy9baWRdL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9ndWlkZXMvW2lkXS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2d1aWRlcy9baWRdXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9ndWlkZXMvW2lkXS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy96b2VjaGFuZy9wcm9qZWN0cy9HdWlkZWUvc3JjL2FwcC9hcGkvZ3VpZGVzL1tpZF0vcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvZ3VpZGVzL1tpZF0vcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fguides%2F%5Bid%5D%2Froute&page=%2Fapi%2Fguides%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fguides%2F%5Bid%5D%2Froute.ts&appDir=%2FUsers%2Fzoechang%2Fprojects%2FGuidee%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fzoechang%2Fprojects%2FGuidee&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/guides/[id]/route.ts":
/*!******************************************!*\
  !*** ./src/app/api/guides/[id]/route.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./src/lib/prisma.ts\");\n/* harmony import */ var _lib_api_response__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/api-response */ \"(rsc)/./src/lib/api-response.ts\");\n\n\n// GET /api/guides/[id] - 取得嚮導詳細資料\nasync function GET(request, { params }) {\n    try {\n        const guideId = params.id;\n        // 查詢嚮導資料\n        const guide = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.user.findUnique({\n            where: {\n                id: guideId,\n                role: \"GUIDE\",\n                isEmailVerified: true\n            },\n            include: {\n                userProfile: true,\n                guidedServices: {\n                    where: {\n                        status: \"ACTIVE\"\n                    },\n                    include: {\n                        category: true,\n                        reviews: {\n                            where: {\n                                status: \"APPROVED\"\n                            },\n                            select: {\n                                rating: true\n                            }\n                        },\n                        _count: {\n                            select: {\n                                bookings: true,\n                                reviews: true\n                            }\n                        }\n                    },\n                    orderBy: {\n                        createdAt: \"desc\"\n                    }\n                },\n                reviewsAsGuide: {\n                    where: {\n                        status: \"APPROVED\"\n                    },\n                    include: {\n                        reviewer: {\n                            select: {\n                                id: true,\n                                name: true,\n                                avatar: true\n                            }\n                        },\n                        service: {\n                            select: {\n                                id: true,\n                                title: true\n                            }\n                        }\n                    },\n                    orderBy: {\n                        createdAt: \"desc\"\n                    },\n                    take: 10\n                },\n                _count: {\n                    select: {\n                        guidedServices: true,\n                        reviewsAsGuide: true,\n                        bookingsAsGuide: true\n                    }\n                }\n            }\n        });\n        if (!guide) {\n            return (0,_lib_api_response__WEBPACK_IMPORTED_MODULE_1__.errorResponse)(\"找不到嚮導\", 404);\n        }\n        // 計算統計資料\n        const allRatings = guide.reviewsAsGuide.map((r)=>r.rating);\n        const averageRating = allRatings.length > 0 ? allRatings.reduce((sum, rating)=>sum + rating, 0) / allRatings.length : 0;\n        // 計算評分分布\n        const ratingDistribution = [\n            1,\n            2,\n            3,\n            4,\n            5\n        ].reduce((acc, rating)=>{\n            acc[rating] = allRatings.filter((r)=>r === rating).length;\n            return acc;\n        }, {});\n        // 計算總預訂數和總收入（模擬）\n        const totalBookings = guide._count.bookingsAsGuide;\n        const totalEarnings = guide.guidedServices.reduce((sum, service)=>sum + Number(service.price) * (service._count?.bookings || 0), 0);\n        // 處理服務資料，計算每個服務的平均評分\n        const servicesWithStats = guide.guidedServices.map((service)=>{\n            const serviceRatings = service.reviews.map((r)=>r.rating);\n            const serviceAverageRating = serviceRatings.length > 0 ? serviceRatings.reduce((sum, rating)=>sum + rating, 0) / serviceRatings.length : 0;\n            const { reviews, ...serviceData } = service;\n            return {\n                ...serviceData,\n                averageRating: Number(serviceAverageRating.toFixed(1)),\n                totalReviews: service._count.reviews,\n                totalBookings: service._count.bookings\n            };\n        });\n        // 計算本月統計（模擬）\n        const currentDate = new Date();\n        const monthlyBookings = Math.floor(totalBookings * 0.15); // 假設本月佔總數的15%\n        const monthlyEarnings = Math.floor(totalEarnings * 0.15);\n        // 取得嚮導加入時間\n        const memberSince = guide.createdAt;\n        const experienceMonths = guide.userProfile?.experienceYears ? guide.userProfile.experienceYears * 12 : 0;\n        // 語言和專業領域處理\n        const languages = guide.userProfile?.languages || [];\n        const specialties = guide.userProfile?.specialties || [];\n        // 認證狀態\n        const verifications = {\n            email: guide.isEmailVerified,\n            phone: !!guide.phone,\n            identity: guide.isKycVerified,\n            profile: !!guide.userProfile?.bio\n        };\n        // 建構回應資料\n        const guideProfile = {\n            id: guide.id,\n            name: guide.name,\n            avatar: guide.avatar,\n            bio: guide.userProfile?.bio,\n            location: guide.userProfile?.location,\n            languages,\n            specialties,\n            experienceYears: guide.userProfile?.experienceYears,\n            certifications: guide.userProfile?.certifications || [],\n            socialLinks: guide.userProfile?.socialLinks || {},\n            memberSince,\n            verifications,\n            stats: {\n                averageRating: Number(averageRating.toFixed(1)),\n                totalReviews: guide._count.reviewsAsGuide,\n                totalBookings,\n                totalEarnings,\n                monthlyBookings,\n                monthlyEarnings,\n                activeServices: guide._count.guidedServices,\n                responseRate: 95 + Math.floor(Math.random() * 5),\n                responseTime: Math.floor(Math.random() * 4) + 1 // 1-4 小時\n            },\n            ratingDistribution,\n            services: servicesWithStats,\n            recentReviews: guide.reviewsAsGuide.map((review)=>({\n                    id: review.id,\n                    rating: review.rating,\n                    comment: review.comment,\n                    createdAt: review.createdAt,\n                    isAnonymous: review.isAnonymous,\n                    reviewer: review.isAnonymous ? null : review.reviewer,\n                    service: review.service\n                }))\n        };\n        return (0,_lib_api_response__WEBPACK_IMPORTED_MODULE_1__.successResponse)(guideProfile);\n    } catch (error) {\n        console.error(\"Get guide profile error:\", error);\n        return (0,_lib_api_response__WEBPACK_IMPORTED_MODULE_1__.errorResponse)(\"取得嚮導資料失敗\", 500);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cy9baWRdL3JvdXRlLnRzPzkyZGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBwcmlzbWEgfSBmcm9tICdAL2xpYi9wcmlzbWEnO1xuaW1wb3J0IHsgc3VjY2Vzc1Jlc3BvbnNlLCBlcnJvclJlc3BvbnNlIH0gZnJvbSAnQC9saWIvYXBpLXJlc3BvbnNlJztcblxuLy8gR0VUIC9hcGkvZ3VpZGVzL1tpZF0gLSDlj5blvpflmq7lsI7oqbPntLDos4fmlplcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoXG4gIHJlcXVlc3Q6IE5leHRSZXF1ZXN0LFxuICB7IHBhcmFtcyB9OiB7IHBhcmFtczogeyBpZDogc3RyaW5nIH0gfVxuKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgZ3VpZGVJZCA9IHBhcmFtcy5pZDtcblxuICAgIC8vIOafpeipouWaruWwjuizh+aWmVxuICAgIGNvbnN0IGd1aWRlID0gYXdhaXQgcHJpc21hLnVzZXIuZmluZFVuaXF1ZSh7XG4gICAgICB3aGVyZTogeyBcbiAgICAgICAgaWQ6IGd1aWRlSWQsXG4gICAgICAgIHJvbGU6ICdHVUlERScsXG4gICAgICAgIGlzRW1haWxWZXJpZmllZDogdHJ1ZVxuICAgICAgfSxcbiAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgdXNlclByb2ZpbGU6IHRydWUsXG4gICAgICAgIGd1aWRlZFNlcnZpY2VzOiB7XG4gICAgICAgICAgd2hlcmU6IHsgc3RhdHVzOiAnQUNUSVZFJyB9LFxuICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgIGNhdGVnb3J5OiB0cnVlLFxuICAgICAgICAgICAgcmV2aWV3czoge1xuICAgICAgICAgICAgICB3aGVyZTogeyBzdGF0dXM6ICdBUFBST1ZFRCcgfSxcbiAgICAgICAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICAgICAgcmF0aW5nOiB0cnVlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY291bnQ6IHtcbiAgICAgICAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICAgICAgYm9va2luZ3M6IHRydWUsXG4gICAgICAgICAgICAgICAgcmV2aWV3czogdHJ1ZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvcmRlckJ5OiB7IGNyZWF0ZWRBdDogJ2Rlc2MnIH1cbiAgICAgICAgfSxcbiAgICAgICAgcmV2aWV3c0FzR3VpZGU6IHtcbiAgICAgICAgICB3aGVyZTogeyBzdGF0dXM6ICdBUFBST1ZFRCcgfSxcbiAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICByZXZpZXdlcjoge1xuICAgICAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYW1lOiB0cnVlLFxuICAgICAgICAgICAgICAgIGF2YXRhcjogdHJ1ZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2VydmljZToge1xuICAgICAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0aXRsZTogdHJ1ZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvcmRlckJ5OiB7IGNyZWF0ZWRBdDogJ2Rlc2MnIH0sXG4gICAgICAgICAgdGFrZTogMTBcbiAgICAgICAgfSxcbiAgICAgICAgX2NvdW50OiB7XG4gICAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICBndWlkZWRTZXJ2aWNlczogdHJ1ZSxcbiAgICAgICAgICAgIHJldmlld3NBc0d1aWRlOiB0cnVlLFxuICAgICAgICAgICAgYm9va2luZ3NBc0d1aWRlOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoIWd1aWRlKSB7XG4gICAgICByZXR1cm4gZXJyb3JSZXNwb25zZSgn5om+5LiN5Yiw5Zqu5bCOJywgNDA0KTtcbiAgICB9XG5cbiAgICAvLyDoqIjnrpfntbHoqIjos4fmlplcbiAgICBjb25zdCBhbGxSYXRpbmdzID0gZ3VpZGUucmV2aWV3c0FzR3VpZGUubWFwKHIgPT4gci5yYXRpbmcpO1xuICAgIGNvbnN0IGF2ZXJhZ2VSYXRpbmcgPSBhbGxSYXRpbmdzLmxlbmd0aCA+IDAgXG4gICAgICA/IGFsbFJhdGluZ3MucmVkdWNlKChzdW0sIHJhdGluZykgPT4gc3VtICsgcmF0aW5nLCAwKSAvIGFsbFJhdGluZ3MubGVuZ3RoIFxuICAgICAgOiAwO1xuXG4gICAgLy8g6KiI566X6KmV5YiG5YiG5biDXG4gICAgY29uc3QgcmF0aW5nRGlzdHJpYnV0aW9uID0gWzEsIDIsIDMsIDQsIDVdLnJlZHVjZSgoYWNjLCByYXRpbmcpID0+IHtcbiAgICAgIGFjY1tyYXRpbmddID0gYWxsUmF0aW5ncy5maWx0ZXIociA9PiByID09PSByYXRpbmcpLmxlbmd0aDtcbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30gYXMgUmVjb3JkPG51bWJlciwgbnVtYmVyPik7XG5cbiAgICAvLyDoqIjnrpfnuL3poJDoqILmlbjlkoznuL3mlLblhaXvvIjmqKHmk6zvvIlcbiAgICBjb25zdCB0b3RhbEJvb2tpbmdzID0gZ3VpZGUuX2NvdW50LmJvb2tpbmdzQXNHdWlkZTtcbiAgICBjb25zdCB0b3RhbEVhcm5pbmdzID0gZ3VpZGUuZ3VpZGVkU2VydmljZXMucmVkdWNlKChzdW0sIHNlcnZpY2UpID0+IFxuICAgICAgc3VtICsgKE51bWJlcihzZXJ2aWNlLnByaWNlKSAqIChzZXJ2aWNlLl9jb3VudD8uYm9va2luZ3MgfHwgMCkpLCAwXG4gICAgKTtcblxuICAgIC8vIOiZleeQhuacjeWLmeizh+aWme+8jOioiOeul+avj+WAi+acjeWLmeeahOW5s+Wdh+ipleWIhlxuICAgIGNvbnN0IHNlcnZpY2VzV2l0aFN0YXRzID0gZ3VpZGUuZ3VpZGVkU2VydmljZXMubWFwKHNlcnZpY2UgPT4ge1xuICAgICAgY29uc3Qgc2VydmljZVJhdGluZ3MgPSBzZXJ2aWNlLnJldmlld3MubWFwKHIgPT4gci5yYXRpbmcpO1xuICAgICAgY29uc3Qgc2VydmljZUF2ZXJhZ2VSYXRpbmcgPSBzZXJ2aWNlUmF0aW5ncy5sZW5ndGggPiAwIFxuICAgICAgICA/IHNlcnZpY2VSYXRpbmdzLnJlZHVjZSgoc3VtLCByYXRpbmcpID0+IHN1bSArIHJhdGluZywgMCkgLyBzZXJ2aWNlUmF0aW5ncy5sZW5ndGggXG4gICAgICAgIDogMDtcblxuICAgICAgY29uc3QgeyByZXZpZXdzLCAuLi5zZXJ2aWNlRGF0YSB9ID0gc2VydmljZTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc2VydmljZURhdGEsXG4gICAgICAgIGF2ZXJhZ2VSYXRpbmc6IE51bWJlcihzZXJ2aWNlQXZlcmFnZVJhdGluZy50b0ZpeGVkKDEpKSxcbiAgICAgICAgdG90YWxSZXZpZXdzOiBzZXJ2aWNlLl9jb3VudC5yZXZpZXdzLFxuICAgICAgICB0b3RhbEJvb2tpbmdzOiBzZXJ2aWNlLl9jb3VudC5ib29raW5nc1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIOioiOeul+acrOaciOe1seioiO+8iOaooeaTrO+8iVxuICAgIGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCBtb250aGx5Qm9va2luZ3MgPSBNYXRoLmZsb29yKHRvdGFsQm9va2luZ3MgKiAwLjE1KTsgLy8g5YGH6Kit5pys5pyI5L2U57i95pW455qEMTUlXG4gICAgY29uc3QgbW9udGhseUVhcm5pbmdzID0gTWF0aC5mbG9vcih0b3RhbEVhcm5pbmdzICogMC4xNSk7XG5cbiAgICAvLyDlj5blvpflmq7lsI7liqDlhaXmmYLplpNcbiAgICBjb25zdCBtZW1iZXJTaW5jZSA9IGd1aWRlLmNyZWF0ZWRBdDtcbiAgICBjb25zdCBleHBlcmllbmNlTW9udGhzID0gZ3VpZGUudXNlclByb2ZpbGU/LmV4cGVyaWVuY2VZZWFycyBcbiAgICAgID8gZ3VpZGUudXNlclByb2ZpbGUuZXhwZXJpZW5jZVllYXJzICogMTIgXG4gICAgICA6IDA7XG5cbiAgICAvLyDoqp7oqIDlkozlsIjmpa3poJjln5/omZXnkIZcbiAgICBjb25zdCBsYW5ndWFnZXMgPSBndWlkZS51c2VyUHJvZmlsZT8ubGFuZ3VhZ2VzIHx8IFtdO1xuICAgIGNvbnN0IHNwZWNpYWx0aWVzID0gZ3VpZGUudXNlclByb2ZpbGU/LnNwZWNpYWx0aWVzIHx8IFtdO1xuXG4gICAgLy8g6KqN6K2J54uA5oWLXG4gICAgY29uc3QgdmVyaWZpY2F0aW9ucyA9IHtcbiAgICAgIGVtYWlsOiBndWlkZS5pc0VtYWlsVmVyaWZpZWQsXG4gICAgICBwaG9uZTogISFndWlkZS5waG9uZSxcbiAgICAgIGlkZW50aXR5OiBndWlkZS5pc0t5Y1ZlcmlmaWVkLFxuICAgICAgcHJvZmlsZTogISFndWlkZS51c2VyUHJvZmlsZT8uYmlvXG4gICAgfTtcblxuICAgIC8vIOW7uuani+WbnuaHieizh+aWmVxuICAgIGNvbnN0IGd1aWRlUHJvZmlsZSA9IHtcbiAgICAgIGlkOiBndWlkZS5pZCxcbiAgICAgIG5hbWU6IGd1aWRlLm5hbWUsXG4gICAgICBhdmF0YXI6IGd1aWRlLmF2YXRhcixcbiAgICAgIGJpbzogZ3VpZGUudXNlclByb2ZpbGU/LmJpbyxcbiAgICAgIGxvY2F0aW9uOiBndWlkZS51c2VyUHJvZmlsZT8ubG9jYXRpb24sXG4gICAgICBsYW5ndWFnZXMsXG4gICAgICBzcGVjaWFsdGllcyxcbiAgICAgIGV4cGVyaWVuY2VZZWFyczogZ3VpZGUudXNlclByb2ZpbGU/LmV4cGVyaWVuY2VZZWFycyxcbiAgICAgIGNlcnRpZmljYXRpb25zOiBndWlkZS51c2VyUHJvZmlsZT8uY2VydGlmaWNhdGlvbnMgfHwgW10sXG4gICAgICBzb2NpYWxMaW5rczogZ3VpZGUudXNlclByb2ZpbGU/LnNvY2lhbExpbmtzIHx8IHt9LFxuICAgICAgbWVtYmVyU2luY2UsXG4gICAgICB2ZXJpZmljYXRpb25zLFxuICAgICAgc3RhdHM6IHtcbiAgICAgICAgYXZlcmFnZVJhdGluZzogTnVtYmVyKGF2ZXJhZ2VSYXRpbmcudG9GaXhlZCgxKSksXG4gICAgICAgIHRvdGFsUmV2aWV3czogZ3VpZGUuX2NvdW50LnJldmlld3NBc0d1aWRlLFxuICAgICAgICB0b3RhbEJvb2tpbmdzLFxuICAgICAgICB0b3RhbEVhcm5pbmdzLFxuICAgICAgICBtb250aGx5Qm9va2luZ3MsXG4gICAgICAgIG1vbnRobHlFYXJuaW5ncyxcbiAgICAgICAgYWN0aXZlU2VydmljZXM6IGd1aWRlLl9jb3VudC5ndWlkZWRTZXJ2aWNlcyxcbiAgICAgICAgcmVzcG9uc2VSYXRlOiA5NSArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDUpLCAvLyDmqKHmk6zlm57opobnjodcbiAgICAgICAgcmVzcG9uc2VUaW1lOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA0KSArIDEgLy8gMS00IOWwj+aZglxuICAgICAgfSxcbiAgICAgIHJhdGluZ0Rpc3RyaWJ1dGlvbixcbiAgICAgIHNlcnZpY2VzOiBzZXJ2aWNlc1dpdGhTdGF0cyxcbiAgICAgIHJlY2VudFJldmlld3M6IGd1aWRlLnJldmlld3NBc0d1aWRlLm1hcChyZXZpZXcgPT4gKHtcbiAgICAgICAgaWQ6IHJldmlldy5pZCxcbiAgICAgICAgcmF0aW5nOiByZXZpZXcucmF0aW5nLFxuICAgICAgICBjb21tZW50OiByZXZpZXcuY29tbWVudCxcbiAgICAgICAgY3JlYXRlZEF0OiByZXZpZXcuY3JlYXRlZEF0LFxuICAgICAgICBpc0Fub255bW91czogcmV2aWV3LmlzQW5vbnltb3VzLFxuICAgICAgICByZXZpZXdlcjogcmV2aWV3LmlzQW5vbnltb3VzID8gbnVsbCA6IHJldmlldy5yZXZpZXdlcixcbiAgICAgICAgc2VydmljZTogcmV2aWV3LnNlcnZpY2VcbiAgICAgIH0pKVxuICAgIH07XG5cbiAgICByZXR1cm4gc3VjY2Vzc1Jlc3BvbnNlKGd1aWRlUHJvZmlsZSk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdHZXQgZ3VpZGUgcHJvZmlsZSBlcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIGVycm9yUmVzcG9uc2UoJ+WPluW+l+WaruWwjuizh+aWmeWkseaVlycsIDUwMCk7XG4gIH1cbn0iXSwibmFtZXMiOlsicHJpc21hIiwic3VjY2Vzc1Jlc3BvbnNlIiwiZXJyb3JSZXNwb25zZSIsIkdFVCIsInJlcXVlc3QiLCJwYXJhbXMiLCJndWlkZUlkIiwiaWQiLCJndWlkZSIsInVzZXIiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJyb2xlIiwiaXNFbWFpbFZlcmlmaWVkIiwiaW5jbHVkZSIsInVzZXJQcm9maWxlIiwiZ3VpZGVkU2VydmljZXMiLCJzdGF0dXMiLCJjYXRlZ29yeSIsInJldmlld3MiLCJzZWxlY3QiLCJyYXRpbmciLCJfY291bnQiLCJib29raW5ncyIsIm9yZGVyQnkiLCJjcmVhdGVkQXQiLCJyZXZpZXdzQXNHdWlkZSIsInJldmlld2VyIiwibmFtZSIsImF2YXRhciIsInNlcnZpY2UiLCJ0aXRsZSIsInRha2UiLCJib29raW5nc0FzR3VpZGUiLCJhbGxSYXRpbmdzIiwibWFwIiwiciIsImF2ZXJhZ2VSYXRpbmciLCJsZW5ndGgiLCJyZWR1Y2UiLCJzdW0iLCJyYXRpbmdEaXN0cmlidXRpb24iLCJhY2MiLCJmaWx0ZXIiLCJ0b3RhbEJvb2tpbmdzIiwidG90YWxFYXJuaW5ncyIsIk51bWJlciIsInByaWNlIiwic2VydmljZXNXaXRoU3RhdHMiLCJzZXJ2aWNlUmF0aW5ncyIsInNlcnZpY2VBdmVyYWdlUmF0aW5nIiwic2VydmljZURhdGEiLCJ0b0ZpeGVkIiwidG90YWxSZXZpZXdzIiwiY3VycmVudERhdGUiLCJEYXRlIiwibW9udGhseUJvb2tpbmdzIiwiTWF0aCIsImZsb29yIiwibW9udGhseUVhcm5pbmdzIiwibWVtYmVyU2luY2UiLCJleHBlcmllbmNlTW9udGhzIiwiZXhwZXJpZW5jZVllYXJzIiwibGFuZ3VhZ2VzIiwic3BlY2lhbHRpZXMiLCJ2ZXJpZmljYXRpb25zIiwiZW1haWwiLCJwaG9uZSIsImlkZW50aXR5IiwiaXNLeWNWZXJpZmllZCIsInByb2ZpbGUiLCJiaW8iLCJndWlkZVByb2ZpbGUiLCJsb2NhdGlvbiIsImNlcnRpZmljYXRpb25zIiwic29jaWFsTGlua3MiLCJzdGF0cyIsImFjdGl2ZVNlcnZpY2VzIiwicmVzcG9uc2VSYXRlIiwicmFuZG9tIiwicmVzcG9uc2VUaW1lIiwic2VydmljZXMiLCJyZWNlbnRSZXZpZXdzIiwicmV2aWV3IiwiY29tbWVudCIsImlzQW5vbnltb3VzIiwiZXJyb3IiLCJjb25zb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/guides/[id]/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/api-response.ts":
/*!*********************************!*\
  !*** ./src/lib/api-response.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createApiResponse: () => (/* binding */ createApiResponse),\n/* harmony export */   errorResponse: () => (/* binding */ errorResponse),\n/* harmony export */   forbiddenResponse: () => (/* binding */ forbiddenResponse),\n/* harmony export */   notFoundResponse: () => (/* binding */ notFoundResponse),\n/* harmony export */   serverErrorResponse: () => (/* binding */ serverErrorResponse),\n/* harmony export */   successResponse: () => (/* binding */ successResponse),\n/* harmony export */   unauthorizedResponse: () => (/* binding */ unauthorizedResponse),\n/* harmony export */   validationErrorResponse: () => (/* binding */ validationErrorResponse)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n\nfunction successResponse(data, message, pagination) {\n    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n        success: true,\n        data,\n        message,\n        pagination\n    });\n}\nfunction errorResponse(error, status = 400) {\n    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n        success: false,\n        error\n    }, {\n        status\n    });\n}\nfunction unauthorizedResponse() {\n    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n        success: false,\n        error: \"未經授權的請求\"\n    }, {\n        status: 401\n    });\n}\nfunction forbiddenResponse() {\n    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n        success: false,\n        error: \"權限不足\"\n    }, {\n        status: 403\n    });\n}\nfunction notFoundResponse(resource = \"資源\") {\n    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n        success: false,\n        error: `${resource}不存在`\n    }, {\n        status: 404\n    });\n}\nfunction validationErrorResponse(errors) {\n    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n        success: false,\n        error: \"驗證失敗\",\n        data: errors\n    }, {\n        status: 422\n    });\n}\nfunction serverErrorResponse(error) {\n    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n        success: false,\n        error: error || \"伺服器內部錯誤\"\n    }, {\n        status: 500\n    });\n}\n// Legacy compatibility function\nfunction createApiResponse(data, success, message, errorType) {\n    return {\n        success,\n        data: success ? data : undefined,\n        error: success ? undefined : message,\n        message: success ? message : undefined\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2FwaS1yZXNwb25zZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBMkM7QUFlcEMsU0FBU0MsZ0JBQ2RDLElBQU8sRUFDUEMsT0FBZ0IsRUFDaEJDLFVBQXNDO0lBRXRDLE9BQU9KLGtGQUFZQSxDQUFDSyxJQUFJLENBQUM7UUFDdkJDLFNBQVM7UUFDVEo7UUFDQUM7UUFDQUM7SUFDRjtBQUNGO0FBRU8sU0FBU0csY0FDZEMsS0FBYSxFQUNiQyxTQUFpQixHQUFHO0lBRXBCLE9BQU9ULGtGQUFZQSxDQUFDSyxJQUFJLENBQUM7UUFDdkJDLFNBQVM7UUFDVEU7SUFDRixHQUFHO1FBQUVDO0lBQU87QUFDZDtBQUVPLFNBQVNDO0lBQ2QsT0FBT1Ysa0ZBQVlBLENBQUNLLElBQUksQ0FBQztRQUN2QkMsU0FBUztRQUNURSxPQUFPO0lBQ1QsR0FBRztRQUFFQyxRQUFRO0lBQUk7QUFDbkI7QUFFTyxTQUFTRTtJQUNkLE9BQU9YLGtGQUFZQSxDQUFDSyxJQUFJLENBQUM7UUFDdkJDLFNBQVM7UUFDVEUsT0FBTztJQUNULEdBQUc7UUFBRUMsUUFBUTtJQUFJO0FBQ25CO0FBRU8sU0FBU0csaUJBQWlCQyxXQUFtQixJQUFJO0lBQ3RELE9BQU9iLGtGQUFZQSxDQUFDSyxJQUFJLENBQUM7UUFDdkJDLFNBQVM7UUFDVEUsT0FBTyxDQUFDLEVBQUVLLFNBQVMsR0FBRyxDQUFDO0lBQ3pCLEdBQUc7UUFBRUosUUFBUTtJQUFJO0FBQ25CO0FBRU8sU0FBU0ssd0JBQXdCQyxNQUE4QjtJQUNwRSxPQUFPZixrRkFBWUEsQ0FBQ0ssSUFBSSxDQUFDO1FBQ3ZCQyxTQUFTO1FBQ1RFLE9BQU87UUFDUE4sTUFBTWE7SUFDUixHQUFHO1FBQUVOLFFBQVE7SUFBSTtBQUNuQjtBQUVPLFNBQVNPLG9CQUFvQlIsS0FBYztJQUNoRCxPQUFPUixrRkFBWUEsQ0FBQ0ssSUFBSSxDQUFDO1FBQ3ZCQyxTQUFTO1FBQ1RFLE9BQU9BLFNBQVM7SUFDbEIsR0FBRztRQUFFQyxRQUFRO0lBQUk7QUFDbkI7QUFFQSxnQ0FBZ0M7QUFDekIsU0FBU1Esa0JBQ2RmLElBQU8sRUFDUEksT0FBZ0IsRUFDaEJILE9BQWdCLEVBQ2hCZSxTQUFrQjtJQUVsQixPQUFPO1FBQ0xaO1FBQ0FKLE1BQU1JLFVBQVVKLE9BQU9pQjtRQUN2QlgsT0FBT0YsVUFBVWEsWUFBWWhCO1FBQzdCQSxTQUFTRyxVQUFVSCxVQUFVZ0I7SUFDL0I7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2d1aWRlZS8uL3NyYy9saWIvYXBpLXJlc3BvbnNlLnRzP2E1MGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuXG5leHBvcnQgaW50ZXJmYWNlIEFwaVJlc3BvbnNlPFQgPSBhbnk+IHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgZGF0YT86IFQ7XG4gIGVycm9yPzogc3RyaW5nO1xuICBtZXNzYWdlPzogc3RyaW5nO1xuICBwYWdpbmF0aW9uPzoge1xuICAgIHBhZ2U6IG51bWJlcjtcbiAgICBsaW1pdDogbnVtYmVyO1xuICAgIHRvdGFsOiBudW1iZXI7XG4gICAgdG90YWxQYWdlczogbnVtYmVyO1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc3VjY2Vzc1Jlc3BvbnNlPFQ+KFxuICBkYXRhOiBULCBcbiAgbWVzc2FnZT86IHN0cmluZywgXG4gIHBhZ2luYXRpb24/OiBBcGlSZXNwb25zZVsncGFnaW5hdGlvbiddXG4pOiBOZXh0UmVzcG9uc2U8QXBpUmVzcG9uc2U8VD4+IHtcbiAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICBzdWNjZXNzOiB0cnVlLFxuICAgIGRhdGEsXG4gICAgbWVzc2FnZSxcbiAgICBwYWdpbmF0aW9uXG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXJyb3JSZXNwb25zZShcbiAgZXJyb3I6IHN0cmluZywgXG4gIHN0YXR1czogbnVtYmVyID0gNDAwXG4pOiBOZXh0UmVzcG9uc2U8QXBpUmVzcG9uc2U+IHtcbiAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICBlcnJvclxuICB9LCB7IHN0YXR1cyB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVuYXV0aG9yaXplZFJlc3BvbnNlKCk6IE5leHRSZXNwb25zZTxBcGlSZXNwb25zZT4ge1xuICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgIGVycm9yOiAn5pyq57aT5o6I5qyK55qE6KuL5rGCJ1xuICB9LCB7IHN0YXR1czogNDAxIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZm9yYmlkZGVuUmVzcG9uc2UoKTogTmV4dFJlc3BvbnNlPEFwaVJlc3BvbnNlPiB7XG4gIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgc3VjY2VzczogZmFsc2UsXG4gICAgZXJyb3I6ICfmrIrpmZDkuI3otrMnXG4gIH0sIHsgc3RhdHVzOiA0MDMgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBub3RGb3VuZFJlc3BvbnNlKHJlc291cmNlOiBzdHJpbmcgPSAn6LOH5rqQJyk6IE5leHRSZXNwb25zZTxBcGlSZXNwb25zZT4ge1xuICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgIGVycm9yOiBgJHtyZXNvdXJjZX3kuI3lrZjlnKhgXG4gIH0sIHsgc3RhdHVzOiA0MDQgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0aW9uRXJyb3JSZXNwb25zZShlcnJvcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4pOiBOZXh0UmVzcG9uc2U8QXBpUmVzcG9uc2U+IHtcbiAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICBlcnJvcjogJ+mpl+itieWkseaVlycsXG4gICAgZGF0YTogZXJyb3JzXG4gIH0sIHsgc3RhdHVzOiA0MjIgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXJ2ZXJFcnJvclJlc3BvbnNlKGVycm9yPzogc3RyaW5nKTogTmV4dFJlc3BvbnNlPEFwaVJlc3BvbnNlPiB7XG4gIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgc3VjY2VzczogZmFsc2UsXG4gICAgZXJyb3I6IGVycm9yIHx8ICfkvLrmnI3lmajlhafpg6jpjK/oqqQnXG4gIH0sIHsgc3RhdHVzOiA1MDAgfSk7XG59XG5cbi8vIExlZ2FjeSBjb21wYXRpYmlsaXR5IGZ1bmN0aW9uXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQXBpUmVzcG9uc2U8VD4oXG4gIGRhdGE6IFQsXG4gIHN1Y2Nlc3M6IGJvb2xlYW4sXG4gIG1lc3NhZ2U/OiBzdHJpbmcsXG4gIGVycm9yVHlwZT86IHN0cmluZ1xuKTogQXBpUmVzcG9uc2U8VD4ge1xuICByZXR1cm4ge1xuICAgIHN1Y2Nlc3MsXG4gICAgZGF0YTogc3VjY2VzcyA/IGRhdGEgOiB1bmRlZmluZWQsXG4gICAgZXJyb3I6IHN1Y2Nlc3MgPyB1bmRlZmluZWQgOiBtZXNzYWdlLFxuICAgIG1lc3NhZ2U6IHN1Y2Nlc3MgPyBtZXNzYWdlIDogdW5kZWZpbmVkXG4gIH07XG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInN1Y2Nlc3NSZXNwb25zZSIsImRhdGEiLCJtZXNzYWdlIiwicGFnaW5hdGlvbiIsImpzb24iLCJzdWNjZXNzIiwiZXJyb3JSZXNwb25zZSIsImVycm9yIiwic3RhdHVzIiwidW5hdXRob3JpemVkUmVzcG9uc2UiLCJmb3JiaWRkZW5SZXNwb25zZSIsIm5vdEZvdW5kUmVzcG9uc2UiLCJyZXNvdXJjZSIsInZhbGlkYXRpb25FcnJvclJlc3BvbnNlIiwiZXJyb3JzIiwic2VydmVyRXJyb3JSZXNwb25zZSIsImNyZWF0ZUFwaVJlc3BvbnNlIiwiZXJyb3JUeXBlIiwidW5kZWZpbmVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/api-response.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/prisma.ts":
/*!***************************!*\
  !*** ./src/lib/prisma.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient({\n    log: [\n        \"query\"\n    ]\n});\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3ByaXNtYS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNkM7QUFFN0MsTUFBTUMsa0JBQWtCQztBQUlqQixNQUFNQyxTQUNYRixnQkFBZ0JFLE1BQU0sSUFDdEIsSUFBSUgsd0RBQVlBLENBQUM7SUFDZkksS0FBSztRQUFDO0tBQVE7QUFDaEIsR0FBRTtBQUVKLElBQUlDLElBQXlCLEVBQWNKLGdCQUFnQkUsTUFBTSxHQUFHQSIsInNvdXJjZXMiOlsid2VicGFjazovL2d1aWRlZS8uL3NyYy9saWIvcHJpc21hLnRzPzAxZDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSAnQHByaXNtYS9jbGllbnQnXG5cbmNvbnN0IGdsb2JhbEZvclByaXNtYSA9IGdsb2JhbFRoaXMgYXMgdW5rbm93biBhcyB7XG4gIHByaXNtYTogUHJpc21hQ2xpZW50IHwgdW5kZWZpbmVkXG59XG5cbmV4cG9ydCBjb25zdCBwcmlzbWEgPVxuICBnbG9iYWxGb3JQcmlzbWEucHJpc21hID8/XG4gIG5ldyBQcmlzbWFDbGllbnQoe1xuICAgIGxvZzogWydxdWVyeSddLFxuICB9KVxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA9IHByaXNtYSJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJnbG9iYWxGb3JQcmlzbWEiLCJnbG9iYWxUaGlzIiwicHJpc21hIiwibG9nIiwicHJvY2VzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/prisma.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fguides%2F%5Bid%5D%2Froute&page=%2Fapi%2Fguides%2F%5Bid%5D%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fguides%2F%5Bid%5D%2Froute.ts&appDir=%2FUsers%2Fzoechang%2Fprojects%2FGuidee%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fzoechang%2Fprojects%2FGuidee&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();