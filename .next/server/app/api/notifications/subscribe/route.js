"use strict";(()=>{var e={};e.id=7052,e.ids=[7052],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63406:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>h,originalPathname:()=>m,patchFetch:()=>j,requestAsyncStorage:()=>l,routeModule:()=>d,serverHooks:()=>f,staticGenerationAsyncStorage:()=>b,staticGenerationBailout:()=>g});var s={};r.r(s),r.d(s,{GET:()=>p,POST:()=>c});var i=r(95419),n=r(69108),o=r(99678),a=r(78070);let u=new Map;async function c(e){try{let t=await e.json();if(!t.subscription||!t.userId)return a.Z.json({error:"缺少必要的訂閱資訊"},{status:400});return u.set(t.userId,t.subscription),a.Z.json({success:!0,message:"推送通知訂閱成功"})}catch(e){return a.Z.json({error:"訂閱失敗，請稍後再試"},{status:500})}}async function p(e){let t=new URL(e.url).searchParams.get("userId");if(!t)return a.Z.json({error:"缺少用戶 ID"},{status:400});let r=u.get(t);return a.Z.json({isSubscribed:!!r,subscription:r||null})}let d=new i.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/notifications/subscribe/route",pathname:"/api/notifications/subscribe",filename:"route",bundlePath:"app/api/notifications/subscribe/route"},resolvedPagePath:"/Users/zoechang/projects/Guidee/src/app/api/notifications/subscribe/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:l,staticGenerationAsyncStorage:b,serverHooks:f,headerHooks:h,staticGenerationBailout:g}=d,m="/api/notifications/subscribe/route";function j(){return(0,o.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:b})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[1216],()=>r(63406));module.exports=s})();