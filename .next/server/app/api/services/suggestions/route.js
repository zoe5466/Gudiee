"use strict";(()=>{var e={};e.id=3741,e.ids=[3741],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},75554:(e,t,s)=>{s.r(t),s.d(t,{headerHooks:()=>y,originalPathname:()=>v,patchFetch:()=>b,requestAsyncStorage:()=>g,routeModule:()=>p,serverHooks:()=>d,staticGenerationAsyncStorage:()=>h,staticGenerationBailout:()=>m});var r={};s.r(r),s.d(r,{GET:()=>n});var i=s(95419),o=s(69108),a=s(99678),u=s(78070);let c=[{type:"service",title:"台北101 & 信義區深度導覽",subtitle:"台北市信義區 - NT$ 1200",url:"/services/1",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=100&h=100&fit=crop"},{type:"service",title:"九份老街文化巡禮",subtitle:"新北市瑞芳區 - NT$ 2800",url:"/services/2",image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=100&h=100&fit=crop"},{type:"location",title:"台北市",subtitle:"25+ 個活動",url:"/search?location=taipei",count:25},{type:"location",title:"台南市",subtitle:"18+ 個活動",url:"/search?location=tainan",count:18},{type:"category",title:"文化導覽",subtitle:"歷史古蹟巡禮",url:"/search?category=culture",count:12},{type:"category",title:"美食體驗",subtitle:"在地小吃探索",url:"/search?category=food",count:20},{type:"guide",title:"小美導遊",subtitle:"台北文化專家 - 4.9★",url:"/guides/xiaomei",avatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=100&h=100&fit=crop&crop=face"},{type:"guide",title:"阿明導遊",subtitle:"山城嚮導 - 4.8★",url:"/guides/aming",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&crop=face"}],l=[{type:"service",title:"台北101觀景台",subtitle:"熱門景點",url:"/search?q=台北101",count:156},{type:"service",title:"九份老街",subtitle:"經典路線",url:"/search?q=九份",count:89},{type:"category",title:"夜市美食",subtitle:"台灣特色",url:"/search?category=night-market",count:45}];async function n(e){try{let{searchParams:t}=new URL(e.url),s=t.get("q")||"",r=t.get("type")||"all",i=parseInt(t.get("limit")||"10");if(!s||s.length<2)return u.Z.json({success:!0,data:{suggestions:[],popular:l.slice(0,i)}});let o=c.filter(e=>{let t=e.title.toLowerCase().includes(s.toLowerCase())||e.subtitle&&e.subtitle.toLowerCase().includes(s.toLowerCase());return"all"===r?t:t&&e.type===r});return o=o.slice(0,i),u.Z.json({success:!0,data:{suggestions:o,popular:s.length<3?l.slice(0,3):[]}})}catch(e){return u.Z.json({success:!1,error:"搜尋建議獲取失敗"},{status:500})}}let p=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/services/suggestions/route",pathname:"/api/services/suggestions",filename:"route",bundlePath:"app/api/services/suggestions/route"},resolvedPagePath:"/Users/zoechang/projects/Guidee/src/app/api/services/suggestions/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:g,staticGenerationAsyncStorage:h,serverHooks:d,headerHooks:y,staticGenerationBailout:m}=p,v="/api/services/suggestions/route";function b(){return(0,a.patchFetch)({serverHooks:d,staticGenerationAsyncStorage:h})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[1216],()=>s(75554));module.exports=r})();