(()=>{var e={};e.id=7944,e.ids=[7944],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},36382:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>d});var s=t(50482),o=t(69108),i=t(62563),n=t.n(i),l=t(68300),a={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(a[e]=()=>l[e]);t.d(r,a);let d=["",{children:["(main)",{children:["auth",{children:["register",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,26925)),"/Users/zoechang/projects/Guidee/src/app/(main)/auth/register/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,11808)),"/Users/zoechang/projects/Guidee/src/app/(main)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,98890)),"/Users/zoechang/projects/Guidee/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/zoechang/projects/Guidee/src/app/(main)/auth/register/page.tsx"],m="/(main)/auth/register/page",p={require:t,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/(main)/auth/register/page",pathname:"/auth/register",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},35711:(e,r,t)=>{Promise.resolve().then(t.bind(t,50763))},50763:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>b});var s=t(95344),o=t(3729),i=t(22254),n=t(20783),l=t.n(n),a=t(63024),d=t(62312),c=t(66138),m=t(18822),p=t(71206),h=t(40626),u=t(47958),g=t(1222),x=t(53148),f=t(2582);function b(){var e;let r=(0,i.useRouter)(),t=(0,i.useSearchParams)(),{register:n,isLoading:b}=(0,f.a)(),[y,j]=(0,o.useState)({name:"",email:"",phone:"",password:"",confirmPassword:"",userType:"customer",agreeTerms:!1,subscribeNewsletter:!1});(0,o.useEffect)(()=>{"guide"===t.get("type")&&j(e=>({...e,userType:"guide"}))},[t]);let[v,w]=(0,o.useState)(!1),[k,S]=(0,o.useState)(!1),[z,C]=(0,o.useState)({}),[T,P]=(0,o.useState)(1),B=(e=>{let r={length:e.length>=8,lowercase:/[a-z]/.test(e),uppercase:/[A-Z]/.test(e),number:/\d/.test(e),special:/[!@#$%^&*(),.?":{}|<>]/.test(e)},t=Object.values(r).filter(Boolean).length;return{checks:r,score:t}})(y.password),R=()=>{let e={};return y.name.trim()?y.name.trim().length<2&&(e.name="姓名至少需要2個字符"):e.name="請輸入姓名",y.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y.email)||(e.email="請輸入有效的電子郵件格式"):e.email="請輸入電子郵件",y.phone?/^09\d{8}$/.test(y.phone)||(e.phone="請輸入有效的台灣手機號碼格式 (09xxxxxxxx)"):e.phone="請輸入手機號碼",C(e),0===Object.keys(e).length},W=()=>{let e={};return y.password?y.password.length<8?e.password="密碼至少需要8個字符":B.score<3&&(e.password="密碼強度不足，請包含大小寫字母、數字或特殊字符"):e.password="請輸入密碼",y.confirmPassword?y.password!==y.confirmPassword&&(e.confirmPassword="密碼確認不一致"):e.confirmPassword="請確認密碼",y.agreeTerms||(e.agreeTerms="請同意服務條款和隱私政策"),C(e),0===Object.keys(e).length},_=async e=>{if(e.preventDefault(),W())try{await n({name:y.name,email:y.email,phone:y.phone,password:y.password,userType:y.userType,subscribeNewsletter:y.subscribeNewsletter}),r.push("/auth/verify-email?email="+encodeURIComponent(y.email))}catch(e){C({general:e.message||"註冊失敗，請稍後再試"})}},I=()=>{1===T&&R()&&P(2)},N=(e,r)=>{j(t=>({...t,[e]:r})),z[e]&&C(r=>({...r,[e]:""})),z.general&&C(e=>({...e,general:""}))},Z=e=>e<=2?"#ef4444":e<=3?"#f59e0b":"#10b981";return(0,s.jsxs)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:[(0,s.jsxs)("button",{onClick:()=>r.push("/"),style:{position:"absolute",top:"2rem",left:"2rem",display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem 1rem",backgroundColor:"rgba(255, 255, 255, 0.1)",color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",backdropFilter:"blur(10px)"},children:[s.jsx(a.Z,{style:{width:"1rem",height:"1rem"}}),"返回首頁"]}),(0,s.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"1rem",padding:"2rem",width:"100%",maxWidth:"450px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},children:[s.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"2rem"},children:(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[s.jsx("div",{style:{width:"2rem",height:"2rem",borderRadius:"50%",backgroundColor:T>=1?"#3b82f6":"#e5e7eb",color:T>=1?"white":"#9ca3af",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem",fontWeight:"600"},children:T>1?s.jsx(d.Z,{style:{width:"1rem",height:"1rem"}}):"1"}),s.jsx("div",{style:{width:"3rem",height:"2px",backgroundColor:T>=2?"#3b82f6":"#e5e7eb"}}),s.jsx("div",{style:{width:"2rem",height:"2rem",borderRadius:"50%",backgroundColor:T>=2?"#3b82f6":"#e5e7eb",color:T>=2?"white":"#9ca3af",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.875rem",fontWeight:"600"},children:"2"})]})}),(0,s.jsxs)("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[s.jsx("h1",{style:{fontSize:"2rem",fontWeight:"700",color:"#111827",marginBottom:"0.5rem"},children:1===T?"建立帳戶":"設定密碼"}),s.jsx("p",{style:{color:"#6b7280",fontSize:"0.875rem"},children:1===T?"填寫基本資料以開始使用 Guidee":"設定安全密碼保護您的帳戶"})]}),z.general&&(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"0.5rem",marginBottom:"1.5rem"},children:[s.jsx(c.Z,{style:{width:"1rem",height:"1rem",color:"#ef4444"}}),s.jsx("span",{style:{fontSize:"0.875rem",color:"#dc2626"},children:z.general})]}),(0,s.jsxs)("form",{onSubmit:1===T?e=>{e.preventDefault(),I()}:_,children:[1===T&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.75rem"},children:"我想要"}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[(0,s.jsxs)("button",{type:"button",onClick:()=>N("userType","customer"),style:{padding:"1rem",border:`2px solid ${"customer"===y.userType?"#3b82f6":"#e5e7eb"}`,borderRadius:"0.5rem",backgroundColor:"customer"===y.userType?"#eff6ff":"white",textAlign:"center",cursor:"pointer",transition:"all 0.2s"},children:[s.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"\uD83E\uDDF3"}),s.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#111827"},children:"尋找地陪"}),s.jsx("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:"我是旅客"})]}),(0,s.jsxs)("button",{type:"button",onClick:()=>N("userType","guide"),style:{padding:"1rem",border:`2px solid ${"guide"===y.userType?"#3b82f6":"#e5e7eb"}`,borderRadius:"0.5rem",backgroundColor:"guide"===y.userType?"#eff6ff":"white",textAlign:"center",cursor:"pointer",transition:"all 0.2s"},children:[s.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"\uD83D\uDDFA️"}),s.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"500",color:"#111827"},children:"成為地陪"}),s.jsx("div",{style:{fontSize:"0.75rem",color:"#6b7280"},children:"提供服務"})]})]})]}),(0,s.jsxs)("div",{style:{marginBottom:"1rem"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"姓名 *"}),(0,s.jsxs)("div",{style:{position:"relative"},children:[s.jsx(m.Z,{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",width:"1rem",height:"1rem",color:"#9ca3af"}}),s.jsx("input",{type:"text",value:y.name,onChange:e=>N("name",e.target.value),placeholder:"請輸入您的姓名",style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:`1px solid ${z.name?"#ef4444":"#e5e7eb"}`,borderRadius:"0.5rem",fontSize:"1rem",outline:"none",transition:"all 0.2s"},className:"focus:border-blue-500 focus:ring-2 focus:ring-blue-200"})]}),z.name&&s.jsx("p",{style:{marginTop:"0.25rem",fontSize:"0.875rem",color:"#ef4444"},children:z.name})]}),(0,s.jsxs)("div",{style:{marginBottom:"1rem"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"電子郵件 *"}),(0,s.jsxs)("div",{style:{position:"relative"},children:[s.jsx(p.Z,{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",width:"1rem",height:"1rem",color:"#9ca3af"}}),s.jsx("input",{type:"email",value:y.email,onChange:e=>N("email",e.target.value),placeholder:"your@email.com",style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:`1px solid ${z.email?"#ef4444":"#e5e7eb"}`,borderRadius:"0.5rem",fontSize:"1rem",outline:"none",transition:"all 0.2s"},className:"focus:border-blue-500 focus:ring-2 focus:ring-blue-200"})]}),z.email&&s.jsx("p",{style:{marginTop:"0.25rem",fontSize:"0.875rem",color:"#ef4444"},children:z.email})]}),(0,s.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"手機號碼 *"}),(0,s.jsxs)("div",{style:{position:"relative"},children:[s.jsx(h.Z,{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",width:"1rem",height:"1rem",color:"#9ca3af"}}),s.jsx("input",{type:"tel",value:y.phone,onChange:e=>N("phone",e.target.value),placeholder:"09xxxxxxxx",style:{width:"100%",padding:"0.75rem 0.75rem 0.75rem 2.5rem",border:`1px solid ${z.phone?"#ef4444":"#e5e7eb"}`,borderRadius:"0.5rem",fontSize:"1rem",outline:"none",transition:"all 0.2s"},className:"focus:border-blue-500 focus:ring-2 focus:ring-blue-200"})]}),z.phone&&s.jsx("p",{style:{marginTop:"0.25rem",fontSize:"0.875rem",color:"#ef4444"},children:z.phone})]})]}),2===T&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{style:{marginBottom:"1rem"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"密碼 *"}),(0,s.jsxs)("div",{style:{position:"relative"},children:[s.jsx(u.Z,{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",width:"1rem",height:"1rem",color:"#9ca3af"}}),s.jsx("input",{type:v?"text":"password",value:y.password,onChange:e=>N("password",e.target.value),placeholder:"設定您的密碼",style:{width:"100%",padding:"0.75rem 2.5rem 0.75rem 2.5rem",border:`1px solid ${z.password?"#ef4444":"#e5e7eb"}`,borderRadius:"0.5rem",fontSize:"1rem",outline:"none",transition:"all 0.2s"},className:"focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}),s.jsx("button",{type:"button",onClick:()=>w(!v),style:{position:"absolute",right:"0.75rem",top:"50%",transform:"translateY(-50%)",padding:"0.25rem",backgroundColor:"transparent",border:"none",cursor:"pointer"},children:v?s.jsx(g.Z,{style:{width:"1rem",height:"1rem",color:"#9ca3af"}}):s.jsx(x.Z,{style:{width:"1rem",height:"1rem",color:"#9ca3af"}})})]}),y.password&&(0,s.jsxs)("div",{style:{marginTop:"0.5rem"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[s.jsx("div",{style:{flex:1,height:"4px",backgroundColor:"#e5e7eb",borderRadius:"2px",overflow:"hidden"},children:s.jsx("div",{style:{width:`${B.score/5*100}%`,height:"100%",backgroundColor:Z(B.score),transition:"all 0.3s"}})}),s.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"500",color:Z(B.score)},children:(e=B.score)<=2?"弱":e<=3?"中等":"強"})]}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"0.25rem",fontSize:"0.75rem",color:"#6b7280"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",color:B.checks.length?"#10b981":"#ef4444"},children:[B.checks.length?"✓":"✗"," 至少8個字符"]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",color:B.checks.uppercase?"#10b981":"#ef4444"},children:[B.checks.uppercase?"✓":"✗"," 包含大寫字母"]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",color:B.checks.lowercase?"#10b981":"#ef4444"},children:[B.checks.lowercase?"✓":"✗"," 包含小寫字母"]}),(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",color:B.checks.number?"#10b981":"#ef4444"},children:[B.checks.number?"✓":"✗"," 包含數字"]})]})]}),z.password&&s.jsx("p",{style:{marginTop:"0.25rem",fontSize:"0.875rem",color:"#ef4444"},children:z.password})]}),(0,s.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[s.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"確認密碼 *"}),(0,s.jsxs)("div",{style:{position:"relative"},children:[s.jsx(u.Z,{style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",width:"1rem",height:"1rem",color:"#9ca3af"}}),s.jsx("input",{type:k?"text":"password",value:y.confirmPassword,onChange:e=>N("confirmPassword",e.target.value),placeholder:"再次輸入密碼",style:{width:"100%",padding:"0.75rem 2.5rem 0.75rem 2.5rem",border:`1px solid ${z.confirmPassword?"#ef4444":"#e5e7eb"}`,borderRadius:"0.5rem",fontSize:"1rem",outline:"none",transition:"all 0.2s"},className:"focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}),s.jsx("button",{type:"button",onClick:()=>S(!k),style:{position:"absolute",right:"0.75rem",top:"50%",transform:"translateY(-50%)",padding:"0.25rem",backgroundColor:"transparent",border:"none",cursor:"pointer"},children:k?s.jsx(g.Z,{style:{width:"1rem",height:"1rem",color:"#9ca3af"}}):s.jsx(x.Z,{style:{width:"1rem",height:"1rem",color:"#9ca3af"}})})]}),z.confirmPassword&&s.jsx("p",{style:{marginTop:"0.25rem",fontSize:"0.875rem",color:"#ef4444"},children:z.confirmPassword})]}),(0,s.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,s.jsxs)("label",{style:{display:"flex",alignItems:"flex-start",gap:"0.5rem",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:y.agreeTerms,onChange:e=>N("agreeTerms",e.target.checked),style:{width:"1rem",height:"1rem",marginTop:"0.125rem"}}),(0,s.jsxs)("span",{style:{fontSize:"0.875rem",color:"#374151",lineHeight:"1.4"},children:["我同意"," ",s.jsx(l(),{href:"/terms",style:{color:"#3b82f6",textDecoration:"none"},children:"服務條款"})," ","和"," ",s.jsx(l(),{href:"/privacy",style:{color:"#3b82f6",textDecoration:"none"},children:"隱私政策"})]})]}),z.agreeTerms&&s.jsx("p",{style:{marginTop:"0.25rem",fontSize:"0.875rem",color:"#ef4444"},children:z.agreeTerms})]}),s.jsx("div",{style:{marginBottom:"1.5rem"},children:(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[s.jsx("input",{type:"checkbox",checked:y.subscribeNewsletter,onChange:e=>N("subscribeNewsletter",e.target.checked),style:{width:"1rem",height:"1rem"}}),s.jsx("span",{style:{fontSize:"0.875rem",color:"#374151"},children:"訂閱電子報，接收最新旅遊資訊和優惠"})]})})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:"0.75rem",marginBottom:"1.5rem"},children:[2===T&&s.jsx("button",{type:"button",onClick:()=>P(1),style:{flex:1,padding:"0.75rem",backgroundColor:"white",color:"#374151",border:"1px solid #e5e7eb",borderRadius:"0.5rem",fontSize:"1rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},className:"hover:bg-gray-50",children:"上一步"}),s.jsx("button",{type:"submit",disabled:b,style:{flex:1,padding:"0.75rem",backgroundColor:b?"#9ca3af":"#3b82f6",color:"white",border:"none",borderRadius:"0.5rem",fontSize:"1rem",fontWeight:"600",cursor:b?"not-allowed":"pointer",transition:"all 0.2s"},className:"hover:bg-blue-700",children:b?(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[s.jsx("div",{style:{width:"1rem",height:"1rem",border:"2px solid rgba(255, 255, 255, 0.3)",borderTop:"2px solid white",borderRadius:"50%",animation:"spin 1s linear infinite"}}),1===T?"驗證中...":"註冊中..."]}):1===T?"下一步":"建立帳戶"})]})]}),(0,s.jsxs)("p",{style:{textAlign:"center",fontSize:"0.875rem",color:"#6b7280"},children:["已經有帳戶？"," ",s.jsx(l(),{href:"/auth/login",style:{color:"#3b82f6",textDecoration:"none",fontWeight:"500"},className:"hover:underline",children:"立即登入"})]})]})]})}},26925:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>i,__esModule:()=>o,default:()=>n});let s=(0,t(86843).createProxy)(String.raw`/Users/zoechang/projects/Guidee/src/app/(main)/auth/register/page.tsx`),{__esModule:o,$$typeof:i}=s,n=s.default}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[1216,8039,4757,8290],()=>t(36382));module.exports=s})();