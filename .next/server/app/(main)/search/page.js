(()=>{var e={};e.id=8580,e.ids=[8580],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},38935:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.a,__next_app__:()=>h,originalPathname:()=>m,pages:()=>c,routeModule:()=>g,tree:()=>d});var i=t(50482),s=t(69108),l=t(62563),a=t.n(l),n=t(68300),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(r,o);let d=["",{children:["(main)",{children:["search",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,86712)),"/Users/zoechang/projects/Guidee/src/app/(main)/search/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,11808)),"/Users/zoechang/projects/Guidee/src/app/(main)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,98890)),"/Users/zoechang/projects/Guidee/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/zoechang/projects/Guidee/src/app/(main)/search/page.tsx"],m="/(main)/search/page",h={require:t,loadChunk:()=>Promise.resolve()},g=new i.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(main)/search/page",pathname:"/search",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},59153:(e,r,t)=>{Promise.resolve().then(t.bind(t,16927))},16927:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>E});var i=t(95344),s=t(3729),l=t(22254),a=t(51354),n=t(80508),o=t(25545),d=t(89895),c=t(28765),m=t(77536),h=t(17418),g=t(76755),u=t(30473),x=t(46064),p=t(13012),f=t(17280),b=t(42739),y=t(5094),v=t(46540),j=t(23673),w=t(13592),N=t(95576),C=t(23632),k=t(23108),S=t(71206),R=t(40626);function z(){let e={traveler:[{name:"探索地陪",href:"/search"},{name:"如何使用",href:"/how-it-works"},{name:"安全保障",href:"/safety"},{name:"用戶評價",href:"/reviews"},{name:"旅遊保險",href:"/travel-insurance"}],guide:[{name:"成為地陪",href:"/become-guide"},{name:"地陪資源",href:"/guide-resources"},{name:"地陪社群",href:"/guide-community"},{name:"地陪支援",href:"/guide-support"},{name:"收入計算",href:"/guide-earnings"}],support:[{name:"幫助中心",href:"/help"},{name:"聯絡我們",href:"/contact"},{name:"爭議處理",href:"/disputes"},{name:"服務條款",href:"/terms"},{name:"隱私政策",href:"/privacy"}]},r=[{icon:w.Z,href:"#",label:"Facebook"},{icon:N.Z,href:"#",label:"Twitter"},{icon:C.Z,href:"#",label:"Instagram"},{icon:k.Z,href:"#",label:"YouTube"}],t=[{icon:S.Z,label:"客服信箱",value:"support@guidee.online"},{icon:R.Z,label:"客服專線",value:"0800-123-456"},{icon:n.Z,label:"公司地址",value:"台北市信義區信義路五段7號"}];return(0,i.jsxs)("footer",{className:"bg-gradient-to-br from-gray-900 via-blue-900 to-indigo-900 text-white relative overflow-hidden",children:[(0,i.jsxs)("div",{className:"absolute inset-0",children:[i.jsx("div",{className:"absolute top-20 left-20 w-96 h-96 bg-sky-500/10 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute bottom-20 right-20 w-80 h-80 bg-blue-500/10 rounded-full blur-3xl"})]}),(0,i.jsxs)("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsx("div",{className:"py-16",children:(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-sky-500 to-blue-600 rounded-xl flex items-center justify-center shadow-lg",children:i.jsx("span",{className:"text-white font-bold text-xl",children:"R"})}),i.jsx("span",{className:"text-2xl font-bold text-white",children:"Guidee"})]}),i.jsx("p",{className:"text-gray-300 text-sm leading-relaxed max-w-xs",children:"Guidee 是台灣領先的地陪媒合平台，連接旅客與專業地陪，創造難忘的旅遊體驗。"}),i.jsx("div",{className:"flex space-x-4",children:r.map((e,r)=>i.jsx("a",{href:e.href,className:"w-10 h-10 bg-white/10 backdrop-blur-sm rounded-xl flex items-center justify-center hover:bg-sky-500 hover:scale-110 transition-all duration-300 group","aria-label":e.label,children:i.jsx(e.icon,{className:"w-5 h-5 text-gray-300 group-hover:text-white transition-colors duration-300"})},r))})]}),(0,i.jsxs)("div",{className:"space-y-6",children:[i.jsx("h3",{className:"text-white font-semibold text-lg",children:"旅客服務"}),i.jsx("ul",{className:"space-y-3",children:e.traveler.map((e,r)=>i.jsx("li",{children:i.jsx("a",{href:e.href,className:"text-gray-300 hover:text-white transition-colors duration-300 text-sm hover:translate-x-1 transform transition-transform duration-300 inline-block",children:e.name})},r))})]}),(0,i.jsxs)("div",{className:"space-y-6",children:[i.jsx("h3",{className:"text-white font-semibold text-lg",children:"地陪服務"}),i.jsx("ul",{className:"space-y-3",children:e.guide.map((e,r)=>i.jsx("li",{children:i.jsx("a",{href:e.href,className:"text-gray-300 hover:text-white transition-colors duration-300 text-sm hover:translate-x-1 transform transition-transform duration-300 inline-block",children:e.name})},r))})]}),(0,i.jsxs)("div",{className:"space-y-6",children:[i.jsx("h3",{className:"text-white font-semibold text-lg",children:"支援中心"}),i.jsx("ul",{className:"space-y-3",children:e.support.map((e,r)=>i.jsx("li",{children:i.jsx("a",{href:e.href,className:"text-gray-300 hover:text-white transition-colors duration-300 text-sm hover:translate-x-1 transform transition-transform duration-300 inline-block",children:e.name})},r))})]})]})}),i.jsx("div",{className:"border-t border-gray-700 pt-8 pb-6",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map((e,r)=>(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-sky-500 to-blue-600 rounded-xl flex items-center justify-center",children:i.jsx(e.icon,{className:"w-5 h-5 text-white"})}),(0,i.jsxs)("div",{children:[i.jsx("p",{className:"text-white font-medium",children:e.label}),i.jsx("p",{className:"text-gray-300 text-sm",children:e.value})]})]},r))})}),i.jsx("div",{className:"border-t border-gray-700 pt-6 pb-8",children:(0,i.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[i.jsx("div",{className:"text-gray-400 text-sm",children:"\xa9 2024 Guidee. 保留所有權利。"}),(0,i.jsxs)("div",{className:"flex space-x-6 text-sm",children:[i.jsx("a",{href:"/terms",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"服務條款"}),i.jsx("a",{href:"/privacy",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"隱私政策"}),i.jsx("a",{href:"/cookies",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Cookie 政策"}),i.jsx("a",{href:"/accessibility",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"無障礙聲明"})]})]})})]}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:i.jsx("svg",{viewBox:"0 0 1200 120",preserveAspectRatio:"none",className:"w-full h-16",children:i.jsx("path",{d:"M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z",opacity:".1",className:"fill-sky-500"})})})]})}var F=t(72032),I=t(58378),B=t(4792),Z=t(33311),P=t(51838),W=t(18452),A=t(19952);function T({center:e={lat:25.033,lng:121.5654},zoom:r=13,locations:t=[],selectedLocation:l,onLocationSelect:a,onLocationCreate:o,showUserLocation:d=!0,showControls:c=!0,style:m,className:h=""}){let g=(0,s.useRef)(null),[u,x]=(0,s.useState)(e),[p,f]=(0,s.useState)(r),[b,y]=(0,s.useState)(null),[v,j]=(0,s.useState)("road"),[w,N]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=setTimeout(()=>{N(!1)},1e3);return()=>clearTimeout(e)},[]),(0,s.useEffect)(()=>{d&&"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(e=>{y({lat:e.coords.latitude,lng:e.coords.longitude})},e=>{},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})},[d]);let C=(0,s.useCallback)(e=>{if(!o)return;let r=e.currentTarget.getBoundingClientRect(),t=e.clientX-r.left,i=e.clientY-r.top;o({lat:u.lat+(r.height/2-i)*.001,lng:u.lng+(t-r.width/2)*.001})},[u,o]),k=(0,s.useCallback)(()=>{f(e=>Math.min(e+1,20))},[]),S=(0,s.useCallback)(()=>{f(e=>Math.max(e-1,1))},[]),R=(0,s.useCallback)(()=>{b&&(x(b),f(15))},[b]),z=(0,s.useCallback)(e=>{let r=(e.latitude-u.lat)*1e3,t=(e.longitude-u.lng)*1e3;return{top:`${50-r}%`,left:`${50+t}%`}},[u]),F=e=>{switch(e){case"service":return"#2563eb";case"guide":return"#10b981";case"poi":return"#f59e0b";case"user":return"#ef4444";default:return"#6b7280"}};return w?i.jsx("div",{style:{width:"100%",height:"400px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f3f4f6",borderRadius:"0.5rem",...m},className:h,children:(0,i.jsxs)("div",{style:{textAlign:"center",color:"#6b7280"},children:[i.jsx("div",{style:{width:"2rem",height:"2rem",border:"2px solid #e5e7eb",borderTop:"2px solid #3b82f6",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 0.5rem"}}),"載入地圖中..."]})}):(0,i.jsxs)("div",{style:{position:"relative",width:"100%",height:"400px",borderRadius:"0.5rem",overflow:"hidden",backgroundColor:"#f3f4f6",...m},className:h,children:[(0,i.jsxs)("div",{ref:g,onClick:C,style:{width:"100%",height:"100%",background:(()=>{switch(v){case"satellite":return`url("data:image/svg+xml,${encodeURIComponent(`
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
            <rect width="100" height="100" fill="#1a5f3f"/>
            <circle cx="20" cy="30" r="15" fill="#2d7a4f" opacity="0.7"/>
            <circle cx="70" cy="60" r="20" fill="#34865b" opacity="0.6"/>
            <circle cx="40" cy="80" r="12" fill="#3d9c6b" opacity="0.8"/>
          </svg>
        `)}")`;case"hybrid":return"linear-gradient(45deg, #f0f9ff 25%, #e0f2fe 25%, #e0f2fe 50%, #f0f9ff 50%, #f0f9ff 75%, #e0f2fe 75%)";default:return"linear-gradient(45deg, #f8fafc 25%, #f1f5f9 25%, #f1f5f9 50%, #f8fafc 50%, #f8fafc 75%, #f1f5f9 75%)"}})(),backgroundSize:"20px 20px",cursor:o?"crosshair":"grab",position:"relative"},children:[t.map(e=>{let r=z(e),t=l===e.id;return(0,i.jsxs)("div",{onClick:r=>{r.stopPropagation(),a?.(e)},style:{position:"absolute",transform:"translate(-50%, -100%)",cursor:"pointer",zIndex:t?20:10,...r},children:[i.jsx("div",{style:{width:t?"2rem":"1.5rem",height:t?"2rem":"1.5rem",backgroundColor:F(e.type),borderRadius:"50% 50% 50% 0",transform:"rotate(-45deg)",border:"2px solid white",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx(n.Z,{style:{width:"0.75rem",height:"0.75rem",color:"white",transform:"rotate(45deg)"}})}),t&&(0,i.jsxs)("div",{style:{position:"absolute",bottom:"100%",left:"50%",transform:"translateX(-50%)",backgroundColor:"white",padding:"0.75rem",borderRadius:"0.5rem",boxShadow:"0 10px 15px -3px rgba(0, 0, 0, 0.1)",border:"1px solid #e5e7eb",minWidth:"12rem",marginBottom:"0.5rem",zIndex:30},children:[i.jsx("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#111827",marginBottom:"0.25rem"},children:e.name}),e.description&&i.jsx("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.5rem"},children:e.description}),e.price&&(0,i.jsxs)("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#2563eb"},children:["NT$ ",e.price.toLocaleString()]}),e.rating&&(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",marginTop:"0.25rem"},children:[i.jsx("span",{style:{color:"#f59e0b"},children:"★"}),i.jsx("span",{style:{fontSize:"0.75rem",color:"#6b7280"},children:e.rating})]}),i.jsx("div",{style:{position:"absolute",top:"100%",left:"50%",transform:"translateX(-50%)",width:0,height:0,borderLeft:"6px solid transparent",borderRight:"6px solid transparent",borderTop:"6px solid white"}})]})]},e.id)}),b&&(0,i.jsxs)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:15},children:[i.jsx("div",{style:{width:"1rem",height:"1rem",backgroundColor:"#3b82f6",border:"3px solid white",borderRadius:"50%",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"}}),i.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",width:"3rem",height:"3rem",transform:"translate(-50%, -50%)",border:"2px solid #3b82f6",borderRadius:"50%",opacity:.3,animation:"pulse 2s infinite"}})]})]}),c&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{style:{position:"absolute",top:"1rem",right:"1rem",display:"flex",flexDirection:"column",gap:"0.25rem",zIndex:20},children:[i.jsx("button",{onClick:k,style:{width:"2.5rem",height:"2.5rem",backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"0.25rem",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},className:"hover:bg-gray-50",children:i.jsx(P.Z,{style:{width:"1rem",height:"1rem",color:"#374151"}})}),i.jsx("button",{onClick:S,style:{width:"2.5rem",height:"2.5rem",backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"0.25rem",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},className:"hover:bg-gray-50",children:i.jsx(W.Z,{style:{width:"1rem",height:"1rem",color:"#374151"}})})]}),b&&i.jsx("button",{onClick:R,style:{position:"absolute",top:"1rem",left:"1rem",width:"2.5rem",height:"2.5rem",backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"0.25rem",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",zIndex:20},className:"hover:bg-gray-50",children:i.jsx(A.Z,{style:{width:"1rem",height:"1rem",color:"#374151"}})}),i.jsx("div",{style:{position:"absolute",bottom:"1rem",right:"1rem",backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"0.25rem",overflow:"hidden",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",zIndex:20},children:(0,i.jsxs)("select",{value:v,onChange:e=>j(e.target.value),style:{padding:"0.5rem",border:"none",backgroundColor:"transparent",fontSize:"0.875rem",cursor:"pointer",outline:"none"},children:[i.jsx("option",{value:"road",children:"道路"}),i.jsx("option",{value:"satellite",children:"衛星"}),i.jsx("option",{value:"hybrid",children:"混合"})]})})]}),(0,i.jsxs)("div",{style:{position:"absolute",bottom:"1rem",left:"1rem",backgroundColor:"white",padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.75rem",color:"#6b7280",border:"1px solid #e5e7eb",zIndex:20},children:["縮放級別: ",p]})]})}var _=t(14513),D=t(55794),q=t(48411),$=t(36341);function G({onSearch:e,onClose:r,initialFilters:t={}}){let[l,a]=(0,s.useState)({query:"",location:"",dateRange:{start:null,end:null},guests:2,priceRange:{min:0,max:1e4},rating:0,duration:[],categories:[],features:[],sortBy:"relevance",availability:"any",languages:[],...t}),[m,u]=(0,s.useState)(!1),x=(e,r)=>{a(t=>({...t,[e]:r}))},p=(e,r)=>{a(t=>({...t,[e]:t[e].includes(r)?t[e].filter(e=>e!==r):[...t[e],r]}))};return(0,i.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"0.5rem",border:"1px solid #e5e7eb",overflow:"hidden",maxWidth:"800px",margin:"0 auto"},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem 1.5rem",backgroundColor:"#f8fafc",borderBottom:"1px solid #e5e7eb"},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx(h.Z,{style:{width:"1.25rem",height:"1.25rem",color:"#3b82f6"}}),i.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#111827",margin:0},children:"進階搜尋"}),(l.query||l.location||l.dateRange.start||l.dateRange.end||2!==l.guests||l.priceRange.min>0||l.priceRange.max<1e4||l.rating>0||l.duration.length>0||l.categories.length>0||l.features.length>0||l.languages.length>0||"any"!==l.availability||"relevance"!==l.sortBy)&&i.jsx("span",{style:{padding:"0.125rem 0.5rem",backgroundColor:"#3b82f6",color:"white",borderRadius:"0.75rem",fontSize:"0.75rem",fontWeight:"500"},children:"已套用篩選"})]}),(0,i.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[i.jsx("button",{onClick:()=>{a({query:"",location:"",dateRange:{start:null,end:null},guests:2,priceRange:{min:0,max:1e4},rating:0,duration:[],categories:[],features:[],sortBy:"relevance",availability:"any",languages:[]})},style:{padding:"0.5rem 0.75rem",backgroundColor:"transparent",color:"#6b7280",border:"1px solid #e5e7eb",borderRadius:"0.375rem",fontSize:"0.875rem",cursor:"pointer"},className:"hover:bg-gray-50",children:"重設"}),r&&i.jsx("button",{onClick:r,style:{padding:"0.5rem",backgroundColor:"transparent",border:"none",borderRadius:"0.25rem",cursor:"pointer"},className:"hover:bg-gray-100",children:i.jsx(_.Z,{style:{width:"1.25rem",height:"1.25rem",color:"#6b7280"}})})]})]}),(0,i.jsxs)("div",{style:{padding:"1.5rem"},children:[(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem"},children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:[i.jsx(c.Z,{style:{width:"1rem",height:"1rem",display:"inline",marginRight:"0.5rem"}}),"關鍵字"]}),i.jsx("input",{type:"text",placeholder:"搜尋服務、地點或活動...",value:l.query,onChange:e=>x("query",e.target.value),style:{width:"100%",padding:"0.75rem",border:"1px solid #e5e7eb",borderRadius:"0.375rem",fontSize:"0.875rem",outline:"none"},className:"focus:border-blue-500 focus:ring-1 focus:ring-blue-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:[i.jsx(n.Z,{style:{width:"1rem",height:"1rem",display:"inline",marginRight:"0.5rem"}}),"地點"]}),i.jsx("input",{type:"text",placeholder:"台北、台中、高雄...",value:l.location,onChange:e=>x("location",e.target.value),style:{width:"100%",padding:"0.75rem",border:"1px solid #e5e7eb",borderRadius:"0.375rem",fontSize:"0.875rem",outline:"none"},className:"focus:border-blue-500 focus:ring-1 focus:ring-blue-500"})]})]}),(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"1rem",marginBottom:"1.5rem"},children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:[i.jsx(D.Z,{style:{width:"1rem",height:"1rem",display:"inline",marginRight:"0.5rem"}}),"開始日期"]}),i.jsx("input",{type:"date",value:l.dateRange.start?.toISOString().split("T")[0]||"",onChange:e=>x("dateRange",{...l.dateRange,start:e.target.value?new Date(e.target.value):null}),style:{width:"100%",padding:"0.75rem",border:"1px solid #e5e7eb",borderRadius:"0.375rem",fontSize:"0.875rem",outline:"none"},className:"focus:border-blue-500 focus:ring-1 focus:ring-blue-500"})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"結束日期"}),i.jsx("input",{type:"date",value:l.dateRange.end?.toISOString().split("T")[0]||"",onChange:e=>x("dateRange",{...l.dateRange,end:e.target.value?new Date(e.target.value):null}),style:{width:"100%",padding:"0.75rem",border:"1px solid #e5e7eb",borderRadius:"0.375rem",fontSize:"0.875rem",outline:"none"},className:"focus:border-blue-500 focus:ring-1 focus:ring-blue-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:[i.jsx(d.Z,{style:{width:"1rem",height:"1rem",display:"inline",marginRight:"0.5rem"}}),"人數"]}),i.jsx("select",{value:l.guests,onChange:e=>x("guests",parseInt(e.target.value)),style:{width:"100%",padding:"0.75rem",border:"1px solid #e5e7eb",borderRadius:"0.375rem",fontSize:"0.875rem",backgroundColor:"white",cursor:"pointer"},children:Array.from({length:10},(e,r)=>r+1).map(e=>(0,i.jsxs)("option",{value:e,children:[e," 人"]},e))})]})]}),(0,i.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,i.jsxs)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:[i.jsx(q.Z,{style:{width:"1rem",height:"1rem",display:"inline",marginRight:"0.5rem"}}),"價格範圍 (NT$ ",l.priceRange.min.toLocaleString()," - NT$ ",l.priceRange.max.toLocaleString(),")"]}),(0,i.jsxs)("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[i.jsx("input",{type:"range",min:"0",max:"10000",step:"500",value:l.priceRange.min,onChange:e=>x("priceRange",{...l.priceRange,min:parseInt(e.target.value)}),style:{flex:1}}),i.jsx("input",{type:"range",min:"0",max:"10000",step:"500",value:l.priceRange.max,onChange:e=>x("priceRange",{...l.priceRange,max:parseInt(e.target.value)}),style:{flex:1}})]})]}),(0,i.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,i.jsxs)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:[i.jsx(g.Z,{style:{width:"1rem",height:"1rem",display:"inline",marginRight:"0.5rem"}}),"最低評分"]}),i.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:[0,3,4,4.5].map(e=>i.jsx("button",{onClick:()=>x("rating",e),style:{padding:"0.5rem 1rem",backgroundColor:l.rating===e?"#3b82f6":"white",color:l.rating===e?"white":"#374151",border:"1px solid #e5e7eb",borderRadius:"0.375rem",fontSize:"0.875rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.25rem"},className:"hover:bg-gray-50",children:0===e?"不限":(0,i.jsxs)(i.Fragment,{children:[e,i.jsx(g.Z,{style:{width:"0.875rem",height:"0.875rem",fill:"currentColor"}}),"以上"]})},e))})]}),i.jsx("button",{onClick:()=>u(!m),style:{width:"100%",padding:"0.75rem",backgroundColor:"#f8fafc",border:"1px solid #e5e7eb",borderRadius:"0.375rem",fontSize:"0.875rem",color:"#374151",cursor:"pointer",marginBottom:"1.5rem"},className:"hover:bg-gray-100",children:m?"收起":"展開更多選項"}),m&&(0,i.jsxs)("div",{style:{marginBottom:"1.5rem"},children:[(0,i.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,i.jsxs)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:[i.jsx(o.Z,{style:{width:"1rem",height:"1rem",display:"inline",marginRight:"0.5rem"}}),"活動時長"]}),i.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:[{value:"1-3h",label:"1-3 小時"},{value:"3-6h",label:"3-6 小時"},{value:"6-12h",label:"6-12 小時"},{value:"full-day",label:"全日遊"},{value:"multi-day",label:"多日遊"}].map(e=>i.jsx("button",{onClick:()=>p("duration",e.value),style:{padding:"0.5rem 0.75rem",backgroundColor:l.duration.includes(e.value)?"#3b82f6":"white",color:l.duration.includes(e.value)?"white":"#374151",border:"1px solid #e5e7eb",borderRadius:"0.375rem",fontSize:"0.875rem",cursor:"pointer"},className:"hover:bg-gray-50",children:e.label},e.value))})]}),(0,i.jsxs)("div",{style:{marginBottom:"1rem"},children:[(0,i.jsxs)("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:[i.jsx($.Z,{style:{width:"1rem",height:"1rem",display:"inline",marginRight:"0.5rem"}}),"體驗類別"]}),i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"0.5rem"},children:[{value:"culture",label:"文化體驗",icon:"\uD83C\uDFDB️"},{value:"food",label:"美食品嚐",icon:"\uD83C\uDF5C"},{value:"nature",label:"自然探索",icon:"\uD83C\uDFD4️"},{value:"city",label:"城市導覽",icon:"\uD83C\uDFD9️"},{value:"adventure",label:"冒險活動",icon:"\uD83C\uDFC3‍♂️"},{value:"shopping",label:"購物血拼",icon:"\uD83D\uDECD️"},{value:"nightlife",label:"夜生活",icon:"\uD83C\uDF03"},{value:"photography",label:"攝影景點",icon:"\uD83D\uDCF8"}].map(e=>(0,i.jsxs)("button",{onClick:()=>p("categories",e.value),style:{padding:"0.5rem 0.75rem",backgroundColor:l.categories.includes(e.value)?"#3b82f6":"white",color:l.categories.includes(e.value)?"white":"#374151",border:"1px solid #e5e7eb",borderRadius:"0.375rem",fontSize:"0.875rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},className:"hover:bg-gray-50",children:[i.jsx("span",{children:e.icon}),e.label]},e.value))})]}),(0,i.jsxs)("div",{style:{marginBottom:"1rem"},children:[i.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"特色功能"}),i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"0.5rem"},children:[{value:"instant_booking",label:"即時預訂"},{value:"free_cancellation",label:"免費取消"},{value:"pickup_included",label:"包含接送"},{value:"meal_included",label:"包含餐食"},{value:"english_speaking",label:"英語導覽"},{value:"small_group",label:"小團體驗"},{value:"private_tour",label:"私人導覽"},{value:"family_friendly",label:"親子友善"}].map(e=>i.jsx("button",{onClick:()=>p("features",e.value),style:{padding:"0.5rem 0.75rem",backgroundColor:l.features.includes(e.value)?"#3b82f6":"white",color:l.features.includes(e.value)?"white":"#374151",border:"1px solid #e5e7eb",borderRadius:"0.375rem",fontSize:"0.875rem",cursor:"pointer"},className:"hover:bg-gray-50",children:e.label},e.value))})]}),(0,i.jsxs)("div",{style:{marginBottom:"1rem"},children:[i.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"導覽語言"}),i.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:[{value:"zh-TW",label:"繁體中文"},{value:"zh-CN",label:"简体中文"},{value:"en",label:"English"},{value:"ja",label:"日本語"},{value:"ko",label:"한국어"},{value:"es",label:"Espa\xf1ol"},{value:"fr",label:"Fran\xe7ais"}].map(e=>i.jsx("button",{onClick:()=>p("languages",e.value),style:{padding:"0.5rem 0.75rem",backgroundColor:l.languages.includes(e.value)?"#3b82f6":"white",color:l.languages.includes(e.value)?"white":"#374151",border:"1px solid #e5e7eb",borderRadius:"0.375rem",fontSize:"0.875rem",cursor:"pointer"},className:"hover:bg-gray-50",children:e.label},e.value))})]}),(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[(0,i.jsxs)("div",{children:[i.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"排序方式"}),(0,i.jsxs)("select",{value:l.sortBy,onChange:e=>x("sortBy",e.target.value),style:{width:"100%",padding:"0.75rem",border:"1px solid #e5e7eb",borderRadius:"0.375rem",fontSize:"0.875rem",backgroundColor:"white",cursor:"pointer"},children:[i.jsx("option",{value:"relevance",children:"相關性"}),i.jsx("option",{value:"price_low",children:"價格由低到高"}),i.jsx("option",{value:"price_high",children:"價格由高到低"}),i.jsx("option",{value:"rating",children:"評分最高"}),i.jsx("option",{value:"distance",children:"距離最近"}),i.jsx("option",{value:"popularity",children:"最受歡迎"})]})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{style:{display:"block",fontSize:"0.875rem",fontWeight:"500",color:"#374151",marginBottom:"0.5rem"},children:"可預訂性"}),(0,i.jsxs)("select",{value:l.availability,onChange:e=>x("availability",e.target.value),style:{width:"100%",padding:"0.75rem",border:"1px solid #e5e7eb",borderRadius:"0.375rem",fontSize:"0.875rem",backgroundColor:"white",cursor:"pointer"},children:[i.jsx("option",{value:"any",children:"不限"}),i.jsx("option",{value:"instant",children:"即時預訂"}),i.jsx("option",{value:"within_24h",children:"24小時內確認"})]})]})]})]}),(0,i.jsxs)("button",{onClick:()=>{e(l),r&&r()},style:{width:"100%",padding:"1rem",backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"0.5rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},className:"hover:bg-blue-600",children:[i.jsx(c.Z,{style:{width:"1.25rem",height:"1.25rem"}}),"搜尋服務"]})]})]})}let L=({id:e,title:r,location:t,price:c,rating:m,reviewCount:h,duration:g,maxGuests:u,image:x,guideName:p,guideAvatar:f,isLiked:b=!1,selectedLocationId:y=null})=>{let v=(0,l.useRouter)(),[w,N]=(0,s.useState)(b);return(0,i.jsxs)(j.Zb,{id:`service-${e}`,style:{cursor:"pointer",transition:"all 0.3s ease",overflow:"hidden",borderRadius:"1rem",border:y===e?"2px solid #3b82f6":"1px solid #e5e7eb",boxShadow:y===e?"0 10px 15px -3px rgba(59, 130, 246, 0.2)":void 0},className:"group hover:shadow-lg",onClick:()=>{v.push(`/services/${e}`)},children:[(0,i.jsxs)("div",{style:{position:"relative",height:"200px",overflow:"hidden"},children:[i.jsx("img",{src:x,alt:r,style:{width:"100%",height:"100%",objectFit:"cover",transition:"transform 0.3s ease"},className:"group-hover:scale-105"}),i.jsx("div",{style:{position:"absolute",top:"0.75rem",right:"0.75rem"},children:i.jsx("button",{onClick:e=>{e.stopPropagation(),N(!w)},style:{width:"2rem",height:"2rem",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",backgroundColor:w?"#ef4444":"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(4px)",color:w?"white":"#6b7280",border:"none",cursor:"pointer"},className:"hover:bg-white",children:i.jsx(a.Z,{style:{width:"1rem",height:"1rem",fill:w?"currentColor":"none"}})})}),m>=4.8&&i.jsx("div",{style:{position:"absolute",top:"0.75rem",left:"0.75rem"},children:i.jsx("span",{style:{backgroundColor:"#FF5A5F",color:"white",fontSize:"0.75rem",fontWeight:"500",padding:"0.25rem 0.5rem",borderRadius:"9999px"},children:"熱門推薦"})})]}),(0,i.jsxs)(j.aY,{style:{padding:"1.5rem"},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"0.5rem"},children:[(0,i.jsxs)("div",{style:{flex:1},children:[i.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#111827",marginBottom:"0.5rem",lineHeight:"1.4"},children:r}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",color:"#6b7280",fontSize:"0.875rem"},children:[i.jsx(n.Z,{style:{width:"0.75rem",height:"0.75rem"}}),i.jsx("span",{children:t})]})]}),(0,i.jsxs)("div",{style:{textAlign:"right"},children:[(0,i.jsxs)("div",{style:{fontSize:"1.125rem",fontWeight:"700",color:"#111827"},children:["NT$ ",c.toLocaleString()]}),i.jsx("div",{style:{color:"#6b7280",fontSize:"0.875rem"},children:"每小時"})]})]}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",fontSize:"0.875rem",marginBottom:"1rem"},children:[i.jsx(Z.n,{serviceId:e,className:"text-sm"}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem",color:"#6b7280"},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[i.jsx(o.Z,{style:{width:"0.75rem",height:"0.75rem"}}),i.jsx("span",{children:g})]}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[i.jsx(d.Z,{style:{width:"0.75rem",height:"0.75rem"}}),(0,i.jsxs)("span",{children:["最多 ",u," 人"]})]})]})]}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",paddingTop:"0.75rem",borderTop:"1px solid #f3f4f6"},children:[i.jsx("img",{src:f,alt:p,style:{width:"1.5rem",height:"1.5rem",borderRadius:"50%",objectFit:"cover"}}),i.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280"},children:p})]})]})]})};function E(){let e=(0,l.useRouter)(),r=(0,l.useSearchParams)(),{error:t}=(0,F.pm)(),[a,o]=(0,s.useState)({query:r.get("q")||"",location:r.get("location")||"",date:r.get("date")||"",guests:parseInt(r.get("guests")||"2"),minPrice:parseInt(r.get("minPrice")||"0"),maxPrice:parseInt(r.get("maxPrice")||"5000"),minRating:parseFloat(r.get("minRating")||"0"),category:r.get("category")||"",sortBy:r.get("sortBy")||"relevance"}),[d,j]=(0,s.useState)({total:0,services:[],hasMore:!1}),[w,N]=(0,s.useState)(!1),[C,k]=(0,s.useState)(!1),[S,R]=(0,s.useState)(1),[Z,P]=(0,s.useState)(!1),[W,A]=(0,s.useState)("grid"),[_,D]=(0,s.useState)(null),[q,$]=(0,s.useState)(!1),[E,M]=(0,s.useState)([]),U=(0,s.useCallback)(()=>d.services.map((e,r)=>({id:e.id,name:e.title,latitude:25.033+(Math.random()-.5)*.1,longitude:121.5654+(Math.random()-.5)*.1,type:"service",description:`${e.guideName} • ${e.duration} • ${e.maxGuests} 人`,image:e.image,price:e.price,rating:e.rating,category:e.location})),[d.services]),H=(0,s.useCallback)(e=>{if(D(e.id),"grid"===W){let r=document.getElementById(`service-${e.id}`);r&&r.scrollIntoView({behavior:"smooth",block:"center"})}},[W]),O=[{id:"c1234567-1234-4567-8901-123456789001",title:"台北101 & 信義區深度導覽",location:"台北市信義區",price:800,rating:4.9,reviewCount:127,duration:"4小時",maxGuests:6,image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",guideName:"小美",guideAvatar:"https://images.unsplash.com/photo-1494790108755-2616b612b786?w=100&h=100&fit=crop&crop=face"},{id:"c1234567-1234-4567-8901-123456789002",title:"九份老街 & 金瓜石礦業遺址",location:"新北市瑞芳區",price:1e3,rating:4.8,reviewCount:89,duration:"6小時",maxGuests:4,image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",guideName:"阿明",guideAvatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&crop=face"},{id:"c1234567-1234-4567-8901-123456789003",title:"日月潭環湖 & 邵族文化體驗",location:"南投縣魚池鄉",price:1200,rating:4.9,reviewCount:156,duration:"8小時",maxGuests:8,image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",guideName:"小華",guideAvatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop&crop=face"},{id:"c1234567-1234-4567-8901-123456789004",title:"高雄駁二藝術特區 & 愛河",location:"高雄市鹽埕區",price:700,rating:4.7,reviewCount:94,duration:"3小時",maxGuests:5,image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",guideName:"阿強",guideAvatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop&crop=face"},{id:"c1234567-1234-4567-8901-123456789005",title:"花蓮太魯閣峽谷探險",location:"花蓮縣秀林鄉",price:1500,rating:4.9,reviewCount:203,duration:"10小時",maxGuests:6,image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",guideName:"小玲",guideAvatar:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=100&h=100&fit=crop&crop=face"},{id:"c1234567-1234-4567-8901-123456789006",title:"台南古蹟巡禮 & 美食探索",location:"台南市中西區",price:900,rating:4.8,reviewCount:167,duration:"5小時",maxGuests:4,image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=400&h=300&fit=crop",guideName:"阿德",guideAvatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=100&h=100&fit=crop&crop=face"}],V=(0,s.useCallback)(e=>O.filter(r=>!!(r.rating>=4.8||e.location&&r.location.includes(e.location))||r.maxGuests>=e.guests).sort((e,r)=>r.rating-e.rating).slice(0,3),[]),Y=(0,s.useCallback)(r=>{let t=new URLSearchParams;Object.entries(r).forEach(([e,r])=>{r&&""!==r&&0!==r&&t.set(e,r.toString())});let i=`/search${t.toString()?"?"+t.toString():""}`;e.replace(i,{scroll:!1})},[e]),X=(0,s.useCallback)(async(e,r=1,i=!1)=>{1===r?N(!0):P(!0);try{let t={total:O.length,services:K(e),hasMore:!1};i&&r>1?j(e=>({...t,services:[...e.services,...t.services]})):(j(t),M(V(e)))}catch(e){t("搜尋失敗","無法載入搜尋結果，請稍後再試")}finally{N(!1),P(!1)}},[t,V]),K=e=>O.filter(r=>{if(e.query){let t=e.query.toLowerCase();if(!r.title.toLowerCase().includes(t)&&!r.location.toLowerCase().includes(t)&&!r.guideName.toLowerCase().includes(t))return!1}return(!e.location||!!r.location.includes(e.location))&&!(r.price<e.minPrice)&&!(r.price>e.maxPrice)&&!(r.rating<e.minRating)&&!(r.maxGuests<e.guests)}).sort((r,t)=>{switch(e.sortBy){case"price_low":return r.price-t.price;case"price_high":return t.price-r.price;case"rating":return t.rating-r.rating;default:return 0}}),J=e=>{let r={...a,...e};o(r),R(1),Y(r),X(r,1)};return(0,s.useEffect)(()=>{X(a,1),M(V(a))},[X,V]),(0,i.jsxs)("div",{style:{minHeight:"100vh",background:"linear-gradient(to bottom right, #dbeafe, #ffffff, #e0e7ff)"},children:[i.jsx(B.us,{}),(0,i.jsxs)("main",{style:{minHeight:"100vh",paddingTop:"3rem"},children:[i.jsx("div",{style:{backgroundColor:"white",borderBottom:"1px solid #e5e7eb",position:"sticky",top:"0",zIndex:40,boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)"},children:(0,i.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"1rem"},children:[(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},className:"sm:flex-row sm:items-center",children:[i.jsx("div",{style:{flex:1,maxWidth:"100%"},className:"sm:max-w-2xl",children:(0,i.jsxs)("div",{className:"relative",children:[i.jsx(c.Z,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),i.jsx(v.I,{type:"text",placeholder:"搜尋地陪、景點或服務...",value:a.query,onChange:e=>J({query:e.target.value}),className:"pl-12 pr-4 py-3 rounded-xl border-gray-300 focus:ring-2 focus:ring-[#FF5A5F] focus:border-[#FF5A5F] w-full",onKeyPress:e=>{"Enter"===e.key&&X(a,1)}})]})}),(0,i.jsxs)("div",{style:{display:"flex",gap:"0.5rem"},children:[(0,i.jsxs)(y.z,{variant:"outline",onClick:()=>k(!C),className:"flex items-center gap-2 border-gray-300 hover:border-[#FF5A5F] w-full sm:w-auto justify-center",children:[i.jsx(m.Z,{className:"w-4 h-4"}),i.jsx("span",{className:"sm:inline",children:"基本篩選"}),Object.values(a).some(e=>e&&""!==e&&0!==e&&"relevance"!==e)&&i.jsx("span",{className:"text-[#FF5A5F]",children:"●"})]}),(0,i.jsxs)(y.z,{variant:q?"default":"outline",onClick:()=>$(!q),className:"flex items-center gap-2 border-gray-300 hover:border-[#FF5A5F] w-full sm:w-auto justify-center",children:[i.jsx(h.Z,{className:"w-4 h-4"}),i.jsx("span",{className:"sm:inline",children:"進階搜尋"})]})]})]}),i.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:[{label:"高評分",key:"rating",value:4.5},{label:"經濟實惠",key:"price",value:{minPrice:0,maxPrice:800}},{label:"一日遊",key:"duration",value:"8小時"},{label:"小團體",key:"guests",value:4}].map(e=>i.jsx("button",{onClick:()=>{"rating"===e.key?J({minRating:e.value}):"price"===e.key?J(e.value):"guests"===e.key&&J({guests:e.value})},className:"px-3 py-1 rounded-full border border-gray-300 text-sm text-gray-600 hover:border-[#FF5A5F] hover:text-[#FF5A5F] transition-colors",children:e.label},e.label))}),C&&(0,i.jsxs)("div",{className:"mt-4 p-6 bg-gray-50 rounded-xl border border-gray-200",children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"地點"}),(0,i.jsxs)("select",{value:a.location,onChange:e=>J({location:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#FF5A5F] focus:border-[#FF5A5F]",children:[i.jsx("option",{value:"",children:"所有地點"}),i.jsx("option",{value:"台北市",children:"台北市"}),i.jsx("option",{value:"新北市",children:"新北市"}),i.jsx("option",{value:"台中市",children:"台中市"}),i.jsx("option",{value:"台南市",children:"台南市"}),i.jsx("option",{value:"高雄市",children:"高雄市"}),i.jsx("option",{value:"花蓮縣",children:"花蓮縣"}),i.jsx("option",{value:"南投縣",children:"南投縣"})]})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"日期"}),i.jsx(v.I,{type:"date",value:a.date,onChange:e=>J({date:e.target.value}),min:new Date().toISOString().split("T")[0],className:"w-full"})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"人數"}),i.jsx("select",{value:a.guests,onChange:e=>J({guests:parseInt(e.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#FF5A5F] focus:border-[#FF5A5F]",children:[1,2,3,4,5,6,7,8].map(e=>(0,i.jsxs)("option",{value:e,children:[e," 位"]},e))})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"排序方式"}),(0,i.jsxs)("select",{value:a.sortBy,onChange:e=>J({sortBy:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#FF5A5F] focus:border-[#FF5A5F]",children:[i.jsx("option",{value:"relevance",children:"相關性"}),i.jsx("option",{value:"price_low",children:"價格由低到高"}),i.jsx("option",{value:"price_high",children:"價格由高到低"}),i.jsx("option",{value:"rating",children:"評分由高到低"}),i.jsx("option",{value:"newest",children:"最新發布"})]})]})]}),(0,i.jsxs)("div",{className:"mt-6",children:[(0,i.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["價格範圍 (NT$ ",a.minPrice," - NT$ ",a.maxPrice,")"]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"最低價格"}),i.jsx(v.I,{type:"number",placeholder:"0",value:a.minPrice||"",onChange:e=>J({minPrice:parseInt(e.target.value)||0}),min:"0",step:"100",className:"w-full"})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"最高價格"}),i.jsx(v.I,{type:"number",placeholder:"5000",value:a.maxPrice||"",onChange:e=>J({maxPrice:parseInt(e.target.value)||5e3}),min:"0",step:"100",className:"w-full"})]})]})]}),(0,i.jsxs)("div",{className:"mt-6",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"最低評分"}),i.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:[0,4,4.5,4.8,4.9].map(e=>(0,i.jsxs)("button",{onClick:()=>J({minRating:a.minRating===e?0:e}),className:`px-4 py-2 rounded-lg border text-sm transition-colors ${a.minRating===e?"bg-[#FF5A5F] text-white border-[#FF5A5F]":"bg-white text-gray-700 border-gray-300 hover:border-[#FF5A5F] hover:text-[#FF5A5F]"}`,children:[0===e?"全部":`${e}+`,e>0&&i.jsx(g.Z,{className:"w-3 h-3 inline ml-1"})]},e))})]}),i.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:i.jsx(y.z,{variant:"outline",onClick:()=>{let e={query:"",location:"",date:"",guests:2,minPrice:0,maxPrice:5e3,minRating:0,category:"",sortBy:"relevance"};o(e),Y(e),X(e,1)},className:"text-sm",children:"清除所有篩選"})})]}),q&&i.jsx("div",{className:"mt-6",children:i.jsx(G,{onSearch:e=>{let r={...a,query:e.query||"",location:e.location||"",guests:e.guests||2,minPrice:e.priceRange?.min||0,maxPrice:e.priceRange?.max||5e3,minRating:e.rating||0,category:e.categories?.join(",")||"",sortBy:e.sortBy||"relevance"};o(r),R(1),$(!1),Y(r),X(r,1)},onClose:()=>$(!1),initialFilters:{query:a.query,location:a.location,guests:a.guests,priceRange:{min:a.minPrice,max:a.maxPrice},rating:a.minRating}})}),!q&&!C&&E.length>0&&d.services.length>0&&(0,i.jsxs)("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl border border-blue-200",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(u.Z,{className:"w-5 h-5 text-blue-600"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"為您推薦"}),i.jsx(x.Z,{className:"w-4 h-4 text-green-500"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:E.map(r=>i.jsx("div",{className:"bg-white rounded-lg p-3 border border-gray-200 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>e.push(`/services/${r.id}`),children:(0,i.jsxs)("div",{className:"flex gap-3",children:[i.jsx("img",{src:r.image,alt:r.title,className:"w-16 h-16 rounded-lg object-cover"}),(0,i.jsxs)("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-medium text-sm text-gray-900 truncate",children:r.title}),(0,i.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[i.jsx(n.Z,{className:"w-3 h-3 text-gray-400"}),i.jsx("span",{className:"text-xs text-gray-500 truncate",children:r.location})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[i.jsx(g.Z,{className:"w-3 h-3 text-yellow-400 fill-current"}),i.jsx("span",{className:"text-xs font-medium",children:r.rating})]}),(0,i.jsxs)("span",{className:"text-sm font-semibold text-blue-600",children:["NT$ ",r.price.toLocaleString()]})]})]})]})},r.id))})]})]})}),(0,i.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"2rem 1.5rem"},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1.5rem"},children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("h1",{style:{fontSize:"1.875rem",fontWeight:"700",color:"#111827"},children:["搜尋結果",!w&&(0,i.jsxs)("span",{style:{color:"#6b7280",fontWeight:"400",marginLeft:"0.5rem"},children:["(",d.total," 個結果)"]})]}),a.query&&(0,i.jsxs)("p",{style:{color:"#6b7280",marginTop:"0.25rem"},children:["搜尋「",i.jsx("span",{style:{fontWeight:"500"},children:a.query}),"」"]})]}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[(0,i.jsxs)("div",{style:{fontSize:"0.875rem",color:"#6b7280"},children:["relevance"===a.sortBy&&"按相關性排序","price_low"===a.sortBy&&"價格由低到高","price_high"===a.sortBy&&"價格由高到低","rating"===a.sortBy&&"評分由高到低","newest"===a.sortBy&&"最新發布"]}),(0,i.jsxs)("div",{style:{display:"flex",backgroundColor:"#f3f4f6",borderRadius:"0.5rem",padding:"0.25rem"},children:[(0,i.jsxs)("button",{onClick:()=>A("grid"),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0.75rem",borderRadius:"0.375rem",border:"none",backgroundColor:"grid"===W?"white":"transparent",color:"grid"===W?"#111827":"#6b7280",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},children:[i.jsx(p.Z,{style:{width:"1rem",height:"1rem"}}),"格子檢視"]}),(0,i.jsxs)("button",{onClick:()=>A("map"),style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0.75rem",borderRadius:"0.375rem",border:"none",backgroundColor:"map"===W?"white":"transparent",color:"map"===W?"#111827":"#6b7280",fontSize:"0.875rem",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},children:[i.jsx(f.Z,{style:{width:"1rem",height:"1rem"}}),"地圖檢視"]})]})]})]}),w?i.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"5rem 0"},children:i.jsx(I.gb,{size:"lg"})}):(0,i.jsxs)(i.Fragment,{children:[d.services.length>0?"grid"===W?i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem"},children:d.services.map(e=>i.jsx(L,{...e,selectedLocationId:_},e.id))}):(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 400px",gap:"1rem",height:"600px"},children:[i.jsx("div",{style:{borderRadius:"0.5rem",overflow:"hidden"},children:i.jsx(T,{center:{lat:25.033,lng:121.5654},zoom:12,locations:U(),selectedLocation:_||void 0,onLocationSelect:H,showUserLocation:!0,showControls:!0,style:{height:"100%"}})}),i.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem",overflowY:"auto",padding:"0.5rem"},children:d.services.map(e=>i.jsx("div",{style:{padding:"1rem",backgroundColor:_===e.id?"#f0f9ff":"white",borderRadius:"0.5rem",border:_===e.id?"2px solid #3b82f6":"1px solid #e5e7eb",cursor:"pointer",transition:"all 0.2s"},className:"hover:shadow-md",onClick:()=>H({id:e.id}),children:(0,i.jsxs)("div",{style:{display:"flex",gap:"0.75rem"},children:[i.jsx("img",{src:e.image,alt:e.title,style:{width:"80px",height:"80px",borderRadius:"0.5rem",objectFit:"cover"}}),(0,i.jsxs)("div",{style:{flex:1,minWidth:0},children:[i.jsx("h3",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#111827",marginBottom:"0.25rem",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.title}),(0,i.jsxs)("p",{style:{fontSize:"0.75rem",color:"#6b7280",marginBottom:"0.5rem"},children:[e.guideName," • ",e.location]}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[i.jsx(g.Z,{style:{width:"0.875rem",height:"0.875rem",color:"#f59e0b",fill:"currentColor"}}),i.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"500",color:"#111827"},children:e.rating})]}),(0,i.jsxs)("div",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#111827"},children:["NT$ ",e.price.toLocaleString()]})]})]})]})},e.id))})]}):(0,i.jsxs)("div",{style:{textAlign:"center",padding:"5rem 0"},children:[i.jsx("div",{style:{width:"6rem",height:"6rem",backgroundColor:"#f3f4f6",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem"},children:i.jsx(c.Z,{style:{width:"2.5rem",height:"2.5rem",color:"#9ca3af"}})}),i.jsx("h3",{style:{fontSize:"1.125rem",fontWeight:"500",color:"#111827",marginBottom:"0.5rem"},children:"找不到符合條件的結果"}),i.jsx("p",{style:{color:"#6b7280",marginBottom:"1.5rem"},children:"試試調整搜尋條件或篩選器"}),i.jsx(y.z,{variant:"outline",onClick:()=>{k(!0)},children:"調整篩選條件"})]}),d.hasMore&&i.jsx("div",{style:{textAlign:"center",marginTop:"3rem"},children:i.jsx(y.z,{variant:"outline",onClick:()=>{let e=S+1;R(e),X(a,e,!0)},disabled:Z,style:{padding:"0.75rem 2rem"},children:Z?(0,i.jsxs)(i.Fragment,{children:[i.jsx(b.Z,{style:{width:"1rem",height:"1rem",marginRight:"0.5rem"},className:"animate-spin"}),"載入中..."]}):"載入更多結果"})})]})]})]}),i.jsx(z,{})]})}},4792:(e,r,t)=>{"use strict";t.d(r,{L6:()=>o,d8:()=>a,us:()=>n});var i=t(95344),s=t(22254),l=t(71532);function a({showBackButton:e=!1,backButtonText:r="返回",showHomeButton:t=!0,homeButtonText:a="回到首頁",customBackAction:n}){let o=(0,s.useRouter)();return(0,i.jsxs)(i.Fragment,{children:[t&&i.jsx("div",{style:{position:"absolute",top:"1rem",left:"1rem",zIndex:50},className:"sm:top-8 sm:left-8",children:(0,i.jsxs)("button",{onClick:()=>{o.push("/")},style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 0.75rem",backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)",borderRadius:"0.5rem",border:"1px solid rgba(255, 255, 255, 0.3)",cursor:"pointer",transition:"all 0.2s",fontSize:"0.75rem",fontWeight:"500",color:"#374151",boxShadow:"0 1px 3px 0 rgba(0, 0, 0, 0.1)"},className:"hover:bg-white hover:shadow-md sm:text-sm sm:px-4 sm:py-3",children:[(0,i.jsxs)("span",{className:"hidden sm:inline",children:["← ",a]}),i.jsx("span",{className:"sm:hidden",children:"← 首頁"})]})}),e&&i.jsx("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"1rem 1.5rem",paddingTop:t?"4rem":"1rem"},children:(0,i.jsxs)("button",{onClick:()=>{n?n():o.back()},style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#6b7280",background:"none",border:"none",cursor:"pointer",fontSize:"0.875rem",transition:"color 0.2s",padding:"0.5rem 0"},className:"hover:text-gray-900",children:[i.jsx(l.Z,{style:{width:"1.25rem",height:"1.25rem"}}),i.jsx("span",{children:r})]})})]})}function n({text:e="回到首頁"}){return i.jsx(a,{showHomeButton:!0,homeButtonText:e,showBackButton:!1})}function o({backButtonText:e="返回",homeButtonText:r="回到首頁",customBackAction:t}){return i.jsx(a,{showHomeButton:!0,showBackButton:!0,backButtonText:e,homeButtonText:r,customBackAction:t})}},33311:(e,r,t)=>{"use strict";t.d(r,{n:()=>n});var i=t(95344),s=t(3729),l=t(76755),a=t(89895);function n({serviceId:e,guideId:r,className:t="",showDetails:n=!1}){let[o,d]=(0,s.useState)(null),[c,m]=(0,s.useState)(!0);(0,s.useEffect)(()=>{h()},[e,r]);let h=async()=>{try{m(!0);let t=new URLSearchParams;e&&t.append("serviceId",e),r&&t.append("guideId",r),t.append("limit","1");let i=await fetch(`/api/reviews?${t.toString()}`);if(!i.ok)throw Error("獲取評價統計失敗");let s=await i.json();d(s.statistics)}catch(e){}finally{m(!1)}};return c?i.jsx("div",{className:t,children:(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx("div",{style:{width:"5rem",height:"1rem",backgroundColor:"#e5e7eb",borderRadius:"0.25rem"}}),i.jsx("div",{style:{width:"3rem",height:"1rem",backgroundColor:"#e5e7eb",borderRadius:"0.25rem"}})]})}):o?i.jsx("div",{className:t,children:0===o.totalReviews?(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#6b7280",fontSize:"0.875rem"},children:[i.jsx(l.Z,{style:{width:"1rem",height:"1rem"}}),i.jsx("span",{children:"暫無評價"})]}):(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem"},children:[((e,r="md")=>{let t={sm:"w-3 h-3",md:"w-4 h-4"};return i.jsx("div",{style:{display:"flex",gap:"0.125rem"},children:[1,2,3,4,5].map(s=>i.jsx(l.Z,{style:{color:s<=e?"#f59e0b":"#e5e7eb",fill:s<=e?"#f59e0b":"none"},className:t[r]},s))})})(Math.round(o.averageRating)),i.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#111827"},children:o.averageRating})]}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.25rem",color:"#6b7280",fontSize:"0.875rem"},children:[i.jsx(a.Z,{style:{width:"0.875rem",height:"0.875rem"}}),(0,i.jsxs)("span",{children:[o.totalReviews," 則評價"]})]}),n&&i.jsx("div",{style:{display:"flex",gap:"0.5rem",fontSize:"0.75rem",color:"#6b7280"},children:[5,4,3,2,1].map(e=>(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.125rem"},children:[(0,i.jsxs)("span",{children:[e,"★"]}),(0,i.jsxs)("span",{children:["(",o.ratingDistribution[e],")"]})]},e))})]})}):null}},5094:(e,r,t)=>{"use strict";t.d(r,{z:()=>d});var i=t(95344),s=t(3729),l=t(32751),a=t(49247),n=t(11453);let o=(0,a.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",guidee:"bg-gradient-guidee text-white hover:shadow-guidee-lg"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",xl:"h-12 rounded-lg px-10 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef(({className:e,variant:r,size:t,asChild:s=!1,loading:a=!1,children:d,disabled:c,...m},h)=>{let g=s?l.g7:"button",u=a?(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsxs)("svg",{className:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d]}):d;return i.jsx(g,{className:(0,n.cn)(o({variant:r,size:t,className:e})),ref:h,disabled:c||a,...m,children:u})});d.displayName="Button"},23673:(e,r,t)=>{"use strict";t.d(r,{Ol:()=>n,SZ:()=>d,Zb:()=>a,aY:()=>c,ll:()=>o});var i=t(95344),s=t(3729),l=t(11453);let a=s.forwardRef(({className:e,...r},t)=>i.jsx("div",{ref:t,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));a.displayName="Card";let n=s.forwardRef(({className:e,...r},t)=>i.jsx("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...r}));n.displayName="CardHeader";let o=s.forwardRef(({className:e,children:r,...t},s)=>i.jsx("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t,children:r}));o.displayName="CardTitle";let d=s.forwardRef(({className:e,...r},t)=>i.jsx("p",{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",e),...r}));d.displayName="CardDescription";let c=s.forwardRef(({className:e,...r},t)=>i.jsx("div",{ref:t,className:(0,l.cn)("p-6 pt-0",e),...r}));c.displayName="CardContent",s.forwardRef(({className:e,...r},t)=>i.jsx("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter"},46540:(e,r,t)=>{"use strict";t.d(r,{I:()=>a});var i=t(95344),s=t(3729),l=t(11453);let a=s.forwardRef(({className:e,type:r,error:t,label:a,icon:n,...o},d)=>{let c=s.useId();return(0,i.jsxs)("div",{className:"space-y-2",children:[a&&i.jsx("label",{htmlFor:c,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:a}),(0,i.jsxs)("div",{className:"relative",children:[n&&i.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:n}),i.jsx("input",{id:c,type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n&&"pl-10",t&&"border-destructive focus-visible:ring-destructive",e),ref:d,...o})]}),t&&i.jsx("p",{className:"text-sm text-destructive",children:t})]})});a.displayName="Input"},58378:(e,r,t)=>{"use strict";t.d(r,{gb:()=>l});var i=t(95344);t(3729);var s=t(11453);function l({size:e="md",variant:r="spinner",className:t,text:l}){let a={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"},n={sm:"text-sm",md:"text-base",lg:"text-lg"};return"spinner"===r?(0,i.jsxs)("div",{className:(0,s.cn)("flex flex-col items-center justify-center",t),children:[i.jsx("div",{className:(0,s.cn)("animate-spin rounded-full border-2 border-gray-300 border-t-[#FF5A5F]",a[e])}),l&&i.jsx("p",{className:(0,s.cn)("mt-2 text-gray-600",n[e]),children:l})]}):"dots"===r?(0,i.jsxs)("div",{className:(0,s.cn)("flex flex-col items-center justify-center",t),children:[i.jsx("div",{className:"flex space-x-1",children:[0,1,2].map(r=>i.jsx("div",{className:(0,s.cn)("bg-[#FF5A5F] rounded-full animate-pulse","sm"===e?"w-2 h-2":"md"===e?"w-3 h-3":"w-4 h-4"),style:{animationDelay:`${.2*r}s`,animationDuration:"1.2s"}},r))}),l&&i.jsx("p",{className:(0,s.cn)("mt-2 text-gray-600",n[e]),children:l})]}):"pulse"===r?(0,i.jsxs)("div",{className:(0,s.cn)("flex flex-col items-center justify-center",t),children:[i.jsx("div",{className:(0,s.cn)("bg-[#FF5A5F] rounded-full animate-pulse",a[e])}),l&&i.jsx("p",{className:(0,s.cn)("mt-2 text-gray-600",n[e]),children:l})]}):null}},72032:(e,r,t)=>{"use strict";t.d(r,{pm:()=>o}),t(95344);var i=t(3729),s=t(7060),l=t(66138),a=t(45961),n=t(91991);function o(){let[e,r]=(0,i.useState)([]),t=e=>{let t=Math.random().toString(36).substr(2,9),i={id:t,duration:5e3,...e};return r(e=>[...e,i]),t};return{toasts:e,addToast:t,removeToast:e=>{r(r=>r.filter(r=>r.id!==e))},success:(e,r)=>t({type:"success",title:e,message:r}),error:(e,r)=>t({type:"error",title:e,message:r}),warning:(e,r)=>t({type:"warning",title:e,message:r}),info:(e,r)=>t({type:"info",title:e,message:r})}}s.Z,l.Z,a.Z,n.Z},86712:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>l,__esModule:()=>s,default:()=>a});let i=(0,t(86843).createProxy)(String.raw`/Users/zoechang/projects/Guidee/src/app/(main)/search/page.tsx`),{__esModule:s,$$typeof:l}=i,a=i.default}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),i=r.X(0,[1216,8039,4757,8290],()=>t(38935));module.exports=i})();