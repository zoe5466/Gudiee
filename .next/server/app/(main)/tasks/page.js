(()=>{var e={};e.id=7069,e.ids=[7069],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},74364:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>g,tree:()=>d});var r=t(50482),a=t(69108),l=t(62563),n=t.n(l),i=t(68300),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);t.d(s,c);let d=["",{children:["(main)",{children:["tasks",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,64822)),"/Users/zoechang/projects/Guidee/src/app/(main)/tasks/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,11808)),"/Users/zoechang/projects/Guidee/src/app/(main)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,98890)),"/Users/zoechang/projects/Guidee/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/zoechang/projects/Guidee/src/app/(main)/tasks/page.tsx"],x="/(main)/tasks/page",m={require:t,loadChunk:()=>Promise.resolve()},g=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(main)/tasks/page",pathname:"/tasks",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},62609:(e,s,t)=>{Promise.resolve().then(t.bind(t,12416))},12416:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>_});var r=t(95344),a=t(3729),l=t(22254),n=t(46064),i=t(66138),c=t(7060),d=t(73229),o=t(70141),x=t(89895),m=t(28765),g=t(17418),u=t(25390),h=t(51838),p=t(80508),b=t(55794),j=t(25545),y=t(48411),f=t(53148),N=t(35851),w=t(76755),v=t(38271),F=t(30304),Z=t(2582),A=t(72032),k=t(58378);function _(){let e=(0,l.useRouter)(),{user:s,isAuthenticated:t}=(0,Z.a)(),{success:_,error:C}=(0,A.pm)(),[P,q]=(0,a.useState)("my-tasks"),[S,T]=(0,a.useState)("all"),[L,$]=(0,a.useState)(""),[G,U]=(0,a.useState)(!1),[z,D]=(0,a.useState)(!0),[E,R]=(0,a.useState)([]),[M,W]=(0,a.useState)("all");(0,a.useEffect)(()=>{if(!t){e.push("/login");return}B()},[t,e]);let B=async()=>{D(!0);try{let e=[{id:"task-1",title:"台北古蹟文化深度導覽",description:"希望找到一位熟悉台北歷史文化的地陪，帶我們參觀故宮、中正紀念堂等重要景點，並深入了解背後的歷史故事。",category:"文化導覽",location:"台北市",budget:{min:1500,max:2500,currency:"TWD"},dateRange:{start:"2024-01-25",end:"2024-01-27",flexible:!0},duration:"6小時",maxApplicants:5,currentApplicants:3,requirements:["熟悉台北歷史","中英文流利","有導遊證照"],status:"active",createdBy:s?.id||"",createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-15T10:00:00Z",priority:"high",isUrgent:!1,tags:["文化","歷史","故宮","古蹟"]},{id:"task-2",title:"夜市美食探索之旅",description:"想要體驗正宗的台灣夜市文化，尋找道地的小吃和隱藏版美食。",category:"美食體驗",location:"台北市",budget:{min:800,max:1200,currency:"TWD"},dateRange:{start:"2024-01-20",end:"2024-01-22",flexible:!1},duration:"4小時",maxApplicants:3,currentApplicants:1,requirements:["熟悉夜市","美食達人"],status:"in_progress",createdBy:s?.id||"",createdAt:"2024-01-12T15:30:00Z",updatedAt:"2024-01-14T09:15:00Z",priority:"medium",isUrgent:!0,tags:["美食","夜市","小吃","在地體驗"]},{id:"task-3",title:"九份金瓜石攝影之旅",description:"專業攝影師陪同拍攝九份老街和金瓜石的美景，包含日落和夜景。",category:"攝影服務",location:"新北市瑞芳區",budget:{min:2e3,max:3500,currency:"TWD"},dateRange:{start:"2024-02-01",end:"2024-02-03",flexible:!0},duration:"8小時",maxApplicants:2,currentApplicants:0,requirements:["攝影技能","熟悉九份","有專業設備"],status:"draft",createdBy:s?.id||"",createdAt:"2024-01-16T11:20:00Z",updatedAt:"2024-01-16T11:20:00Z",priority:"low",isUrgent:!1,tags:["攝影","九份","金瓜石","日落","夜景"]}];R(e)}catch(e){C("載入失敗","無法載入任務列表")}finally{D(!1)}},O=E.filter(e=>{let s="all"===S||e.status===S,t=""===L||e.title.toLowerCase().includes(L.toLowerCase())||e.description.toLowerCase().includes(L.toLowerCase())||e.location.toLowerCase().includes(L.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(L.toLowerCase())),r="all"===M||"全部"===M||e.category===M;return s&&t&&r}),X=e=>({draft:"草稿",active:"進行中",in_progress:"執行中",completed:"已完成",cancelled:"已取消"})[e],H=e=>({draft:"bg-gray-100 text-gray-800",active:"bg-blue-100 text-blue-800",in_progress:"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[e],I=e=>{switch(e){case"active":return r.jsx(n.Z,{className:"w-4 h-4"});case"in_progress":return r.jsx(i.Z,{className:"w-4 h-4"});case"completed":return r.jsx(c.Z,{className:"w-4 h-4"});case"cancelled":return r.jsx(d.Z,{className:"w-4 h-4"});default:return r.jsx(o.Z,{className:"w-4 h-4"})}};return z?r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsx("div",{className:"container py-8",children:r.jsx("div",{className:"flex justify-center items-center py-20",children:r.jsx(k.gb,{size:"lg"})})})}):r.jsx("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsxs)("div",{className:"container py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"任務管理"}),r.jsx("p",{className:"text-gray-600",children:"發布任務需求，找到完美的旅遊協助"})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 mb-6",children:(0,r.jsxs)("div",{className:"flex border-b border-gray-200",children:[r.jsx("button",{onClick:()=>q("my-tasks"),className:`px-6 py-4 text-sm font-medium transition-colors ${"my-tasks"===P?"text-[#FF5A5F] border-b-2 border-[#FF5A5F]":"text-gray-600 hover:text-gray-900"}`,children:"我的任務"}),r.jsx("button",{onClick:()=>q("browse-tasks"),className:`px-6 py-4 text-sm font-medium transition-colors ${"browse-tasks"===P?"text-[#FF5A5F] border-b-2 border-[#FF5A5F]":"text-gray-600 hover:text-gray-900"}`,children:"瀏覽任務"}),r.jsx("button",{onClick:()=>q("create-task"),className:`px-6 py-4 text-sm font-medium transition-colors ${"create-task"===P?"text-[#FF5A5F] border-b-2 border-[#FF5A5F]":"text-gray-600 hover:text-gray-900"}`,children:"發布任務"})]})}),"my-tasks"===P&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"總任務"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:E.length})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:r.jsx(o.Z,{className:"w-6 h-6 text-blue-600"})})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"進行中"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:E.filter(e=>"active"===e.status).length})]}),r.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center",children:r.jsx(n.Z,{className:"w-6 h-6 text-yellow-600"})})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"已完成"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:E.filter(e=>"completed"===e.status).length})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center",children:r.jsx(c.Z,{className:"w-6 h-6 text-green-600"})})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"申請者"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:E.reduce((e,s)=>e+s.currentApplicants,0)})]}),r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:r.jsx(x.Z,{className:"w-6 h-6 text-purple-600"})})]})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[(0,r.jsxs)("div",{className:"relative flex-1 max-w-md",children:[r.jsx(m.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",placeholder:"搜尋任務...",value:L,onChange:e=>$(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-[#FF5A5F] focus:border-[#FF5A5F]"})]}),r.jsx("select",{value:M,onChange:e=>W(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-[#FF5A5F] focus:border-[#FF5A5F]",children:["全部","文化導覽","美食體驗","攝影服務","購物助手","交通協助","其他"].map(e=>r.jsx("option",{value:"全部"===e?"all":e,children:e},e))})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("button",{onClick:()=>U(!G),className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:border-[#FF5A5F] transition-colors",children:[r.jsx(g.Z,{className:"w-4 h-4"}),"篩選",r.jsx(u.Z,{className:`w-4 h-4 transition-transform ${G?"rotate-180":""}`})]}),(0,r.jsxs)("button",{onClick:()=>q("create-task"),className:"flex items-center gap-2 px-4 py-2 bg-[#FF5A5F] text-white rounded-lg hover:bg-[#E1464A] transition-colors",children:[r.jsx(h.Z,{className:"w-4 h-4"}),"發布任務"]})]})]}),G&&r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[r.jsx("h3",{className:"text-sm font-medium text-gray-700 w-full mb-2",children:"狀態篩選："}),["all","draft","active","in_progress","completed","cancelled"].map(e=>r.jsx("button",{onClick:()=>T(e),className:`px-3 py-1 rounded-full text-sm transition-colors ${S===e?"bg-[#FF5A5F] text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"all"===e?"全部":X(e)},e))]})})]}),O.length>0?r.jsx("div",{className:"space-y-4",children:O.map(e=>r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-start justify-between gap-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("div",{className:"flex items-start justify-between mb-4",children:(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.title}),e.isUrgent&&r.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 text-xs font-medium rounded-full",children:"緊急"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,r.jsxs)("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${H(e.status)}`,children:[I(e.status),X(e.status)]}),r.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:e.category})]}),r.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2",children:e.description})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 text-sm text-gray-600 mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(p.Z,{className:"w-4 h-4"}),r.jsx("span",{children:e.location})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(b.Z,{className:"w-4 h-4"}),r.jsx("span",{children:new Date(e.dateRange.start).toLocaleDateString("zh-TW")})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(j.Z,{className:"w-4 h-4"}),r.jsx("span",{children:e.duration})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(y.Z,{className:"w-4 h-4"}),(0,r.jsxs)("span",{children:["NT$ ",e.budget.min.toLocaleString()," - ",e.budget.max.toLocaleString()]})]})]}),r.jsx("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[r.jsx(x.Z,{className:"w-4 h-4"}),(0,r.jsxs)("span",{children:[e.currentApplicants,"/",e.maxApplicants," 申請者"]})]}),r.jsx("div",{className:"flex flex-wrap gap-1",children:e.tags.slice(0,3).map((e,s)=>r.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:e},s))})]})})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 lg:min-w-[150px]",children:["active"===e.status&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{className:"btn btn-primary btn-sm flex items-center justify-center gap-2",children:[r.jsx(f.Z,{className:"w-4 h-4"}),"查看申請"]}),(0,r.jsxs)("button",{className:"btn btn-secondary btn-sm flex items-center justify-center gap-2",children:[r.jsx(o.Z,{className:"w-4 h-4"}),"編輯"]})]}),"draft"===e.status&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("button",{className:"btn btn-primary btn-sm",children:"發布任務"}),(0,r.jsxs)("button",{className:"btn btn-secondary btn-sm flex items-center justify-center gap-2",children:[r.jsx(o.Z,{className:"w-4 h-4"}),"編輯"]})]}),"in_progress"===e.status&&(0,r.jsxs)("button",{className:"btn btn-primary btn-sm flex items-center justify-center gap-2",children:[r.jsx(N.Z,{className:"w-4 h-4"}),"聊天"]}),"completed"===e.status&&(0,r.jsxs)("button",{className:"btn btn-secondary btn-sm flex items-center justify-center gap-2",children:[r.jsx(w.Z,{className:"w-4 h-4"}),"評價"]}),(0,r.jsxs)("button",{className:"btn btn-ghost btn-sm flex items-center justify-center gap-2 text-red-600 hover:text-red-700",children:[r.jsx(v.Z,{className:"w-4 h-4"}),"刪除"]})]})]})},e.id))}):(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[r.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(o.Z,{className:"w-10 h-10 text-gray-400"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"all"===S?"還沒有任何任務":`沒有${X(S)}的任務`}),r.jsx("p",{className:"text-gray-600 mb-6",children:"all"===S?"發布您的第一個任務，找到完美的旅遊協助！":"試試調整篩選條件或發布新任務"}),r.jsx("button",{onClick:()=>q("create-task"),className:"btn btn-primary",children:"發布任務"})]})]}),"browse-tasks"===P&&(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[r.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(F.Z,{className:"w-10 h-10 text-gray-400"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"瀏覽任務功能"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"此功能開發中，即將為您提供豐富的任務瀏覽體驗"}),r.jsx("p",{className:"text-sm text-gray-500",children:"未來您可以在這裡瀏覽其他旅客發布的任務，並申請成為他們的地陪"})]}),"create-task"===P&&(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[r.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(h.Z,{className:"w-10 h-10 text-gray-400"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"發布任務功能"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"此功能開發中，即將為您提供完整的任務發布流程"}),r.jsx("p",{className:"text-sm text-gray-500",children:"未來您可以在這裡詳細描述您的需求，設定預算和時間，找到最適合的地陪"})]})]})})}},58378:(e,s,t)=>{"use strict";t.d(s,{gb:()=>l});var r=t(95344);t(3729);var a=t(11453);function l({size:e="md",variant:s="spinner",className:t,text:l}){let n={sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"},i={sm:"text-sm",md:"text-base",lg:"text-lg"};return"spinner"===s?(0,r.jsxs)("div",{className:(0,a.cn)("flex flex-col items-center justify-center",t),children:[r.jsx("div",{className:(0,a.cn)("animate-spin rounded-full border-2 border-gray-300 border-t-[#FF5A5F]",n[e])}),l&&r.jsx("p",{className:(0,a.cn)("mt-2 text-gray-600",i[e]),children:l})]}):"dots"===s?(0,r.jsxs)("div",{className:(0,a.cn)("flex flex-col items-center justify-center",t),children:[r.jsx("div",{className:"flex space-x-1",children:[0,1,2].map(s=>r.jsx("div",{className:(0,a.cn)("bg-[#FF5A5F] rounded-full animate-pulse","sm"===e?"w-2 h-2":"md"===e?"w-3 h-3":"w-4 h-4"),style:{animationDelay:`${.2*s}s`,animationDuration:"1.2s"}},s))}),l&&r.jsx("p",{className:(0,a.cn)("mt-2 text-gray-600",i[e]),children:l})]}):"pulse"===s?(0,r.jsxs)("div",{className:(0,a.cn)("flex flex-col items-center justify-center",t),children:[r.jsx("div",{className:(0,a.cn)("bg-[#FF5A5F] rounded-full animate-pulse",n[e])}),l&&r.jsx("p",{className:(0,a.cn)("mt-2 text-gray-600",i[e]),children:l})]}):null}},72032:(e,s,t)=>{"use strict";t.d(s,{pm:()=>c}),t(95344);var r=t(3729),a=t(7060),l=t(66138),n=t(45961),i=t(91991);function c(){let[e,s]=(0,r.useState)([]),t=e=>{let t=Math.random().toString(36).substr(2,9),r={id:t,duration:5e3,...e};return s(e=>[...e,r]),t};return{toasts:e,addToast:t,removeToast:e=>{s(s=>s.filter(s=>s.id!==e))},success:(e,s)=>t({type:"success",title:e,message:s}),error:(e,s)=>t({type:"error",title:e,message:s}),warning:(e,s)=>t({type:"warning",title:e,message:s}),info:(e,s)=>t({type:"info",title:e,message:s})}}a.Z,l.Z,n.Z,i.Z},64822:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>a,default:()=>n});let r=(0,t(86843).createProxy)(String.raw`/Users/zoechang/projects/Guidee/src/app/(main)/tasks/page.tsx`),{__esModule:a,$$typeof:l}=r,n=r.default}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[1216,8039,4757,8290],()=>t(74364));module.exports=r})();