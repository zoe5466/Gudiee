# Guidee å…§å®¹å°å‘åª’åˆå¹³å° - åŠŸèƒ½è¦åŠƒæ–‡ä»¶

## ğŸ“‹ æ¦‚è¿°

å°‡ Guidee å¾ç´”ã€Œåª’åˆå¹³å°ã€å‡ç´šç‚ºã€Œå…§å®¹å°å‘çš„åª’åˆå¹³å°ã€ï¼Œè®“åœ°é™ªå’Œæ¶ˆè²»è€…å¯ä»¥ï¼š
- **åœ°é™ª**ï¼šç™¼å¸ƒæ—…éŠé«”é©—/è²¼æ–‡ï¼Œä¸¦åœ¨æ–‡ç« ä¸­åµŒå…¥è‡ªå·±çš„å•†å“æœå‹™
- **æ¶ˆè²»è€…**ï¼šç™¼å¸ƒæ—…éŠæ¨è–¦/è²¼æ–‡ï¼Œä¸¦åœ¨æ–‡ç« ä¸­åµŒå…¥æ¨è–¦çš„åœ°é™ªå•†å“

---

## ğŸ—„ï¸ æ•¸æ“šåº« Schema è¨­è¨ˆ

### 1. Post è¡¨ (è²¼æ–‡)
```prisma
model Post {
  id                String      @id @default(cuid())
  createdAt         DateTime    @default(now())
  updatedAt         DateTime    @updatedAt

  // åŸºæœ¬è³‡è¨Š
  title             String      @db.VarChar(255)
  content           String      @db.Text        // å¯Œæ–‡æœ¬ç·¨è¼¯å™¨å…§å®¹
  coverImage        String?     // å°é¢åœ–

  // ä½œè€…è³‡è¨Š
  authorId          String
  author            User        @relation("PostAuthor", fields: [authorId], references: [id], onDelete: Cascade)
  authorType        String      @db.VarChar(50) // "guide" or "consumer"

  // åˆ†é¡å’Œæ¨™ç±¤
  category          String      @db.VarChar(100) // æ—…éŠé¡åˆ¥: food, nature, culture, etc.
  tags              String[]    // æ¨™ç±¤é™£åˆ—
  location          String?     // åœ°é»

  // çµ±è¨ˆè³‡è¨Š
  viewCount         Int         @default(0)
  likeCount         Int         @default(0)
  commentCount      Int         @default(0)
  shareCount        Int         @default(0)

  // ç‹€æ…‹
  status            String      @default("published") // published, draft, archived
  isPublished       Boolean     @default(true)
  publishedAt       DateTime?

  // é—œè¯è³‡è¨Š
  likes             PostLike[]
  comments          PostComment[]
  embeddedServices  PostServiceEmbed[]

  @@index([authorId])
  @@index([category])
  @@index([status])
  @@fulltext([title, content]) // MySQL å…¨æ–‡æœç´¢
}
```

### 2. PostServiceEmbed è¡¨ (å•†å“åµŒå…¥)
```prisma
model PostServiceEmbed {
  id                String      @id @default(cuid())
  createdAt         DateTime    @default(now())

  // è²¼æ–‡å’Œå•†å“é—œè¯
  postId            String
  post              Post        @relation(fields: [postId], references: [id], onDelete: Cascade)

  serviceId         String      // åµŒå…¥çš„æœå‹™ ID
  service           Service     @relation(fields: [serviceId], references: [id], onDelete: Cascade)

  // åµŒå…¥ä½ç½®å’Œæ¨£å¼
  position          Int         // åœ¨æ–‡ç« ä¸­çš„ä½ç½® (æ®µè½ä½ç½®)
  embedType         String      // "card" æˆ– "inline"
  customText        String?     // è‡ªå®šç¾©æ¨è–¦æ–‡æœ¬

  // è¿½è¹¤åµŒå…¥æ•ˆæœ
  clickCount        Int         @default(0)
  conversionCount   Int         @default(0) // è½‰æ›æ¬¡æ•¸ (é»æ“Šâ†’é è¨‚)

  @@unique([postId, serviceId])
  @@index([serviceId])
}
```

### 3. PostLike è¡¨ (è®š/æ”¶è—)
```prisma
model PostLike {
  id                String      @id @default(cuid())
  createdAt         DateTime    @default(now())

  postId            String
  post              Post        @relation(fields: [postId], references: [id], onDelete: Cascade)

  userId            String
  user              User        @relation(fields: [userId], references: [id], onDelete: Cascade)

  likeType          String      @default("like") // "like" æˆ– "bookmark"

  @@unique([postId, userId, likeType])
  @@index([userId])
}
```

### 4. PostComment è¡¨ (è©•è«–)
```prisma
model PostComment {
  id                String      @id @default(cuid())
  createdAt         DateTime    @default(now())
  updatedAt         DateTime    @updatedAt

  postId            String
  post              Post        @relation(fields: [postId], references: [id], onDelete: Cascade)

  authorId          String
  author            User        @relation(fields: [authorId], references: [id], onDelete: Cascade)

  content           String      @db.Text

  // å›è¦†åŠŸèƒ½
  parentCommentId   String?
  parentComment     PostComment? @relation("CommentReplies", fields: [parentCommentId], references: [id], onDelete: Cascade)
  replies           PostComment[] @relation("CommentReplies")

  @@index([postId])
  @@index([authorId])
}
```

### 5. æ›´æ–° User è¡¨
```prisma
// åœ¨ç¾æœ‰ User æ¨¡å‹ä¸­æ·»åŠ ï¼š
model User {
  // ... ç¾æœ‰æ¬„ä½

  // æ–°å¢å…§å®¹ç›¸é—œæ¬„ä½
  posts             Post[]                @relation("PostAuthor")
  postLikes         PostLike[]
  comments          PostComment[]
  bio               String?               @db.Text
  profileImage      String?
  followerCount     Int         @default(0)
  followingCount    Int         @default(0)
}
```

### 6. é—œè¯é—œä¿‚æ›´æ–°
åœ¨ Service è¡¨ä¸­æ·»åŠ ï¼š
```prisma
model Service {
  // ... ç¾æœ‰æ¬„ä½
  embeddedPosts     PostServiceEmbed[]
}
```

---

## ğŸ¯ åŠŸèƒ½æ¨¡å¡Š

### A. è²¼æ–‡ç™¼å¸ƒæ¨¡å¡Š (Post Creation)

#### 1.1 ç™¼å¸ƒè²¼æ–‡ API
- **ç«¯é»**ï¼š`POST /api/posts`
- **æ¬Šé™**ï¼šèªè­‰ç”¨æˆ¶
- **è«‹æ±‚é«”**ï¼š
  ```json
  {
    "title": "å°åŒ—ç¾é£Ÿä¹‹æ—…",
    "content": "<p>ä»Šå¤©å»äº†...</p>",
    "coverImage": "url",
    "category": "food",
    "tags": ["å°åŒ—", "ç¾é£Ÿ", "æ¨è–¦"],
    "location": "å°åŒ—",
    "status": "published"
  }
  ```

#### 1.2 ç·¨è¼¯è²¼æ–‡ API
- **ç«¯é»**ï¼š`PUT /api/posts/[id]`
- **æ¬Šé™**ï¼šä½œè€…æˆ–ç®¡ç†å“¡

#### 1.3 åˆªé™¤è²¼æ–‡ API
- **ç«¯é»**ï¼š`DELETE /api/posts/[id]`
- **æ¬Šé™**ï¼šä½œè€…æˆ–ç®¡ç†å“¡

#### 1.4 ç™¼å¸ƒè²¼æ–‡é é¢ UI
```
â”Œâ”€ ç™¼å¸ƒè²¼æ–‡ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                         â”‚
â”‚ ğŸ“ æ¨™é¡Œ [________________]              â”‚
â”‚                                         â”‚
â”‚ ğŸ–¼ï¸ å°é¢åœ– [ä¸Šå‚³åœ–ç‰‡]                     â”‚
â”‚                                         â”‚
â”‚ ğŸ“„ å…§å®¹ç·¨è¼¯å™¨ (Rich Text)                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚ â”‚ [B I U] [link] [image] etc  â”‚        â”‚
â”‚ â”‚                             â”‚        â”‚
â”‚ â”‚ åœ¨é€™è£¡è¼¸å…¥ä½ çš„æ•…äº‹...         â”‚        â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                         â”‚
â”‚ ğŸ·ï¸ åˆ†é¡ [ä¸‹æ‹‰é¸å–®]                       â”‚
â”‚ ğŸ“ åœ°é» [è¼¸å…¥]                           â”‚
â”‚ ğŸ·ï¸ æ¨™ç±¤ [tag1] [tag2] [+æ–°å¢]           â”‚
â”‚                                         â”‚
â”‚ [ğŸ’¾ å„²å­˜è‰ç¨¿] [ğŸ“¤ ç™¼å¸ƒ]                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### B. å•†å“åµŒå…¥æ¨¡å¡Š (Service Embedding)

#### 2.1 åµŒå…¥å•†å“æµç¨‹

**åœ°é™ªè¦–è§’**ï¼š
1. æ’°å¯«æ–‡ç« 
2. åœ¨æ–‡ç« ä¸­é»æ“Šã€ŒåµŒå…¥æˆ‘çš„å•†å“ã€
3. é¸æ“‡è¦åµŒå…¥çš„æœå‹™ (ä¸‹æ‹‰æ¸…å–®)
4. é¸æ“‡åµŒå…¥é¡å‹: `card` (å¡ç‰‡æ¨£å¼) æˆ– `inline` (å…§è¯æ¨£å¼)
5. å¡«å¯«è‡ªå®šç¾©æ¨è–¦æ–‡æ¡ˆ
6. é è¦½ä¸¦ç™¼å¸ƒ

**æ¶ˆè²»è€…è¦–è§’**ï¼š
1. æ’°å¯«æ¨è–¦æ–‡ç« 
2. åœ¨æ–‡ç« ä¸­é»æ“Šã€ŒåµŒå…¥æ¨è–¦å•†å“ã€
3. æœç´¢åœ°é™ªå•†å“
4. é¸æ“‡åµŒå…¥é¡å‹
5. å¡«å¯«æ¨è–¦ç†ç”±
6. ç™¼å¸ƒ

#### 2.2 åµŒå…¥å•†å“ API
- **ç«¯é»**ï¼š`POST /api/posts/[postId]/embed-service`
- **è«‹æ±‚é«”**ï¼š
  ```json
  {
    "serviceId": "service123",
    "position": 2,
    "embedType": "card",
    "customText": "é€™æ˜¯æˆ‘æœ€æ¨è–¦çš„æœå‹™ï¼"
  }
  ```

- **ç«¯é»**ï¼š`DELETE /api/posts/[postId]/embed-service/[serviceId]`

#### 2.3 å•†å“å¡ç‰‡æ¨£å¼ (Card Component)

**å¡ç‰‡æ¨£å¼ç¯„ä¾‹**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ–¼ï¸ [æœå‹™å°é¢åœ–]                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ å°åŒ—å¤è¹Ÿå°è¦½                   â”‚
â”‚ â­ 4.8 (128 è©•è«–)                â”‚
â”‚ ğŸ’° $2,500 - $4,500 / äºº          â”‚
â”‚                                 â”‚
â”‚ "é€™æ˜¯æˆ‘æœ€æ¨è–¦çš„æœå‹™ï¼"            â”‚
â”‚                                 â”‚
â”‚ ğŸ‘¤ ç”± John Guide æä¾›            â”‚
â”‚ â¡ï¸ [æŸ¥çœ‹è©³æƒ…] [ç«‹å³é è¨‚]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.4 å…§è¯æ¨£å¼ç¯„ä¾‹
```
åœ¨æ–‡ç« ä¸­ç›´æ¥æ’å…¥ï¼š
"...æˆ‘å¼·çƒˆæ¨è–¦ [å°åŒ—å¤è¹Ÿå°è¦½] æœå‹™ï¼Œ
å·²æœ‰ 128 ä½ç”¨æˆ¶çµ¦äºˆ 4.8 æ˜Ÿè©•åˆ†ã€‚
è²»ç”¨ç‚º $2,500/äººï¼Œéå¸¸åˆ’ç®—..."
```

---

### C. è²¼æ–‡å±•ç¤ºæ¨¡å¡Š (Post Display)

#### 3.1 è²¼æ–‡é é¢ (Post Detail Page)
- **è·¯ç”±**ï¼š`/posts/[id]`
- **é¡¯ç¤ºå…§å®¹**ï¼š
  - ä½œè€…è³‡è¨Š (é ­åƒã€åç¨±ã€è¿½è¹¤æŒ‰éˆ•)
  - ç™¼å¸ƒæ™‚é–“ã€ç·¨è¼¯æ™‚é–“
  - è²¼æ–‡æ¨™é¡Œå’Œå…§å®¹
  - åµŒå…¥çš„å•†å“å¡ç‰‡ (å¯äº¤äº’)
  - çµ±è¨ˆè³‡è¨Š (ç€è¦½ã€è®šã€è©•è«–ã€åˆ†äº«)
  - è©•è«–å€
  - ç›¸é—œæ¨è–¦è²¼æ–‡

#### 3.2 è²¼æ–‡åˆ—è¡¨é é¢ (Post Feed)
- **è·¯ç”±**ï¼š`/feed` æˆ– `/posts`
- **åŠŸèƒ½**ï¼š
  - ç€è¦½æ‰€æœ‰è²¼æ–‡
  - ä¾åˆ†é¡ç¯©é¸
  - ä¾åœ°é»ç¯©é¸
  - æœç´¢
  - æ’åº (æœ€æ–°ã€æœ€ç†±ã€è¶¨å‹¢)
  - ç„¡é™æ»¾å‹• / åˆ†é 

#### 3.3 æ¨è–¦ç®—æ³•
```
æ¨è–¦åˆ†æ•¸ = (è®šæ•¸ Ã— 0.4) + (è©•è«–æ•¸ Ã— 0.3)
           + (åˆ†äº«æ•¸ Ã— 0.2) + (ç€è¦½æ•¸ Ã— 0.1)
```

---

### D. äº’å‹•åŠŸèƒ½æ¨¡å¡Š (Interaction)

#### 4.1 è®š/æ”¶è—åŠŸèƒ½
```
[â¤ï¸ è®š (128)] [ğŸ”– æ”¶è— (45)] [â†—ï¸ åˆ†äº« (23)]
```

#### 4.2 è©•è«–åŠŸèƒ½
```
â”Œâ”€ è©•è«–å€ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                 â”‚
â”‚ ğŸ‘¤ User A                       â”‚
â”‚ 2å°æ™‚å‰                          â”‚
â”‚ "å¤ªæ£’äº†ï¼æˆ‘ä¹Ÿæƒ³å»ï¼"              â”‚
â”‚ [â¤ï¸ (5)] [ğŸ’¬ å›è¦†]              â”‚
â”‚                                 â”‚
â”‚   ğŸ‘¤ John Guide (ä½œè€…)          â”‚
â”‚   1å°æ™‚å‰                        â”‚
â”‚   "è¬è¬æ¨è–¦ï¼æ­¡è¿é è¨‚æˆ‘çš„æœå‹™ï¼"  â”‚
â”‚   [â¤ï¸ (2)]                      â”‚
â”‚                                 â”‚
â”‚ ğŸ‘¤ User B                       â”‚
â”‚ 1å°æ™‚å‰                          â”‚
â”‚ "è²»ç”¨å¤šå°‘ï¼Ÿ"                      â”‚
â”‚ [â¤ï¸ (3)] [ğŸ’¬ å›è¦†]              â”‚
â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è¼¸å…¥è©•è«–:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¤ ä½                        â”‚
â”‚ [åˆ†äº«ä½ çš„æƒ³æ³•...]           â”‚
â”‚ [æŒ‰ Ctrl+Enter ç™¼é€]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.3 è©•è«– API
- `POST /api/posts/[postId]/comments` - æ–°å¢è©•è«–
- `PUT /api/posts/comments/[commentId]` - ç·¨è¼¯è©•è«–
- `DELETE /api/posts/comments/[commentId]` - åˆªé™¤è©•è«–
- `POST /api/posts/comments/[commentId]/replies` - å›è¦†è©•è«–

---

### E. ç”¨æˆ¶å€‹äººé é¢æ¨¡å¡Š (User Profile)

#### 5.1 å‰µä½œè€…é é¢
- **è·¯ç”±**ï¼š`/creators/[userId]` æˆ– `/guides/[userId]`
- **é¡¯ç¤º**ï¼š
  - ä½œè€…é ­åƒã€åç¨±ã€èªè­‰æ¨™ç« 
  - å€‹äººç°¡ä»‹ (bio)
  - çµ±è¨ˆè³‡è¨Šï¼š
    - ç™¼å¸ƒè²¼æ–‡æ•¸
    - ç¸½ç€è¦½æ•¸
    - ç²‰çµ²æ•¸
  - è²¼æ–‡åˆ—è¡¨ (ç¶²æ ¼æˆ–åˆ—è¡¨)
  - ã€Œè¿½è¹¤ã€æŒ‰éˆ•
  - å¦‚æœæ˜¯åœ°é™ªï¼Œé‚„é¡¯ç¤ºä»–çš„å•†å“åˆ—è¡¨

#### 5.2 æˆ‘çš„å…§å®¹é é¢
- **è·¯ç”±**ï¼š`/my-content` æˆ– `/profile/posts`
- **åŠŸèƒ½**ï¼š
  - æˆ‘çš„è²¼æ–‡åˆ—è¡¨ (å·²ç™¼å¸ƒã€è‰ç¨¿ã€å·²å°å­˜)
  - ç·¨è¼¯/åˆªé™¤è²¼æ–‡
  - è²¼æ–‡çµ±è¨ˆ (ç€è¦½ã€è®šã€è©•è«–)
  - æ‰¹é‡æ“ä½œ (åˆªé™¤ã€æ›´æ”¹ç‹€æ…‹)
  - æˆ‘çš„è©•è«–å’Œå›è¦†
  - æˆ‘çš„æ”¶è—

#### 5.3 å€‹äººé é¢ UI
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”™ è¿”å›                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ‘¤ [é ­åƒ]     John Guide            â”‚
â”‚ â­ èªè­‰å‰µä½œè€…                        â”‚
â”‚ "ç†±æ„›åˆ†äº«å°ç£åœ¨åœ°æ–‡åŒ–"               â”‚
â”‚                                     â”‚
â”‚ [é—œæ³¨] [åˆ†äº«] [æ›´å¤š]                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“Š çµ±è¨ˆ:                             â”‚
â”‚ è²¼æ–‡: 45  |  ç€è¦½: 12.5K  |  ç²‰çµ²: 850 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“ è²¼æ–‡                              â”‚
â”‚                                     â”‚
â”‚ [è²¼æ–‡1] [è²¼æ–‡2] [è²¼æ–‡3]              â”‚
â”‚ [è²¼æ–‡4] [è²¼æ–‡5] [è²¼æ–‡6]              â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ API ç«¯é»ç¸½çµ

### Post ç›¸é—œ
| æ–¹æ³• | ç«¯é» | èªªæ˜ |
|------|------|------|
| POST | `/api/posts` | æ–°å¢è²¼æ–‡ |
| GET | `/api/posts` | ç²å–è²¼æ–‡åˆ—è¡¨ (åˆ†é /ç¯©é¸) |
| GET | `/api/posts/[id]` | ç²å–å–®å€‹è²¼æ–‡ |
| PUT | `/api/posts/[id]` | ç·¨è¼¯è²¼æ–‡ |
| DELETE | `/api/posts/[id]` | åˆªé™¤è²¼æ–‡ |
| PUT | `/api/posts/[id]/view` | å¢åŠ ç€è¦½è¨ˆæ•¸ |

### å•†å“åµŒå…¥ç›¸é—œ
| æ–¹æ³• | ç«¯é» | èªªæ˜ |
|------|------|------|
| POST | `/api/posts/[postId]/embed-service` | åµŒå…¥å•†å“ |
| DELETE | `/api/posts/[postId]/embed-service/[serviceId]` | ç§»é™¤åµŒå…¥ |
| PUT | `/api/posts/[postId]/embed-service/[serviceId]` | ç·¨è¼¯åµŒå…¥ |

### äº’å‹•ç›¸é—œ
| æ–¹æ³• | ç«¯é» | èªªæ˜ |
|------|------|------|
| POST | `/api/posts/[postId]/likes` | è®š/æ”¶è—è²¼æ–‡ |
| DELETE | `/api/posts/[postId]/likes` | å–æ¶ˆè®š/æ”¶è— |
| POST | `/api/posts/[postId]/comments` | æ–°å¢è©•è«– |
| PUT | `/api/posts/comments/[commentId]` | ç·¨è¼¯è©•è«– |
| DELETE | `/api/posts/comments/[commentId]` | åˆªé™¤è©•è«– |
| POST | `/api/posts/comments/[commentId]/replies` | æ–°å¢å›è¦† |
| POST | `/api/posts/[postId]/share` | åˆ†äº«è²¼æ–‡ |

---

## ğŸ“ å‰ç«¯ç›®éŒ„çµæ§‹

```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ post/
â”‚   â”‚   â”œâ”€â”€ post-editor.tsx          # è²¼æ–‡ç·¨è¼¯å™¨
â”‚   â”‚   â”œâ”€â”€ post-detail.tsx          # è²¼æ–‡è©³æƒ…é 
â”‚   â”‚   â”œâ”€â”€ post-card.tsx            # è²¼æ–‡å¡ç‰‡
â”‚   â”‚   â”œâ”€â”€ post-feed.tsx            # è²¼æ–‡æµ
â”‚   â”‚   â”œâ”€â”€ service-embed-card.tsx   # å•†å“åµŒå…¥å¡ç‰‡
â”‚   â”‚   â”œâ”€â”€ comment-section.tsx      # è©•è«–å€
â”‚   â”‚   â””â”€â”€ comment-input.tsx        # è©•è«–è¼¸å…¥æ¡†
â”‚   â””â”€â”€ creator/
â”‚       â”œâ”€â”€ creator-profile.tsx      # å‰µä½œè€…é é¢
â”‚       â””â”€â”€ creator-content-list.tsx # å‰µä½œè€…å…§å®¹åˆ—è¡¨
â”‚
â”œâ”€â”€ app/(main)/
â”‚   â”œâ”€â”€ feed/
â”‚   â”‚   â””â”€â”€ page.tsx                 # è²¼æ–‡æµé¦–é 
â”‚   â”œâ”€â”€ posts/
â”‚   â”‚   â”œâ”€â”€ [id]/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx             # è²¼æ–‡è©³æƒ…é 
â”‚   â”‚   â””â”€â”€ create/
â”‚   â”‚       â””â”€â”€ page.tsx             # æ–°å»ºè²¼æ–‡é 
â”‚   â”œâ”€â”€ creators/
â”‚   â”‚   â””â”€â”€ [userId]/
â”‚   â”‚       â””â”€â”€ page.tsx             # å‰µä½œè€…é é¢
â”‚   â””â”€â”€ my-content/
â”‚       â””â”€â”€ page.tsx                 # æˆ‘çš„å…§å®¹ç®¡ç†é 
â”‚
â”œâ”€â”€ app/api/
â”‚   â””â”€â”€ posts/
â”‚       â”œâ”€â”€ route.ts                 # POST åˆ—è¡¨å’Œæ–°å¢
â”‚       â”œâ”€â”€ [id]/
â”‚       â”‚   â”œâ”€â”€ route.ts             # ç²å–/æ›´æ–°/åˆªé™¤å–®å€‹ POST
â”‚       â”‚   â”œâ”€â”€ view/
â”‚       â”‚   â”‚   â””â”€â”€ route.ts         # å¢åŠ ç€è¦½è¨ˆæ•¸
â”‚       â”‚   â”œâ”€â”€ embed-service/
â”‚       â”‚   â”‚   â”œâ”€â”€ route.ts         # åµŒå…¥å•†å“
â”‚       â”‚   â”‚   â””â”€â”€ [serviceId]/
â”‚       â”‚   â”‚       â””â”€â”€ route.ts     # ç·¨è¼¯/åˆªé™¤åµŒå…¥
â”‚       â”‚   â”œâ”€â”€ likes/
â”‚       â”‚   â”‚   â””â”€â”€ route.ts         # è®š/æ”¶è—
â”‚       â”‚   â”œâ”€â”€ comments/
â”‚       â”‚   â”‚   â”œâ”€â”€ route.ts         # æ–°å¢/ç²å–è©•è«–
â”‚       â”‚   â”‚   â””â”€â”€ [commentId]/
â”‚       â”‚   â”‚       â”œâ”€â”€ route.ts     # ç·¨è¼¯/åˆªé™¤è©•è«–
â”‚       â”‚   â”‚       â””â”€â”€ replies/
â”‚       â”‚   â”‚           â””â”€â”€ route.ts # æ–°å¢å›è¦†
â”‚       â”‚   â””â”€â”€ share/
â”‚       â”‚       â””â”€â”€ route.ts         # åˆ†äº«çµ±è¨ˆ
â”‚       â””â”€â”€ feed/
â”‚           â””â”€â”€ route.ts             # ç²å–æ¨è–¦è²¼æ–‡
â”‚
â””â”€â”€ hooks/
    â”œâ”€â”€ usePost.ts                   # POST é‚è¼¯ hook
    â”œâ”€â”€ usePostEditor.ts             # ç·¨è¼¯å™¨ hook
    â””â”€â”€ useComments.ts               # è©•è«– hook
```

---

## ğŸš€ å¯¦ä½œå„ªå…ˆç´š

### Phase 1: åŸºç¤è²¼æ–‡åŠŸèƒ½ (Week 1-2)
- [ ] è¨­è¨ˆ/æ›´æ–° Prisma Schema
- [ ] å»ºç«‹ Post CRUD API
- [ ] å¯¦ç¾è²¼æ–‡ç·¨è¼¯å™¨ UI
- [ ] è²¼æ–‡è©³æƒ…é é¢

### Phase 2: å•†å“åµŒå…¥åŠŸèƒ½ (Week 3)
- [ ] å•†å“åµŒå…¥ API
- [ ] å•†å“é¸æ“‡ UI
- [ ] å•†å“å¡ç‰‡çµ„ä»¶

### Phase 3: äº’å‹•åŠŸèƒ½ (Week 4)
- [ ] è®š/æ”¶è—åŠŸèƒ½
- [ ] è©•è«–ç³»çµ±
- [ ] è©•è«– UI

### Phase 4: å€‹äººé é¢ (Week 5)
- [ ] å‰µä½œè€…é é¢
- [ ] æˆ‘çš„å…§å®¹ç®¡ç†
- [ ] çµ±è¨ˆæ•¸æ“š

### Phase 5: æ¨è–¦å’Œå„ªåŒ– (Week 6)
- [ ] æ¨è–¦ç®—æ³•
- [ ] æœç´¢å’Œç¯©é¸
- [ ] æ€§èƒ½å„ªåŒ–

---

## ğŸ“Š é—œéµæŒ‡æ¨™

- **è²¼æ–‡ç™¼å¸ƒæˆåŠŸç‡**ï¼šæ–°è²¼æ–‡æ•¸ / é–‹å§‹æ’°å¯«æ•¸
- **å…§å®¹åƒèˆ‡åº¦**ï¼š(è®š + è©•è«– + åˆ†äº«) / ç€è¦½
- **å•†å“è½‰åŒ–ç‡**ï¼šåµŒå…¥é»æ“Š / åµŒå…¥æ›å…‰
- **æ´»èºå‰µä½œè€…**ï¼šæ¯æ—¥ / æ¯æœˆç™¼å¸ƒæ–°å…§å®¹çš„ç”¨æˆ¶æ•¸
- **ç”¨æˆ¶ç•™å­˜**ï¼šD7/D30 ç•™å­˜ç‡

---

## ğŸ¨ è¨­è¨ˆè€ƒé‡

1. **å¯Œæ–‡æœ¬ç·¨è¼¯å™¨**ï¼šä½¿ç”¨ TipTapã€Quill æˆ– Draft.js
2. **åœ–ç‰‡ä¸Šå‚³**ï¼šæ•´åˆ AWS S3 æˆ– Cloudinary
3. **æ¨™ç±¤è‡ªå‹•è£œå…¨**ï¼šæ ¹æ“šç†±é–€æ¨™ç±¤æç¤º
4. **æ¨è–¦å¼•æ“**ï¼šå¯ç°¡å–®é–‹å§‹ (ç†±åº¦æ’åº)ï¼Œå¾ŒæœŸå‡ç´š ML ç®—æ³•
5. **å…§å®¹å¯©æ ¸**ï¼šå¯è€ƒæ…®äººå·¥å¯©æ ¸æˆ– AI å…§å®¹éæ¿¾

---

## ğŸ” æ¬Šé™æ§åˆ¶

| æ“ä½œ | åŒ¿å | æ¶ˆè²»è€… | åœ°é™ª | ç®¡ç†å“¡ |
|------|------|--------|------|--------|
| ç€è¦½è²¼æ–‡ | âœ… | âœ… | âœ… | âœ… |
| æ–°å¢è²¼æ–‡ | âŒ | âœ… | âœ… | âœ… |
| ç·¨è¼¯è‡ªå·±çš„è²¼æ–‡ | âŒ | âœ… | âœ… | âœ… |
| åˆªé™¤è‡ªå·±çš„è²¼æ–‡ | âŒ | âœ… | âœ… | âœ… |
| åµŒå…¥è‡ªå·±çš„å•†å“ | âŒ | âŒ | âœ… | âœ… |
| æ¨è–¦å•†å“ | âŒ | âœ… | âœ… | âœ… |
| è©•è«– | âŒ | âœ… | âœ… | âœ… |
| ç®¡ç†ä»–äººè²¼æ–‡ | âŒ | âŒ | âŒ | âœ… |

---

## ğŸ’¡ æœªä¾†æ“´å±•

1. **ç¤¾ç¾¤åŠŸèƒ½**ï¼šé—œæ³¨/ç²‰çµ²ç³»çµ±ã€ç§è¨Š
2. **å…§å®¹è®Šç¾**ï¼šæ‰“è³åŠŸèƒ½ã€è´ŠåŠ©åŠŸèƒ½
3. **AI åŠŸèƒ½**ï¼šæ™ºèƒ½æ¨™ç±¤ã€è‡ªå‹•æ‘˜è¦ã€AI æ¨è–¦
4. **ç›´æ’­åŠŸèƒ½**ï¼šåœ°é™ªç›´æ’­å°è¦½
5. **ç¤¾ç¾¤é‹ç‡Ÿ**ï¼šæ´»å‹•ã€æŒ‘æˆ°ã€æ’è¡Œæ¦œ
6. **æ•¸æ“šåˆ†æ**ï¼šå‰µä½œè€…å¾Œå°æ•¸æ“š

